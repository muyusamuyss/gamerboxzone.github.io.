window.__require=function e(t,n,o){function a(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+r+"'")}}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return a(t[r][1][e]||e)},u,u.exports,e,t,n,o)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<o.length;r++)a(o[r]);return a}({AndroidAd:[function(e,t,n){"use strict";cc._RF.push(t,"d5f16BsJYtDwIki5yZTijqQ","AndroidAd"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this.className="hms/JSBridge"}return Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!0,configurable:!0}),e.prototype.showBanner=function(e){void 0===e&&(e=0),console.log("AndroidAd\xb7\xb7\xb7 showBanner "+e)},e.prototype.hideBanner=function(){console.log("AndroidAd\xb7\xb7\xb7 hideBanner")},e.prototype.showNative=function(e){void 0===e&&(e=0),console.log("AndroidAd\xb7\xb7\xb7 showNative "+e)},e.prototype.hideNative=function(){console.log("AndroidAd\xb7\xb7\xb7 hideNative")},e.prototype.showThreeNative=function(){console.log("AndroidAd\xb7\xb7\xb7 showThreeNative")},e.prototype.showReward=function(e,t,n){console.log("AndroidAd\xb7\xb7\xb7 showReward"),e&&e()},e.prototype.RewardCallBack=function(e){var t=this;setTimeout(function(){switch(e){case-1:t.rewardError&&t.rewardError();break;case 0:t.rewardCancel&&t.rewardCancel();break;case 1:t.rewardSuccess&&t.rewardSuccess()}t.rewardSuccess=null,t.rewardCancel=null,t.rewardError=null},200)},e.prototype.showInterstitial=function(){console.log("AndroidAd\xb7\xb7\xb7 showInterstitial")},e.prototype.interCallBack=function(e){"viewed"!=e&&console.log("\u91cd\u65b0\u64ad\u653e\u63d2\u5c4f\u5e7f\u544a")},e}();n.default=o,window.JSAndroid=o.instance,cc._RF.pop()},{}],AppBox:[function(e,t,n){"use strict";cc._RF.push(t,"28f6dcShEVAUYjuXAaai3u8","AppBox");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../base/GameValues"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.adID="",t._isShowing=!1,t}return o(t,e),t.prototype.onLoad=function(){i.PlatformName.QQ==i.default.currentPlatform?cc.sys.isBrowser||(this.createAd(),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEndHandler,this)):this.node.destroy()},t.prototype.touchEndHandler=function(){this.show()},t.prototype.createAd=function(){console.log("----  \u5fae\u4fe1AppBox\u5e7f\u544a ----"),console.log("-  createAd  -");try{this._appBox=qq.createAppBox({adUnitId:this.adID}),this._appBox.load(),this._appBox.onClose(this.adCloseCallback.bind(this));try{return this._appBox}catch(e){return null}}catch(e){return console.log("\u521b\u5efaAppBox\u5e7f\u544a\u5931\u8d25",e),null}},Object.defineProperty(t.prototype,"isShowing",{get:function(){return this._isShowing},enumerable:!0,configurable:!0}),t.prototype.show=function(){console.log("----  \u5fae\u4fe1AppBox\u5e7f\u544a ----"),console.log("-  show  -"),!this.isShowing&&this._appBox&&(this._isShowing=!0,this._appBox.show())},t.prototype.hide=function(){this._appBox&&(this._isShowing=!1,this._appBox.load())},t.prototype.adCloseCallback=function(e){void 0===e&&(e=null),console.log("----  \u5fae\u4fe1AppBox\u5e7f\u544a ----"),console.log("-  adCloseCallback  -"),console.log(JSON.stringify(e)),this.hide()},t.prototype.destory=function(){this._appBox&&(this._appBox.offClose(this.adCloseCallback.bind(this)),this._appBox.destroy(),this._appBox=null)},a([c({type:cc.String,displayName:"\u5e7f\u544a\u5217\u8868"})],t.prototype,"adID",void 0),t=a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../base/GameValues":"GameValues"}],BannerAuto:[function(e,t,n){"use strict";cc._RF.push(t,"7c865R4K8hL36ajasf4ksq7","BannerAuto");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../gamecore/wechat/WXBannerAd"),r=e("../gamecore/deer/DeerSDK"),s=e("../gamecore/managers/Utils"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startLoca=null,t.bureeLoca=null,t.bannerUpADD=0,t.bannerUpADDR=0,t}return o(t,e),t.prototype.start=function(){0==this.relayout()&&this.isNoBuLoca(),this.getBerryData()},t.prototype.isNoBuLoca=function(){this.startLoca=cc.v2(this.node.x,this.node.y),this.bureeLoca=cc.v2(this.node.x,-(cc.winSize.height/2-100))},t.prototype.getBerryData=function(){var e=r.default.instance.game_config;void 0!=e&&(this.bannerUpADD=e.bannerUpADD,this.bannerUpADDR=e.bannerUpADDR,this.init())},t.prototype.init=function(){var e=this;Math.random()<this.bannerUpADDR&&(i.default.currentAd.hide(),this.node.position=this.bureeLoca,this.scheduleOnce(function(){e.node.position=e.startLoca,i.default.currentAd.show()},this.bannerUpADD))},t.prototype.relayout=function(){var e=!1,t=i.default.currentAd;if(void 0!=t&&1==t.isShowing){var n=t.adRect;if(void 0!=n){n=s.default.fromScreenRect(n);var o=new cc.Vec2(n.x+n.width/2,n.y+n.height);o=this.node.getParent().convertToNodeSpaceAR(o);var a=void 0;a=t.isShowing?o.y+this.node.height*this.node.anchorY+0:o.y-this.node.height*(1-this.node.anchorY)-0,this.bureeLoca=cc.v2(this.node.x,a-this.node.height),this.startLoca=cc.v2(this.node.x,a),e=!0}}return e},t=a([l],t)}(cc.Component));n.default=u,cc._RF.pop()},{"../gamecore/deer/DeerSDK":"DeerSDK","../gamecore/managers/Utils":"Utils","../gamecore/wechat/WXBannerAd":"WXBannerAd"}],Banner:[function(e,t,n){"use strict";cc._RF.push(t,"29de8n6gQVNc7x+1HREdGjS","Banner"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../deer/DeerSDK"),a=e("../base/GameValues"),i=e("../wechat/WXBannerAd"),r=function(){function e(){this._Banner=null,this.bannerSize={width:367,height:127.65217391304347},this._bannerID=null}return Object.defineProperty(e,"instance",{get:function(){return this.BannerManager||(this.BannerManager=new e),this.BannerManager},enumerable:!0,configurable:!0}),e.prototype.createBanner=function(e){var t=this;if(a.PlatformName.BAIDU!=a.default.currentPlatform&&(this._bannerID=e,!this._Banner&&!cc.sys.isBrowser)){var n=cc.view.getFrameSize();this._Banner=qq.createBannerAd({adUnitId:this._bannerID,style:{left:0,top:0,width:n.width}}),this._Banner.onResize(function(e){t.bannerSize=e;var n=cc.view.getFrameSize(),o=(n.width-t.bannerSize.width)/2,a=n.height-t.bannerSize.height;t._Banner.style.top=a,t._Banner.style.left=o}),this._Banner.onError(function(e){console.log("this._Banner onError",e)}),this._Banner.onLoad(function(e){console.log("this._Banner onLoad",e)})}},e.prototype.showBanner=function(){if(console.error("showBanner",a.PlatformName.BAIDU==a.default.currentPlatform),a.PlatformName.BAIDU==a.default.currentPlatform)return console.error("showBanner1"),i.default.currentAd.show(),void console.error("showBanner2");a.PlatformName.ANDROID==a.default.currentPlatform||(a.PlatformName.IOS,a.default.currentPlatform),this._Banner&&(console.error("showBanner success"),this._Banner.show(),o.default.instance.track(o.DeerTrackAction.WX_BAD_SHOW))},e.prototype.getBannerPos=function(){var e,t,n=0,o=0,a=cc.view.getFrameSize();this.bannerSize||(this.bannerSize={width:300,height:100}),this.customMaxHeight&&this.bannerSize.height>this.customMaxHeight&&(o=(n=this.customMaxHeight)*this.bannerSize.width/this.bannerSize.height,this._Banner.style.width=o,this._Banner.style.height=n),e=(a.width-this.bannerSize.width)/2;return t=a.height-this.bannerSize.height-0,console.log("-------------------------------",t,e,o,n),{top:t,left:e}},e.prototype.hideBanner=function(){console.error("hideBanner"),a.PlatformName.ANDROID!=a.default.currentPlatform&&a.PlatformName.IOS!=a.default.currentPlatform&&this._Banner&&(console.error("hideBanner success"),this._Banner.hide())},e.prototype.destory=function(){this._Banner&&this._Banner.destroy()},e.prototype.newBanner=function(){this.destory(),this._bannerID||console.error("\u9519\u8bef",this._bannerID),this.createBanner(this._bannerID)},e.BannerManager=null,e}();n.default=r,cc._RF.pop()},{"../base/GameValues":"GameValues","../deer/DeerSDK":"DeerSDK","../wechat/WXBannerAd":"WXBannerAd"}],BarrierMgr:[function(e,t,n){"use strict";cc._RF.push(t,"da27aRP5hpK8KQ5eW1YAVZ2","BarrierMgr");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../GameUtils"),i=e("./RingBarrier"),r=cc._decorator,s=r.ccclass,c=(r.property,function(){function e(){}var t;return t=e,e.init=function(e,n){var o=this;t.isbarrier=e.isbarrier,console.log(e,"info"),t.barrierType=e.barriertype,t.barrierLife=e.barrierLife,t.barrierspeed=e.barrierspeed,t.parent=n;7==t.barrierType||(0==t.barrierType||3==t.barrierType||(1==t.barrierType||4==t.barrierType||5==t.barrierType||6==t.barrierType||t.barrierType));var i=function(e,t,n){var o=0,a=[],i=null,r=Math.floor(360*Math.random());t+="0";for(var s=0;s<t.length;s++)if(t[s]!==i){if(!a[o]){if(o>0&&"0"!==a[o-1][0]&&e){var c=a[o-1].length;e(c,s-c,n,r)}a[o]=[],o++}a[o-1].push(t[s]),i=t[s]}else a[o-1].push(t[s])};a.default.loadRes("prefabs/stageMode/barrier4",cc.Prefab,!0,function(n){t.barrierPrefab=n,i(t.initRingBarrier,e.obstacleInnerGeneratingSequence,e.obstacleInnerSpeed/1e3)}),a.default.loadRes("prefabs/stageMode/barrier5",cc.Prefab,!0,function(n){t.barrierPrefab2=n,i(t.initRingBarrier2,e.obstacleOuterGeneratingSequence,e.obstacleOuterSpeed/1e3)}),a.default.loadRes("prefabs/stageMode/tileNode",cc.Prefab,!0,function(e){o.tileNode=cc.instantiate(e),o.tileNode.opacity=0,o.tileNode.parent=o.parent})},e.initRingBarrier=function(e,n,o,a){var r=cc.instantiate(t.barrierPrefab);t.parent.getChildByName("monster").addChild(r),r.getComponent(cc.WeldJoint).connectedBody=t.parent.getChildByName("monster").getComponent(cc.RigidBody),r.getComponent(i.default).init(e/20,18*n+a,r.width/2,o)},e.initRingBarrier2=function(e,n,o,a){var r=cc.instantiate(t.barrierPrefab2);t.parent.getChildByName("monster").addChild(r),r.getComponent(cc.WeldJoint).connectedBody=t.parent.getChildByName("monster").getComponent(cc.RigidBody),r.getComponent(i.default).init(e/20,18*n+a,r.width/2,o)},e.initBarrier=function(){var e=cc.instantiate(this.barrierPrefab),n=cc.instantiate(this.barrierPrefab);switch(t.barrierType){case 0:e.position=cc.v2(-225,-80),this.parent.addChild(e),e.runAction(cc.repeatForever(cc.sequence(cc.moveTo(3,cc.v2(225,-80)),cc.moveTo(3,cc.v2(-225,-80))))),n.destroy();break;case 1:e.position=cc.v2(-275,-70),this.parent.addChild(e),e.runAction(cc.repeatForever(cc.sequence(cc.moveTo(1.6,cc.v2(-60,-70)),cc.moveTo(1.6,cc.v2(-275,-70)),cc.delayTime(1)))),n.position=cc.v2(275,-70),this.parent.addChild(n),n.runAction(cc.repeatForever(cc.sequence(cc.moveTo(1.6,cc.v2(60,-70)),cc.moveTo(1.6,cc.v2(275,-70)),cc.delayTime(1))));break;case 2:this.parent.getChildByName("monster").addChild(e),e.getComponent(cc.WeldJoint).connectedBody=this.parent.getChildByName("monster").getComponent(cc.RigidBody),e.getComponent(cc.WeldJoint).referenceAngle=90,this.parent.getChildByName("monster").addChild(n),n.getComponent(cc.WeldJoint).connectedBody=this.parent.getChildByName("monster").getComponent(cc.RigidBody),n.getComponent(cc.WeldJoint).referenceAngle=-90;break;case 3:e.position=cc.v2(245,-120),this.parent.addChild(e),n.destroy();break;case 4:e.position=cc.v2(-240,-60),this.parent.addChild(e),n.position=cc.v2(240,-60),this.parent.addChild(n);break;case 5:e.position=cc.v2(-250,30),this.parent.addChild(e),e.runAction(cc.repeatForever(cc.sequence(cc.moveTo(1.6,cc.v2(-127,-156)),cc.moveTo(1.6,cc.v2(-250,50))))),n.position=cc.v2(250,30),this.parent.addChild(n),n.runAction(cc.repeatForever(cc.sequence(cc.moveTo(1.6,cc.v2(127,-156)),cc.moveTo(1.6,cc.v2(250,50)))));break;case 6:e.position=cc.v2(-250,-100),this.parent.addChild(e),e.runAction(cc.repeatForever(cc.sequence(cc.moveTo(2.5,cc.v2(250,-110)),cc.moveTo(2.5,cc.v2(-250,-110))))),n.position=cc.v2(250,-150),this.parent.addChild(n),n.runAction(cc.repeatForever(cc.sequence(cc.moveTo(2.3,cc.v2(-250,-140)),cc.moveTo(2.7,cc.v2(250,-140)))))}},e.showRandTile=function(e,t){var n=this;this.tileNode.stopAllActions(),this.tileNode.opacity=255,this.tileNode.position=t,this.tileNode.getComponent(cc.Animation).play("tile"),this.tileNode.runAction(cc.sequence(cc.delayTime(.15),cc.callFunc(function(){n.tileNode.opacity=0})))},e.clear=function(){t.barrierPrefab=null,this.tileNode&&(this.tileNode.stopAllActions(),this.tileNode.destroy(),this.tileNode=null)},e.BEAT_BARRIER_EVENT="beatBarrierEvent",e.isbarrier=0,e.barrierType=0,e.barrierspeed=0,e.barrierLife=0,e.barrierPrefab=null,e.barrierPrefab2=null,e.tileNode=null,e.parent=null,e=t=o([s],e)}());n.default=c,cc._RF.pop()},{"../../../GameUtils":"GameUtils","./RingBarrier":"RingBarrier"}],Barrier:[function(e,t,n){"use strict";cc._RF.push(t,"60b886REM1AZYBPFoLkugct","Barrier");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../SoundMgr"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spfmArr=[],t.hp=0,t.maxHp=1,t}return o(t,e),t.prototype.onBeginContact=function(e,t,n){i.default.instance.playSound("sound/stageMode/bounce"),this.shakeEffect(.2)},t.prototype.updateSpfm=function(e){this.node.getComponent(cc.Sprite).spriteFrame=this.spfmArr[e]},t.prototype.shakeEffect=function(e){this.node.runAction(cc.sequence(cc.moveBy(.02,cc.v2(5,4)),cc.moveBy(.02,cc.v2(-6,-4)),cc.moveBy(.02,cc.v2(2,8)),cc.moveBy(.02,cc.v2(3,-4)),cc.moveBy(.02,cc.v2(-4,-4))))},a([c(cc.SpriteFrame)],t.prototype,"spfmArr",void 0),t=a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../../../SoundMgr":"SoundMgr"}],Base:[function(e,t,n){"use strict";cc._RF.push(t,"434e84E9vtKbrpdxiZ2CXzj","Base"),Object.defineProperty(n,"__esModule",{value:!0}),n.Base_init=function(){if(void 0==window.wx){window.wx={};var e=window.wx;e.onError=function(e){console.log("------\u3010Base\u3011 onError-------")},e.offError=function(e){console.log("------\u3010Base\u3011 offError-------")},e.onAudioInterruptionEnd=function(e){console.log("------\u3010Base\u3011 onAudioInterruptionEnd-------")},e.offAudioInterruptionEnd=function(e){console.log("------\u3010Base\u3011 offAudioInterruptionEnd-------")},e.onAudioInterruptionBegin=function(e){console.log("------\u3010Base\u3011 onAudioInterruptionBegin-------")},e.offAudioInterruptionBegin=function(e){console.log("------\u3010Base\u3011 offAudioInterruptionBegin-------")};var t=document.createElement("Canvas");t&&(t.__proto__.toTempFilePath=function(e){console.log("------\u3010Base\u3011 toTempFilePath-------");e&&e.success;var t=e?e.fail:null,n=e?e.complete:null;t&&t(),n&&n()},t.__proto__.toTempFilePathSync=function(e){return console.log("------\u3010Base\u3011 toTempFilePathSync-------"),null}),e.createImage=function(){console.log("------\u3010Base\u3011 createImage-------");var e=new Image;return console.log("image is "+e),e},e.createGameClubButton=function(e){return{onTap:function(e){},offTap:function(e){},show:function(){},hide:function(){},destroy:function(){}}},e.login=function(e){console.log("------\u3010Base\u3011 login-------");var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null);setTimeout(function(){t&&t({code:"gamesdeer"}),n&&n()},500)},e.getSystemInfoSync=function(e){return console.log("------\u3010Base\u3011 getSystemInfoSync-------"),{}},e.getSystemInfo=function(e){console.log("------\u3010Base\u3011 getSystemInfo-------")},e.vibrateShort=function(e){console.log("------\u3010Base\u3011 vibrateShort-------")},e.vibrateLong=function(e){console.log("------\u3010Base\u3011 vibrateLong-------")},e.onMemoryWarning=function(e){console.log("------\u3010Base\u3011 onMemoryWarning-------")},e.__userInfoRes=null,e.getUserInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("------\u3010Base\u3011 getUserInfo-------");var n=t?t.success:null,o=t?t.fail:null,a=t?t.complete:null;e.__userInfoRes?n&&n(JSON.parse(JSON.stringify(e.__userInfoRes))):o&&o({errMsg:""}),a&&a()},e.createUserInfoButton=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return console.log("------\u3010Base\u3011 createUserInfoButton-------"),console.log(e),{onTap:function(e){},offTap:function(e){},show:function(){},hide:function(){},destroy:function(){}}},e.createFeedbackButton=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return console.log("------\u3010Base\u3011 createFeedbackButton-------"),{show:function(){},destroy:function(){},hide:function(){},offTap:function(e){},onTap:function(e){}}},e.createGameClubButton=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return console.log("------\u3010Base\u3011 createGameClubButton-------"),{show:function(){},destroy:function(){},hide:function(){},offTap:function(e){},onTap:function(e){}}},e.getFriendCloudStorage=function(e){console.log("------\u3010Base\u3011 getFriendCloudStorage-------"),console.log(e)},e.getUserCloudStorage=function(e){console.log("------\u3010Base\u3011 setUserCloudStorage-------")},e.setUserCloudStorage=function(e){console.log("------\u3010Base\u3011 setUserCloudStorage-------")},e.getSetting=function(e){console.log("------\u3010Base\u3011 getSetting-------");var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null);t&&t({authSetting:{"scope.userInfo":!0}}),n&&n()},e.navigateToMiniProgram=function(e){console.log("------\u3010Base\u3011 navigateToMiniProgram-------")},e.__openDataContext={callbacks:[],postMessage:function(t){e.__openDataContext.callbacks.forEach(function(e){e(t)})},canvas:document.createElement("Canvas")},e.getOpenDataContext=function(){return e.__openDataContext},e.onMessage=function(t){var n=e.__openDataContext.callbacks;-1==n.indexOf(t)&&n.push(t)},e.postMessage=function(e){},e.getSystemInfo=function(e){console.log("------\u3010Base\u3011 getSetting-------")},e.getUpdateManager=function(e){return console.log("------\u3010Base\u3011 getUpdateManager-------"),{applyUpdate:function(){},onCheckForUpdate:function(e){},onUpdateReady:function(e){},onUpdateFailed:function(e){}}},e.exitMiniProgram=function(e){console.log("------\u3010Base\u3011 exitMiniProgram-------")},e.__query=null,e.getLaunchOptionsSync=function(){return console.log("------\u3010Base\u3011 getLaunchOptionsSync-------"),{scene:0,query:{},isSticky:0,shareTicket:null,referrerInfo:{appId:null}}},e._onHideCallbacks=[],e.onHide=function(t){console.log("------\u3010Base\u3011 onHide-------"),-1==e._onHideCallbacks.indexOf(t)&&e._onHideCallbacks.push(t)},e._onShowCallbacks=[],e.onShow=function(t){console.log("------\u3010Base\u3011 onShow-------"),-1==e._onShowCallbacks.indexOf(t)&&e._onShowCallbacks.push(t)},e._onCloseCallbacks=[],e.onClose=function(t){console.log("------\u3010Base\u3011 onClose-------"),-1==e._onShowCallbacks.indexOf(t)&&e._onShowCallbacks.push(t)},e.offHide=function(t){console.log("------\u3010Base\u3011 offHide-------");var n=e._onHideCallbacks.indexOf(t);n>=0&&e._onHideCallbacks.splice(n,1)},e.offShow=function(t){console.log("------\u3010Base\u3011 offShow-------");var n=e._onShowCallbacks.indexOf(t);n>=0&&e._onShowCallbacks.splice(n,1)},e.offClose=function(t){console.log("------\u3010Base\u3011 offClose-------");var n=e._onCloseCallbacks.indexOf(t);n>=0&&e._onCloseCallbacks.splice(n,1)},e.doHide=function(t){console.log("------\u3010Base\u3011 doHide-------"),e._onHideCallbacks.forEach(function(e){try{e()}catch(e){}})},e.doShow=function(t){console.log("------\u3010Base\u3011 doShow-------"),e._onShowCallbacks.forEach(function(e){try{e()}catch(e){}})},e.doClose=function(t){console.log("------\u3010Base\u3011 doClose-------"),e._onCloseCallbacks.forEach(function(e){try{e()}catch(e){}})},e.onAudioInterruptionEnd=function(e){console.log("------\u3010Base\u3011 onAudioInterruptionEnd-------")},e.getFileSystemManager=function(){return console.log("------\u3010Base\u3011 getFileSystemManager-------"),null},e.getShareInfo=function(e){},e.hideShareMenu=function(e){},e.showShareMenu=function(e){},e.updateShareMenu=function(e){},e.shareAppMessage=function(e){console.log("------\u3010Base\u3011 shareAppMessage-------")},e.onShareAppMessage=function(e){console.log("------\u3010Base\u3011 onShareAppMessage-------")},e.offShareAppMessage=function(e){},e.stopAccelerometer=function(e){console.log("------\u3010Base\u3011 stopAccelerometer-------");e&&e.success;var t=e?e.fail:null,n=e?e.complete:null;t&&t({}),n&&n()},e.startAccelerometer=function(e){console.log("------\u3010Base\u3011 startAccelerometer-------");e&&e.success;var t=e?e.fail:null,n=e?e.complete:null;t&&t({}),n&&n()},e.onAccelerometerChange=function(e){console.log("------\u3010Base\u3011 onAccelerometerChange-------")},e.createRewardedVideoAd=function(e){return console.log("------\u3010Base\u3011 createRewardedVideoAd-------"),null},e.createInterstitialAd=function(e){return console.log("------\u3010Base\u3011 createInterstitialAd-------"),null},e.createBannerAd=function(e){return console.log("------\u3010Base\u3011 createBannerAd-------"),null},e.requestMidasPayment=function(e){console.log("------\u3010Base\u3011 requestMidasPayment-------")},e._storageData={},e.getStorageInfo=function(t){console.log("------\u3010Base\u3011 getStorageInfo-------");var n=t?t.success:null,o=(t&&t.fail,t?t.complete:null);n&&n(e.getStorageInfoSync()),o&&o()},e.getStorageInfoSync=function(){return console.log("------\u3010Base\u3011 getStorageInfoSync-------"),{keys:Object.keys(e._storageData),currentSize:0,limitSize:99999999}},e.getStorage=function(t){console.log("------\u3010Base\u3011 getStorage-------");var n=t?t.success:null,o=(t&&t.fail,t?t.complete:null);n&&n(e.getStorageSync(t)),o&&o()},e.getStorageSync=function(t){if(console.log("------\u3010Base\u3011 getStorageSync-------"),!t||!t.key)return null;var n=t.key;return{data:e._storageData[n]}},e.setStorage=function(t){console.log("------\u3010Base\u3011 setStorage-------");var n=t?t.success:null,o=t?t.fail:null,a=t?t.complete:null;if(t&&t.key){var i=t.key,r=t.value;e.setStorageSync(i,r),n&&n({})}else o&&o({});a&&a()},e.setStorageSync=function(t,n){return console.log("------\u3010Base\u3011 setStorageSync-------"),e._storageData[t]=n},e.removeStorage=function(t){console.log("------\u3010Base\u3011 removeStorage-------");var n=t?t.success:null,o=t?t.fail:null,a=t?t.complete:null;if(t&&t.key){var i=t.key;e.removeStorageSync(i),n&&n({})}else o&&o({});o&&o({}),a&&a()},e.removeStorageSync=function(t){console.log("------\u3010Base\u3011 removeStorageSync-------"),delete e._storageData[t]},e.clearStorage=function(t){console.log("------\u3010Base\u3011 clearStorage-------");var n=t?t.success:null,o=(t&&t.fail,t?t.complete:null);e.clearStorageSync(),n&&n({}),o&&o()},e.clearStorageSync=function(){console.log("------\u3010Base\u3011 clearStorageSync-------"),e._storageData={}},e.loadSubpackage=function(e){console.log("------\u3010Base\u3011 loadSubpackage-------");var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null);return t&&t({}),n&&n(),{onProgressUpdate:function(e){}}},e.hideLoading=function(e){console.log("------\u3010Base\u3011 hideLoading-------")},e.hideToast=function(e){console.log("------\u3010Base\u3011 hideToast-------")},e.showLoading=function(e){console.log("------\u3010Base\u3011 showLoading-------")},e.showModal=function(e){console.log("------\u3010Base\u3011 showModal-------");var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null);t&&t({confirm:!1,cancel:!0}),n&&n()},e.showToast=function(e){console.log("------\u3010Base\u3011 showToast-------")},e.getMenuButtonBoundingClientRect=function(){return console.log("------\u3010Base\u3011 getMenuButtonBoundingClientRect -------"),{top:0,left:0,width:0,height:0,bottom:0,right:0}},e.setMenuStyle=function(e){console.log("------\u3010Base\u3011 setMenuStyle-------")},e.setClipboardData=function(e){if(console.log("------\u3010Base\u3011 setClipboardData -------"),e){console.log(e.data);e&&e.success;var t=e?e.fail:null,n=e?e.complete:null;t&&t({}),n&&n()}},e.getClipboardData=function(e){if(console.log("------\u3010Base\u3011 wx.getClipboardData -------"),e){var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null);t&&t({data:""}),n&&n()}},e.onNetworkStatusChange=function(e){console.log("------\u3010Base\u3011 onNetworkStatusChange -------")},e.getNetworkType=function(e){if(console.log("------\u3010Base\u3011 getNetworkType -------"),e){console.log(e.data);var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null);t&&t({networkType:"wifi"}),n&&n()}},e.setScreenBrightness=function(e){if(console.log("------\u3010Base\u3011 setScreenBrightness -------"),e){console.log(e.data);e&&e.success;var t=e?e.fail:null,n=e?e.complete:null;t&&t({}),n&&n()}},e.setKeepScreenOn=function(e){if(console.log("------\u3010Base\u3011 wx.setKeepScreenOn -------"),e){e&&e.success;var t=e?e.fail:null,n=e?e.complete:null;t&&t({}),n&&n()}},e.getScreenBrightness=function(e){if(console.log("------\u3010Base\u3011 wx.getScreenBrightness -------"),e){var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null);t&&t({value:0}),n&&n()}},e.triggerGC=function(e){console.log("------\u3010Base\u3011 wx.triggerGC -------")},e.cloud={init:function(e){},downloadFile:function(e){console.log("------\u3010Base\u3011 wx.cloud.downloadFile -------");e&&e.success;var t=e?e.fail:null,n=e?e.complete:null;t&&t({}),n&&n()},uploadFile:function(e){console.log("------\u3010Base\u3011 wx.cloud.uploadFile -------");e&&e.success;var t=e?e.fail:null,n=e?e.complete:null;t&&t(),n&&n()}},e.createInnerAudioContext=function(){return console.log("------\u3010Base\u3011 wx.createInnerAudioContext -------"),{destroy:function(){},onCanplay:function(e){},offCanplay:function(e){},onEnded:function(e){},offEnded:function(e){},onPause:function(e){},offPause:function(e){},onPlay:function(e){},offPlay:function(e){},onSeeked:function(e){},offSeeked:function(e){},onStop:function(e){},offStop:function(e){},onTimeUpdate:function(e){},offTimeUpdate:function(e){},onWaiting:function(e){},offWaiting:function(e){},onError:function(e){},offError:function(e){},pause:function(){},play:function(){},seek:function(){},stop:function(){}}},e.createGameIcon=function(){return console.log("------\u3010Base\u3011 wx.createGameIcon -------"),{load:function(){},show:function(){},hide:function(){},destroy:function(){},onResize:function(e){},offResize:function(e){},onLoad:function(e){},offLoad:function(e){},onEnded:function(e){},offEnded:function(e){},onError:function(e){},offError:function(e){}}},e.aldSendEvent=function(e){},e.aldOnShareAppMessage=function(e){},e.aldStage={onStart:function(){},onEnd:function(){},onRunning:function(){}},e.request=function(e){if(console.log("------\u3010Base\u3011 request-------"),console.log(JSON.stringify(e)),e){var t=e.url;if(t){var n=e?e.success:null,o=e?e.fail:null,a=e?e.complete:null,i=e.method||"get";i=i.toLocaleLowerCase();var r=e.dataType||"json";r=r.toLowerCase();var s=e.responseType||"text";s=s.toLowerCase();var c=e.data,l="";if(c){for(var u in c)""!=l&&(l+="&"),l+=u+"="+encodeURIComponent(c[u]);console.log(l),"post"!=i&&(t.indexOf("?")>=0?t+="&"+l:t+="?"+l)}var d=new XMLHttpRequest;d.open(i.toLocaleUpperCase(),t,!0),d.responseType=s,d.onload=function(){console.log("\u3010Base\u3011request success");var e=d.response;try{"json"==r&&(e={data:e=JSON.parse(""+e)})}catch(e){}n&&n(e),a&&a()},d.onerror=function(){console.log("\u3010Base\u3011request error"),o&&o(),a&&a()};var f=e.header;if(f)for(var p in f)d.setRequestHeader(p,f[p]);"post"==i?d.send(l):d.send(null)}}}}},cc._RF.pop()},{}],BearAPI:[function(e,t,n){"use strict";cc._RF.push(t,"b566bUCByFMh6Iols+5MZQ/","BearAPI"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../deer/DeerSDK"),a=e("../wechat/WXImage"),i=function(){function e(){}return Object.defineProperty(e,"baseURL",{get:function(){return e._baseURL},enumerable:!0,configurable:!0}),e.init=function(t){void 0===t&&(t=null),e._initialized||(e._initialized=!0,void 0!==window.bear&&(e._baseURL="http://aa.yz057.com/",e._wxAppID=t,console.log("----  \u5317\u6781\u718a API ----"),console.log("-  init   -"),console.log(e._baseURL),e.enabled=!0))},Object.defineProperty(e,"enabled",{get:function(){return e._enabled},set:function(t){e._enabled!=t&&(e._enabled=t,e._enabled?(null==e._original_ad_getAdData&&(e._original_ad_getAdData=o.default.instance.ad_getAdData.bind(o.default.instance)),o.default.instance._isReady=!0,o.default.instance.ad_getAdData=e.ad_getAdData.bind(e)):o.default.instance.ad_getAdData=e._original_ad_getAdData,o.default.instance.trackProxyFun=e.track.bind(e))},enumerable:!0,configurable:!0}),e.disenable=function(){e._enabled&&(e._enabled=!1)},e.track=function(e,t){void 0===t&&(t=null);console.log("\u3010\u5317\u6781\u718a\u3011\u5e7f\u544a\u70b9\u51fb\u7edf\u8ba1",{})},e.ad_getAdData=function(t,n,a,i){if(void 0===n&&(n=null),void 0===a&&(a=null),void 0===i&&(i=null),console.log("adType=",t),-1!=e.proxyAdTypes.indexOf(t)){var r=o.default.instance.ad_getAds(t,i);if(r)null!=n&&n(r);else{console.log("2. adType=",t);var s=e._adTypeCallbacks["ad_"+t];s||(s={success:[],fail:[],flag:[]},e._adTypeCallbacks["ad_"+t]=s),s.success.push(n),s.fail.push(a),s.flag.push(i);var c=e._baseURL+"developer/game_random/";c+="?count=10",e._wxAppID&&(c+="&game_id="+e._wxAppID),wx.request({url:c,method:"GET",success:function(n){if(console.log("3. adType=",t),console.log(n),n&&n.data){var a=n.data.data;if(a&&0!=a.length){for(var i=[],r=0;r<a.length;r++){var s=a[r],c=new o.DeerAdVO;c.id=r+1,c.appID=s.game_id,c.name=s.game_name,c.icon=s.game_icon,c.ad_count=s.player_num,c.navigate=e.ad_navigate.bind(c),c.reportShown=e.ad_reportShown.bind(c),c.img_256_129=s.game_icon,i.push(c)}console.log("4. adType=",t),o.default.instance.ad_addAds(t,i);var l=e._adTypeCallbacks["ad_"+t];if(delete e._adTypeCallbacks["ad_"+t],l){var u=l.success;for(r=0;r<u.length;r++){console.log("5. adType=",t);var d=o.default.instance.ad_getAds(t);console.log("targetAds=",d);var f=u[r];f&&f(d)}}}}},fail:e.ad_getAdData_fail.bind(e),complete:function(){}})}}else e._original_ad_getAdData(t,n,a,i)},e.ad_getAdData_fail=function(t){Object.keys(e._adTypeCallbacks).forEach(function(t){var n=e._adTypeCallbacks[t];if(n){var o=n.fail;o&&o.forEach(function(e){e&&e()})}})},e.ad_navigate=function(){var e=this;console.log("\u3010\u5317\u6781\u718a\u3011\u5e7f\u544a\u70b9\u51fb\u7edf\u8ba1",{});try{wx.navigateToMiniProgram({appId:e.appID,path:e.path,fail:function(t){e.previewImg&&a.default.previewImage([e.previewImg])},success:function(){}})}catch(e){console.log("########################",e)}},e.ad_reportShown=function(){},e.ad_reportShownNow=function(){var t={};t.data=Object.keys(e._ad_ShownData).map(function(t){return e._ad_ShownData[t]}),0!=t.data.length&&(e._ad_ShownData={},console.log("\u3010\u5317\u6781\u718a\u3011\u5e7f\u544a\u5c55\u73b0\u7edf\u8ba1",t))},e.proxyAdTypes=[o.DeerAdType.RECOMMEND,o.DeerAdType.HOT,o.DeerAdType.BOARD,o.DeerAdType.GAME_OVER,o.DeerAdType.RICH],e.gameVersion=null,e._enabled=!1,e._original_ad_getAdData=null,e._adTypeCallbacks={},e._ad_ShownData={},e}();n.default=i,cc._RF.pop()},{"../deer/DeerSDK":"DeerSDK","../wechat/WXImage":"WXImage"}],BoardAdsItem:[function(e,t,n){"use strict";cc._RF.push(t,"b6880HAfutIeriRaSYh8x6T","BoardAdsItem");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../scripts/gamecore/components/Comp_ListRenderer"),r=e("../../../scripts/gamecore/managers/GameManager"),s=e("../../gamecore/base/GameValues"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.imgSprite=null,t.nameLabel=null,t.infoLabel=null,t}return o(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.tapHandler,this)},t.prototype.clamp=function(e,t){return e.replace(/[\u0391-\uFFE5]/g,"aa").length>2*t&&(e=e.substr(0,t)+"..."),e},t.prototype.refreshUI=function(){var t=this;if(e.prototype.refreshUI.call(this),this.data){if(this._imageOriginalSize=new cc.Size(this.imgSprite.node.width,this.imgSprite.node.height),this.nameLabel.string=this.clamp(this.data.name,5),void 0!=this.data.ad_count)this.infoLabel.string=this.data.ad_count+"\u4eba\u5728\u73a9";else{var n=Math.floor(5e3*Math.random()+5e3);this.infoLabel.string=n+"\u4eba\u5728\u73a9"}var o=this.data.icon;if(this.node.scale=.8,s.default.isToutiao&&this.data.spriteFrame)return this.imgSprite.spriteFrame=this.data.spriteFrame,this.imgSprite.node.width=this.data.spriteFrame.getTexture().width,this.imgSprite.node.height=this.data.spriteFrame.getTexture().height,this.imgSprite.node.scaleX=this._imageOriginalSize.width/this.data.spriteFrame.getTexture().width,void(this.imgSprite.node.scaleY=this._imageOriginalSize.height/this.data.spriteFrame.getTexture().height);o&&cc.loader.load(o,function(e,n){n&&(t.imgSprite.spriteFrame=new cc.SpriteFrame(n),t.imgSprite.node.width=n.width,t.imgSprite.node.height=n.height,t.imgSprite.node.scaleX=t._imageOriginalSize.width/n.width,t.imgSprite.node.scaleY=t._imageOriginalSize.height/n.height)})}},t.prototype.tapHandler=function(e){r.default.soundsManager.playTapSound(),this.data&&this.data.navigate()},a([u(cc.Sprite)],t.prototype,"imgSprite",void 0),a([u(cc.Label)],t.prototype,"nameLabel",void 0),a([u(cc.Label)],t.prototype,"infoLabel",void 0),t=a([l],t)}(i.default);n.default=d,cc._RF.pop()},{"../../../scripts/gamecore/components/Comp_ListRenderer":"Comp_ListRenderer","../../../scripts/gamecore/managers/GameManager":"GameManager","../../gamecore/base/GameValues":"GameValues"}],BoardAdsPanel:[function(e,t,n){"use strict";cc._RF.push(t,"a859eMfunpJiLPt3OwXk3dU","BoardAdsPanel");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../scripts/gamecore/managers/GameManager"),r=e("../../../scripts/gamecore/deer/DeerSDK"),s=e("../../../scripts/gamecore/xiaoyaoji/XYJAPI"),c=e("../../../scripts/gamecore/deer/DeerSDKEventNames"),l=e("../../../scripts/gamecore/components/Comp_List"),u=e("../../../scripts/control/GameEventName"),d=e("../../../scripts/gamecore/wechat/WXBannerAd"),f=e("../../gamecore/base/GameValues"),p=cc._decorator,h=p.ccclass,g=p.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.adBackground=null,t.adsContainer=null,t.closeBtn=null,t.slideNode=null,t.openBtn=null,t.cooperateLabel=null,t._isShowing=!1,t}return o(t,e),t.prototype.onLoad=function(){this.init()},t.prototype.start=function(){},Object.defineProperty(t.prototype,"isShowing",{get:function(){return this._isShowing},enumerable:!0,configurable:!0}),t.prototype.show=function(){if(!this._isShowing){this._isShowing=!0,d.default.currentAd&&d.default.currentAd.show();var e=this.slideNode.width*this.slideNode.scaleX/2-cc.winSize.width/2,t=new cc.Vec2(e,this.slideNode.y),n=cc.moveTo(.2,t).easing(cc.easeIn(1));this.slideNode.active=!0,this.slideNode.stopAllActions(),this.slideNode.runAction(n),this.adBackground&&(this.adBackground.active=!0,this.adBackground.stopAllActions(),this.adBackground.runAction(cc.fadeTo(.2,255)))}},t.prototype.hide=function(){var e=this;if(this._isShowing){this._isShowing=!1,d.default.currentAd;var t=-this.node.width/2-this.slideNode.width*this.slideNode.scaleX/2,n=new cc.Vec2(t,this.slideNode.y);this.slideNode.stopAllActions(),this.slideNode.runAction(cc.sequence(cc.moveTo(.2,n).easing(cc.easeOut(1)),cc.callFunc(function(){e.slideNode.active=!1}))),i.default.eventManager.dispatchEventWith(u.default.CLOSE_TRANSLUCENCE_CONTROL),this.adBackground&&(this.adBackground.stopAllActions(),this.adBackground.runAction(cc.sequence(cc.fadeTo(.2,0),cc.callFunc(function(){e.adBackground.active=!1}))))}},t.prototype.onSlideClicked=function(){i.default.soundsManager.playTapSound(),this.hide()},t.prototype.onCloseBtnClicked=function(){i.default.soundsManager.playTapSound(),this.hide()},t.prototype.onOpenBtnClicked=function(){i.default.soundsManager.playTapSound(),this.show()},t.prototype.init=function(){var e=this;this.slideNode.active=!1,this.closeBtn.on(cc.Node.EventType.TOUCH_END,this.onCloseBtnClicked,this),this.adBackground&&(this.adBackground.on(cc.Node.EventType.TOUCH_END,this.onSlideClicked,this),this.adBackground.active=!1),r.default.instance.isReady||s.default.userOpenID||f.default.isToutiao?this.loadAdData():r.default.instance.addEventListener(c.default.READY,function(t){e.loadAdData()},this,0,!0)},t.prototype.loadAdData=function(){var e=this;r.default.instance.ad_getAdData(r.DeerAdType.BOARD,function(t){t&&(e.adsContainer.getComponent(l.default).data=t)}),s.default.getAffairs(function(t){null!=t&&void 0!=t&&0!=t.length&&(e.cooperateLabel.string="\u5546\u52a1\u5408\u4f5c\u5fae\u4fe1: "+t.join("\u3001"))})},a([g({type:cc.Node,displayName:"\u80cc\u666f\u5c42"})],t.prototype,"adBackground",void 0),a([g({type:cc.Node,displayName:"\u5e7f\u544a\u5bb9\u5668"})],t.prototype,"adsContainer",void 0),a([g({type:cc.Node,displayName:"\u5173\u95ed\u6309\u94ae"})],t.prototype,"closeBtn",void 0),a([g({type:cc.Node,displayName:"\u6ed1\u52a8\u9762\u677f"})],t.prototype,"slideNode",void 0),a([g({type:cc.Node,displayName:"\u6253\u5f00\u6309\u94ae"})],t.prototype,"openBtn",void 0),a([g({type:cc.Label,displayName:"\u5546\u52a1\u5408\u4f5c\u5fae\u4fe1"})],t.prototype,"cooperateLabel",void 0),t=a([h],t)}(cc.Component);n.default=_,cc._RF.pop()},{"../../../scripts/control/GameEventName":"GameEventName","../../../scripts/gamecore/components/Comp_List":"Comp_List","../../../scripts/gamecore/deer/DeerSDK":"DeerSDK","../../../scripts/gamecore/deer/DeerSDKEventNames":"DeerSDKEventNames","../../../scripts/gamecore/managers/GameManager":"GameManager","../../../scripts/gamecore/wechat/WXBannerAd":"WXBannerAd","../../../scripts/gamecore/xiaoyaoji/XYJAPI":"XYJAPI","../../gamecore/base/GameValues":"GameValues"}],Buerry:[function(e,t,n){"use strict";cc._RF.push(t,"d574alL7/pK0ocjB87+fwTI","Buerry");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../gamecore/deer/DeerSDK"),r=e("../gamecore/wechat/WXBannerAd"),s=e("../gamecore/managers/Utils"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bannerUpADD=0,t.startLoca=null,t.bureeLoca=null,t.bannerUpADDR=0,t.isstart=!1,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.getBerryData()},t.prototype.isNoBuLoca=function(){this.bureeLoca=cc.v2(this.node.x,60-(cc.winSize.height/2-100)),this.startLoca=cc.v2(this.node.x,this.node.y)},t.prototype.getBerryData=function(){if(1==i.default.instance.canUseEasingPolicy){var e=i.default.instance.game_config;void 0!=e&&(this.bannerUpADD=0==this.bannerUpADD?e.bannerUpADD:this.bannerUpADD,this.bannerUpADDR=e.bannerUpADDR,this.init())}},t.prototype.init=function(){var e=this;if(Math.random()<=this.bannerUpADDR){if(0==this.relayout()&&this.isNoBuLoca(),r.default.currentAd.hide(),this.node.position=this.bureeLoca,-1==this.bannerUpADD)return;this.scheduleOnce(function(){r.default.currentAd.show(),e.isstart=!0},this.bannerUpADD)}},t.prototype.relayout=function(){var e=!1,t=r.default.currentAd;if(void 0!=t&&1==t.isShowing){var n=t.adRect;if(void 0!=n){n=s.default.fromScreenRect(n);var o=new cc.Vec2(n.x+n.width/2,n.y+n.height);o=this.node.parent.convertToNodeSpaceAR(o);var a=void 0;a=t.isShowing?o.y+this.node.height*this.node.anchorY:o.y-this.node.height*(1-this.node.anchorY),this.bureeLoca=cc.v2(this.node.x,a-this.node.height/2-n.height/2),this.startLoca=cc.v2(this.node.x,a+55),e=!0}}return e},t.prototype.update=function(e){1==this.isstart&&(this.relayout(),this.node.position=this.startLoca)},a([u(cc.Integer)],t.prototype,"bannerUpADD",void 0),t=a([l],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../gamecore/deer/DeerSDK":"DeerSDK","../gamecore/managers/Utils":"Utils","../gamecore/wechat/WXBannerAd":"WXBannerAd"}],BulletBase:[function(e,t,n){"use strict";cc._RF.push(t,"bf0255T8n9HuKIrTldnX9nh","BulletBase");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BULLET_SPEED=1600,t.shadow=null,t.targetNode=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(){},t.prototype.reuse=function(e){},t.prototype.setTarget=function(e){},t.prototype.updateState1=function(){},t.prototype.updateState0=function(){},a([s(cc.MotionStreak)],t.prototype,"shadow",void 0),t=a([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],BulletMgr:[function(e,t,n){"use strict";cc._RF.push(t,"28423rszQpPaJ1Kae/uaM4j","BulletMgr");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){this.bulletNum=t.DEFAULT_BULLET_NUM,this.activeBulletNum=0}var t;return t=e,Object.defineProperty(e,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),e.prototype.setBulletShadowInfo=function(e){t.motionStreakCfg=new s;var n=new cc.Color(0,0,0,0),o=0,a=0,i=.5,r=1;switch(e){case"8001":n=new cc.Color(221,218,180,160),o=0,a=.17,r=.5;break;case"8002":n=new cc.Color(133,168,173,160),o=0,a=.3,r=.5;break;case"a8003":n=new cc.Color(226,231,112,160),o=0,a=.2;break;case"8004":n=new cc.Color(235,112,89,160),o=0,a=.17,r=.5;break;case"8005":n=new cc.Color(97,124,162,120),o=0,a=.2;break;case"8006":n=new cc.Color(75,131,172,160),o=0,a=.17,r=.5;break;case"a8007":n=new cc.Color(120,224,255,160),o=0,a=.18;break;case"8008":n=new cc.Color(233,197,190,160),o=0,a=.17,r=.5;break;case"a8009":n=new cc.Color(90,23,115,160),o=0,a=.17,i=.1,r=.5;break;case"8010":n=new cc.Color(198,0,66,160),o=0,a=.17,r=.5;break;case"8011":n=new cc.Color(255,138,153,160),o=0,a=.17,r=.5;break;case"8012":n=new cc.Color(255,173,53,160),o=0,a=.17,r=.5;break;case"a8013":n=new cc.Color(146,221,255,160),o=0,a=.17,i=.1,r=.17;break;case"8014":n=new cc.Color(240,240,240,160),o=0,a=.17,r=.5;break;case"8015":n=new cc.Color(80,42,94,160),o=0,a=.17,r=.5;break;case"8016":n=new cc.Color(255,172,201,160),o=0,a=.17,r=.5;break;case"8017":n=new cc.Color(211,67,34,160),o=0,a=.17,r=.5;break;case"a8018":n=new cc.Color(0,255,0,160),o=0,a=.01,r=.5;break;case"8019":n=new cc.Color(224,122,0,160),o=0,a=.17,r=.5;break;case"a8020":n=new cc.Color(55,244,239,160),o=0,a=.01,i=.17,r=.5;break;case"a8021":n=new cc.Color(40,68,192,160),o=0,a=.2}t.motionStreakCfg.color=n,t.motionStreakCfg.stroke=o,t.motionStreakCfg.fadeTime=a,t.motionStreakCfg.widthRatio=i,t.motionStreakCfg.scale=r},e.prototype.setPetBulletShadowInfo=function(e){t.petMotionStreakCfg=new s;var n=new cc.Color(0,0,0,0),o=0,a=0;switch(e){case 9001:n=new cc.Color(221,218,180,138),o=0,a=.17;break;case 9002:n=new cc.Color(133,168,173,138),o=0,a=.3;break;case 9003:n=new cc.Color(226,231,112,130),o=0,a=.2;break;case 9004:n=new cc.Color(235,112,89,138),o=0,a=.17;break;case 9005:n=new cc.Color(97,124,162,138),o=0,a=.2;break;case 9006:n=new cc.Color(75,131,172,138),o=0,a=.17}t.petMotionStreakCfg.color=n,t.petMotionStreakCfg.stroke=o,t.petMotionStreakCfg.fadeTime=a},e._instance=null,e.petBulletPrefab=null,e.ATTACK_EVENT="attackEvent",e.BARRIER_EVENT="barrierEvent",e.KEY_BULLET_NAME="bulletNormal",e.KEY_PET_BULLET_NAME="petBullet",e.DEFAULT_BULLET_NUM=20,e.BULLET_ATTACK_NUM=null,e.curBulletSriteFrame=null,e.curPetBulletSpfm=null,e.shootType=null,e.petShootType=null,e.ratioBarrierByPet=0,e.motionStreakCfg=null,e.petMotionStreakCfg=null,e=t=o([i],e)}());n.default=r;var s=function(){return function(){this.widthRatio=.5,this.scale=1}}();n.motionStreakStruct=s,cc._RF.pop()},{}],BulletNormal:[function(e,t,n){"use strict";cc._RF.push(t,"4b105tRoAtCK468IKg0JOez","BulletNormal");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./BulletBase"),r=e("../../../control/NodePoolMgr"),s=e("../../../module/data/StageDataMgr"),c=e("./BulletMgr"),l=e("../../../gamecore/wechat/WXDevice"),u=cc._decorator,d=u.ccclass,f=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.touch=!1,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.init=function(){if(!this.node.getComponent(cc.Sprite).spriteFrame){this.node.scale=c.default.motionStreakCfg.scale,this.node.getComponent(cc.Sprite).spriteFrame=c.default.curBulletSriteFrame;var e=this.node.getComponent(cc.PhysicsBoxCollider);e.size=cc.size(c.default.curBulletSriteFrame.getRect().width,c.default.curBulletSriteFrame.getRect().height),this.shadow.stroke=e.size.height*c.default.motionStreakCfg.widthRatio*this.node.scale,this.shadow.fadeTime=c.default.motionStreakCfg.fadeTime,this.shadow.color=c.default.motionStreakCfg.color,e.density=.001,this.node.getComponent(cc.PhysicsBoxCollider).apply()}},t.prototype.getVectorRadians=function(e,t,n,o){var a=o-t,i=n-e,r=Math.abs(a)/Math.abs(i),s=0;return a>0&&i<0?s=180*Math.atan(r)/Math.PI-90:a>0&&i>0?s=90-180*Math.atan(r)/Math.PI:a<0&&i<0?s=180*-Math.atan(r)/Math.PI-90:a<0&&i>0&&(s=180*Math.atan(r)/Math.PI+90),s},t.prototype.setTarget=function(e){if(this.targetNode=e,this.targetNode)switch(c.default.shootType){case 0:this.schedule(this.updateState0,.05);break;case 1:this.node.rotation=0,this.node.runAction(cc.repeatForever(cc.rotateBy(1,900))),this.schedule(this.updateState1,.05)}},t.prototype.updateState1=function(){var e=this.targetNode.position,t=this.node.position,n=this.node.getComponent(cc.RigidBody),o=e.x-t.x,a=e.y-t.y,i=Math.sqrt(o*o+a*a),r=a/i,s=o/i,c=this.BULLET_SPEED*r,l=this.BULLET_SPEED*s;n.linearVelocity=cc.v2(l,c)},t.prototype.updateState0=function(){var e=this.targetNode.position,t=this.node.position,n=this.node.getComponent(cc.RigidBody),o=e.x-t.x,a=e.y-t.y,i=Math.sqrt(o*o+a*a),r=a/i,s=o/i,c=this.BULLET_SPEED*r,l=this.BULLET_SPEED*s;n.linearVelocity=cc.v2(l,c);var u=this.getVectorRadians(t.x,t.y,e.x,e.y);this.node.rotation=u},t.prototype.unuse=function(){this.stopSchedule()},t.prototype.recycle=function(){this.touch=!1,r.default.instance.recycleNodePool(c.default.KEY_BULLET_NAME,this.node)},t.prototype.onBeginContact=function(e,t,n){var o=this;if(!this.touch){if(this.touch=!0,c.default.instance.activeBulletNum-=1,400==n.tag){var a=new cc.Event.EventCustom(c.default.BARRIER_EVENT,!0);this.node.dispatchEvent(a),this.stopSchedule(),this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){o.recycle()})))}else{(a=new cc.Event.EventCustom(c.default.ATTACK_EVENT,!0)).detail={harm:s.default.PER_MONSTER_ATTACKED_PERCENT,type:1},this.node.dispatchEvent(a),this.recycle()}l.default.vibrateShort()}},t.prototype.stopSchedule=function(){switch(c.default.shootType){case 0:this.unschedule(this.updateState0);break;case 1:this.unschedule(this.updateState1)}},t.prototype.onDestroy=function(){this.stopSchedule()},t.NAME="BulletNormal",t=a([d],t)}(i.default));n.default=f,cc._RF.pop()},{"../../../control/NodePoolMgr":"NodePoolMgr","../../../gamecore/wechat/WXDevice":"WXDevice","../../../module/data/StageDataMgr":"StageDataMgr","./BulletBase":"BulletBase","./BulletMgr":"BulletMgr"}],BuriedPoints:[function(e,t,n){"use strict";cc._RF.push(t,"8e36alFBiVAvb84N83jbbXt","BuriedPoints");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e.pointsname=["\u4e3b\u754c\u9762-\u8fdb\u5165\u754c\u9762","\u5347\u7ea7 - \u79fb\u52a8\u901f\u5ea6","\u5347\u7ea7 - \u79bb\u7ebf\u5956\u52b1","\u5347\u7ea7 - \u6389\u843d\u91d1\u5e01","\u7206\u6b3e\u6e38\u620f\u4fa7\u8fb9\u680f","\u4e3b\u754c\u9762 - \u91d1\u5e01\u5b9d\u7bb1","\u91d1\u5e01\u5b9d\u7bb1 - \u9886\u53d6","\u4e3b\u754c\u9762 - \u91d1\u5e01\u4e0d\u8db3","\u4e3b\u754c\u9762 - \u7b7e\u5230","\u4e3b\u754c\u9762 - \u6392\u884c\u699c","\u4e3b\u754c\u9762 - \u6dfb\u52a0\u5230\u6211\u7684\u5c0f\u7a0b\u5e8f","\u6dfb\u52a0\u5230\u6211\u7684\u5c0f\u7a0b\u5e8f - \u9886\u53d6","\u4e3b\u754c\u9762 - \u6218\u6597\u5f3a\u5316","\u6218\u6597\u5f3a\u5316 - \u6b66\u5668\u89e3\u9501","\u6218\u6597\u5f3a\u5316 - \u6b66\u5668\u5347\u7ea7","\u6218\u6597\u5f3a\u5316 - \u91cd\u7f6e\u9875\u7b7e","\u6218\u6597\u5f3a\u5316 - VIP\u9875\u7b7e","\u91cd\u7f6e\u9875\u7b7e - \u89d2\u8272\u89e3\u9501","\u91cd\u7f6e\u9875\u7b7e - \u89d2\u8272\u5347\u7ea7","\u91cd\u7f6e\u9875\u7b7e - \u91cd\u7f6e\u8363\u8000","\u91cd\u7f6e\u8363\u8000 - \u786e\u8ba4\u91cd\u7f6e","VIP\u9875\u7b7e - \u5206\u4eab\u5f00\u542f1\u5c0f\u65f6","VIP\u9875\u7b7e - \u89c6\u9891\u5f00\u542f5\u5c0f\u65f6","\u6218\u6597\u7ed3\u7b97 - \u53cc\u500d\u9886\u53d6","\u6218\u6597\u7ed3\u7b97 - \u666e\u901a\u9886\u53d6","\u6218\u6597\u7ed3\u7b97 - \u7ed3\u7b97\u63a8\u8350","\u79bb\u7ebf\u6536\u76ca - \u53cc\u500d\u9886\u53d6","\u79bb\u7ebf\u6536\u76ca - \u5355\u500d\u9886\u53d6","\u7b7e\u5230 - \u5206\u4eab2\u500d\u9886\u53d6","\u7b7e\u5230 - \u89c6\u98913\u500d\u9886\u53d6","\u6e38\u620f\u5206\u4eab\u5f39\u7a97 - \u5206\u4eab","\u4e3b\u754c\u9762 - \u7206\u6b3e\u6e38\u620f","\u8bd5\u7528\u6b66\u5668 - \u7acb\u5373\u8bd5\u7528","\u6218\u6597\u754c\u9762 - \u53cc\u500d\u91d1\u5e01\u5361","\u53cc\u500d\u91d1\u5e01\u5361 - \u9886\u53d6","\u65b0\u624b\u6307\u5f15 - 01","\u65b0\u624b\u6307\u5f15 - 02","\u65b0\u624b\u6307\u5f15 - 03","\u91cd\u7f6e\u6307\u5f15 - 01","\u91cd\u7f6e\u6307\u5f15 - 02","\u5f00\u59cb\u6218\u6597","\u901a\u5173\u5173\u5361","\u7ee7\u7eed\u95ef\u5173","\u8fd4\u56de\u9996\u9875"],e.pointwhil=["\u8fdb\u5165\u4e3b\u754c\u9762","\u70b9\u51fb\u79fb\u52a8\u901f\u5ea6\u5347\u7ea7\u6309\u94ae\uff08\u8bb0\u5f55\u5230\u8fbe\u7684\u7b49\u7ea7\uff09","\u70b9\u51fb\u79bb\u7ebf\u5956\u52b1\u5347\u7ea7\u6309\u94ae\uff08\u8bb0\u5f55\u5230\u8fbe\u7684\u7b49\u7ea7\uff09","\u70b9\u51fb\u6389\u843d\u91d1\u5e01\u5347\u7ea7\u6309\u94ae\uff08\u8bb0\u5f55\u5230\u8fbe\u7684\u7b49\u7ea7\uff09","\u70b9\u51fb\u7206\u6b3e\u6e38\u620f\u4fa7\u8fb9\u680f","\u70b9\u51fb\u91d1\u5e01\u5b9d\u7bb1\u6309\u94ae","\u70b9\u51fb\u9886\u53d6\u6309\u94ae","\u70b9\u51fb\u91d1\u5e01\u6570\u91cf\u65c1\u7684 + \u53f7\u6309\u94ae","\u70b9\u51fb\u7b7e\u5230\u6309\u94ae","\u70b9\u51fb\u6392\u884c\u699c\u6309\u94ae","\u70b9\u51fb\u6dfb\u52a0\u5230\u6211\u7684\u5c0f\u7a0b\u5e8f\u7684\u5b9d\u7bb1\u6309\u94ae","\u70b9\u51fb\u9886\u53d6\u6309\u94ae","\u70b9\u51fb\u6218\u6597\u5f3a\u5316\u4fa7\u8fb9\u680f","\u70b9\u51fb\u6b66\u5668\u89e3\u9501\uff08\u8bb0\u5f55\u6b66\u5668ID\uff09","\u70b9\u51fb\u6b66\u5668\u5347\u7ea7\uff08\u8bb0\u5f55\u6b66\u5668ID\u548c\u5230\u8fbe\u7684\u7b49\u7ea7\uff09","\u70b9\u51fb\u91cd\u7f6e\u9875\u7b7e","\u70b9\u51fbVIP\u9875\u7b7e","\u70b9\u51fb\u89e3\u9501\u6309\u94ae\uff08\u8bb0\u5f55\u89d2\u8272ID\uff09","\u70b9\u51fb\u89d2\u8272\u5347\u7ea7\uff08\u8bb0\u5f55\u89d2\u8272ID\u548c\u5230\u8fbe\u7684\u7b49\u7ea7\uff09","\u70b9\u51fb\u91cd\u7f6e\u6309\u94ae","\u70b9\u51fb\u786e\u8ba4\u91cd\u7f6e\u6309\u94ae","\u70b9\u51fb\u5206\u4eab\u5f00\u542f1\u5c0f\u65f6\u6309\u94ae","\u70b9\u51fb\u89c6\u9891\u5f00\u542f5\u5c0f\u65f6\u6309\u94ae","\u70b9\u51fb\u53cc\u500d\u9886\u53d6\u6309\u94ae","\u70b9\u51fb\u666e\u901a\u9886\u53d6\u6309\u94ae","\u70b9\u51fb\u63a8\u8350\u4f4d\u4e2d\u7684\u5185\u5bb9","\u70b9\u51fb\u53cc\u500d\u9886\u53d6\u6309\u94ae","\u70b9\u51fb\u5355\u500d\u9886\u53d6\u6309\u94ae","\u70b9\u51fb\u5206\u4eab2\u500d\u9886\u53d6\u6309\u94ae","\u70b9\u51fb\u89c6\u98913\u500d\u9886\u53d6\u6309\u94ae","\u70b9\u51fb\u7206\u6b3e\u6e38\u620f\u4e2d\u7684\u5185\u5bb9","\u70b9\u51fb\u7acb\u5373\u8bd5\u7528\u6309\u94ae","\u70b9\u51fb\u53cc\u500d\u91d1\u5e01\u5361\u6309\u94ae","\u70b9\u51fb\u9886\u53d6\u6309\u94ae","\u901a\u8fc7\u65b0\u624b\u6307\u5f1501","\u901a\u8fc7\u65b0\u624b\u6307\u5f1502","\u901a\u8fc7\u65b0\u624b\u6307\u5f1503","\u901a\u8fc7\u91cd\u7f6e\u6307\u5f1501","\u901a\u8fc7\u91cd\u7f6e\u6307\u5f1502","\u5f00\u59cb\u6218\u6597","\u901a\u5173\u5173\u5361","\u7ee7\u7eed\u95ef\u5173","\u8fd4\u56de\u9996\u9875"],e=o([i],e)}());n.default=r,cc._RF.pop()},{}],Callback:[function(e,t,n){"use strict";cc._RF.push(t,"6db2e/tWP9PMIBGOB7obvi7","Callback"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(e,t){this.callback=e,this.thisObj=t}}();n.default=o,cc._RF.pop()},{}],CircleAvatarItemMain:[function(e,t,n){"use strict";cc._RF.push(t,"559e1NEaRVJIoA0Mns4/k0S","CircleAvatarItemMain");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.defaultSF=null,t.showDefault=!0,t._originalWidth=0,t._originalHeight=0,t}return o(t,e),t.prototype.start=function(){this._originalWidth=this.avatarSprite.node.width,this._originalHeight=this.avatarSprite.node.height,this.showDefault&&(this.avatarSprite.spriteFrame=this.defaultSF),this.refreshUI()},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data!=e&&(this._data=e,this.refreshUI())},enumerable:!0,configurable:!0}),t.prototype.refreshUI=function(){var e=this;if(this._data&&this._isOnLoadCalled){var t=this._data.avatar;t&&cc.loader.load({url:t,type:"png"},function(t,n){n&&(e.avatarSprite.spriteFrame=new cc.SpriteFrame(n),e.avatarSprite.node.width=e._originalWidth,e.avatarSprite.node.height=e._originalHeight)})}},a([s(cc.SpriteFrame)],t.prototype,"defaultSF",void 0),a([s(cc.Sprite)],t.prototype,"avatarSprite",void 0),t=a([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],CoinAnim:[function(e,t,n){"use strict";cc._RF.push(t,"c2af35mzStCGLfyS+PhD9hk","CoinAnim");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../gamecore/managers/GameManager"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinPrefab=null,t.diamondPrefab=null,t}var n;return o(t,e),n=t,t.coinPut=function(e){n.coinPool.put(e)},t.coinGet=function(){var e=n.coinPool.get();return null!=e&&(e.x=0,e.y=0,e.rotation=0),e},t.diamondPut=function(e){n.diamondPool.put(e)},t.diamondGet=function(){var e=n.diamondPool.get();return null!=e&&(e.x=0,e.y=0,e.rotation=0),e},t.prototype.batchExecuteAnim=function(e,t,o,a,r){var s=this;void 0===a&&(a=null),void 0===r&&(r=1),this.schedule(function(){var a=n.coinGet(),r=n.diamondGet();switch(null==a&&(a=cc.instantiate(s.coinPrefab)),null==r&&(r=cc.instantiate(s.diamondPrefab)),e){case 0:r.setPosition(t),s.node.addChild(r),i.default.soundsManager.playSound("sound/getMoney"),s.executeDiamondAnim(r,t,o);break;case 1:a.setPosition(t),s.node.addChild(a),i.default.soundsManager.playSound("sound/getMoney"),s.executeCoinAnim(a,t,o)}},.1,cc.macro.REPEAT_FOREVER),this.scheduleOnce(function(){s.unscheduleAllCallbacks(),a&&a()},r)},t.prototype.executeCoinAnim=function(e,t,o){var a=t.y+(o.y-t.y)*Math.random(),i=t.x+(o.x-t.x)*Math.random(),r=[t,cc.v2(i,a),o],s=cc.bezierTo(.5,r),c=cc.rotateBy(.5,720),l=(cc.spawn(s,c),cc.sequence(s,cc.callFunc(function(){e.removeFromParent(),n.coinPut(e)})));e.runAction(l)},t.prototype.executeDiamondAnim=function(e,t,o){var a=t.y+(o.y-t.y)*Math.random(),i=t.x+(o.x-t.x)*Math.random(),r=[t,cc.v2(i,a),o],s=cc.bezierTo(.5,r),c=cc.rotateBy(.5,720),l=(cc.spawn(s,c),cc.sequence(s,cc.callFunc(function(){e.removeFromParent(),n.diamondPut(e)})));e.runAction(l)},t.prototype.onLoad=function(){var e=this;this.node.on(n.SHOW_FLY_ANI,function(t){t&&(t.stopPropagation(),e.batchExecuteAnim(t.detail.type,t.detail.start,t.detail.end,t.detail.callback,t.detail.duration))},this)},t.coinPool=new cc.NodePool,t.diamondPool=new cc.NodePool,a([c(cc.Prefab)],t.prototype,"coinPrefab",void 0),a([c(cc.Prefab)],t.prototype,"diamondPrefab",void 0),t=n=a([s],t)}(cc.Component);n.default=l;var u=function(){return function(){}}();n.FlyStruct=u,cc._RF.pop()},{"../../gamecore/managers/GameManager":"GameManager"}],Command:[function(e,t,n){"use strict";cc._RF.push(t,"1d507qdRZdPcatgBlQHTkCv","Command"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this._prefabURL=null}return Object.defineProperty(e.prototype,"data",{get:function(){return this.event.data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"prefabURL",{get:function(){return this._prefabURL},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"prefab",{get:function(){return this._prefabURL?e.prefabMap[this._prefabURL]:null},enumerable:!0,configurable:!0}),e.prototype.loadPrefab=function(t){if(void 0===t&&(t=null),this._prefabURL)if(e.prefabMap[this._prefabURL])null!=t&&t.call(null);else{var n=this,o=this._prefabURL;o=o.replace(/^\/?resources\//,""),console.log("[Command] load prefab "+o),cc.loader.loadRes(o,function(o,a){console.log("[Command] prefab loaded",o,a),a?e.prefabMap[n._prefabURL]=a:console.log("[Command] prefab load fail:"+n._prefabURL),null!=t&&t.call(null)})}else null!=t&&t.call(null)},e.prototype.execute=function(){},e.prototype.destroyPrefab=function(){this._prefabURL&&(cc.loader.releaseRes(this._prefabURL),delete e.prefabMap[this._prefabURL],this._prefabURL=null)},e.prefabMap={},e}();n.default=o,cc._RF.pop()},{}],Comp_AvatarImage:[function(e,t,n){"use strict";cc._RF.push(t,"832d8Qtp+NITIaQvYWXNhzb","Comp_AvatarImage");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../wechat/WXImage"),r=e("../wechat/WXUser"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.imageURL="https://deer-cdn.youkongwan.com/common/gamesdeer2_128.png",t}return o(t,e),t.prototype.start=function(){this._sprite=this.node.getComponent(cc.Sprite),this._sprite||(this._sprite=this.node.addComponent(cc.Sprite)),this.refreshImage(),r.default.userInfo||r.default.onUserInfo(this.userInfoCallback.bind(this))},t.prototype.userInfoCallback=function(){r.default.offUserInfo(this.userInfoCallback.bind(this)),this.refreshImage()},t.prototype.refreshImage=function(){r.default.userInfo&&r.default.userInfo.avatarUrl?this._sprite.spriteFrame=i.default.createImage(r.default.userInfo.avatarUrl):this.imageURL&&(this._sprite.spriteFrame=i.default.createImage(this.imageURL))},t.prototype.onDestroy=function(){r.default.offUserInfo(this.userInfoCallback.bind(this))},a([l({displayName:"\u9ed8\u8ba4\u5934\u50cfURL"})],t.prototype,"imageURL",void 0),t=a([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../wechat/WXImage":"WXImage","../wechat/WXUser":"WXUser"}],Comp_DeerIconAd:[function(e,t,n){"use strict";cc._RF.push(t,"389c7cwHO9EMouWC2i1OhNM","Comp_DeerIconAd");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.adSprite=null,t.adNameLabel=null,t.renewWhenTap=!0,t.enableEffect=!1,t._isFirstTimeShow=!0,t._needToRenew=!1,t}var n;return o(t,e),n=t,Object.defineProperty(t,"adPool",{set:function(e){e&&(n._adPool=e.concat())},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){this.enableEffect&&(this.node.opacity=0)},t.prototype.start=function(){this.adSprite||(this.adSprite=this.node.getComponent(cc.Sprite),this.adSprite||(this.adSprite=this.node.addComponent(cc.Sprite))),this._adOriginalHeight=this.adSprite.node.height,this._adOriginalWidth=this.adSprite.node.width,this.node.on(cc.Node.EventType.TOUCH_END,this.touchEndHandler,this),this._data&&this.showAd(),"undefined"!=typeof wx&&wx.onShow(this.wxOnShowCallback.bind(this))},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data!=e&&(this._data=e,this.showAd())},enumerable:!0,configurable:!0}),t.prototype.touchEndHandler=function(e){this._data&&(this._data.navigate(),this.renewWhenTap&&this.tryRenew())},t.prototype.tryRenew=function(){this._needToRenew=!0},t.prototype.renew=function(){this._needToRenew=!1,n._adPool&&n._adPool.length>0&&(this.data=n._adPool[0])},t.prototype.showAd=function(){if(this._isOnLoadCalled&&this._data){var e=this;if(cc.loader.load({url:this._data.icon,type:"png"},function(t,n){if(e.node&&e.node.isValid){if(n&&e.adSprite&&(e.adSprite.spriteFrame=new cc.SpriteFrame(n),e.adSprite.node.width=e._adOriginalWidth,e.adSprite.node.height=e._adOriginalHeight,e._isFirstTimeShow&&e.enableEffect)){e._isFirstTimeShow=!1;var o=.1;e.data.index&&(o+=.1*e.data.index),e.node.scale=.8,e.node.opacity=1,e.node.runAction(cc.sequence(cc.delayTime(o),cc.spawn(cc.fadeTo(.5,255),cc.scaleTo(.5,1,1).easing(cc.easeBackOut()))))}e._data&&e._data.reportShown()}}),this.adNameLabel&&(this.adNameLabel.string=""+this._data.name),n._adPool){var t=n._adPool.indexOf(this._data);n._adPool.splice(t,1)}}},t.prototype.wxOnShowCallback=function(){this._needToRenew&&this.renew()},t.prototype.onDestroy=function(){"undefined"!=typeof wx&&wx.offShow(this.wxOnShowCallback.bind(this))},a([s({displayName:"\u5e7f\u544a\u56fe\u6807",type:cc.Sprite})],t.prototype,"adSprite",void 0),a([s({displayName:"\u5e7f\u544a\u540d\u79f0",type:cc.Label})],t.prototype,"adNameLabel",void 0),a([s({displayName:"\u70b9\u51fb\u540e\u66f4\u6362"})],t.prototype,"renewWhenTap",void 0),a([s({displayName:"\u5f00\u542f\u7f13\u52a8\u6548\u679c"})],t.prototype,"enableEffect",void 0),t=n=a([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],Comp_DeerRecommendAdList:[function(e,t,n){"use strict";cc._RF.push(t,"6b40ejKNTtN279ZlBSmKTG6","Comp_DeerRecommendAdList");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./DeerSDK"),r=e("./DeerSDKEventNames"),s=e("./Comp_DeerIconAd"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.adSize=100,t.adMaxCount=0,t.gapH=10,t.renewAd=!1,t.adItemPrefab=null,t}return o(t,e),t.prototype.onLoad=function(){this.node.opacity=0},t.prototype.start=function(){i.default.instance.isReady?this.loadAdData():i.default.instance.addEventListener(r.default.READY,this.deerSDKReadyHandler,this)},t.prototype.deerSDKReadyHandler=function(e){this.loadAdData()},t.prototype.loadAdData=function(){var e=this;i.default.instance.removeEventListener(r.default.READY,this.deerSDKReadyHandler,this),i.default.instance.ad_getAdData(i.DeerAdType.RECOMMEND,function(t){e.showAds(t)})},t.prototype.showAds=function(e){if(e&&0!=e.length){this.renewAd&&(s.default.adPool=e),this.node.opacity=255;var t=e.length;this.adMaxCount>0&&(t=Math.min(t,this.adMaxCount));for(var n=0;n<t;n++){var o=cc.instantiate(this.adItemPrefab);o.width=this.adSize,o.height=this.adSize,o.x=(o.width+this.gapH)*n+o.width/2+this.gapH;var a=e[n];a.index=n,o.getComponent(s.default).data=a,this.node.addChild(o)}this.node.width=(this.adSize+this.gapH)*t+this.gapH}},t.prototype.onDestroy=function(){i.default.instance.removeEventListener(r.default.READY,this.deerSDKReadyHandler,this)},a([u({displayName:"\u5e7f\u544a\u663e\u793a\u5927\u5c0f"})],t.prototype,"adSize",void 0),a([u({displayName:"\u5e7f\u544a\u663e\u793a\u6570"})],t.prototype,"adMaxCount",void 0),a([u({displayName:"\u6c34\u5e73\u95f4\u8ddd"})],t.prototype,"gapH",void 0),a([u({displayName:"\u81ea\u52a8\u66f4\u65b0\u5e7f\u544a",tooltip:"\u542f\u7528\u540e\uff0c\u88ab\u70b9\u51fb\u7684\u5e7f\u544a\u4f1a\u81ea\u52a8\u66f4\u65b0\u663e\u793a\u53e6\u5916\u7684\u5e7f\u544a"})],t.prototype,"renewAd",void 0),a([u({type:cc.Prefab,displayName:"\u5355\u4e2a\u5e7f\u544a\u9884\u5236\u4f53"})],t.prototype,"adItemPrefab",void 0),t=a([l],t)}(cc.Component);n.default=d,cc._RF.pop()},{"./Comp_DeerIconAd":"Comp_DeerIconAd","./DeerSDK":"DeerSDK","./DeerSDKEventNames":"DeerSDKEventNames"}],Comp_DeerSpineAd:[function(e,t,n){"use strict";cc._RF.push(t,"f3d1c4JcUxDXqli2JcITgpE","Comp_DeerSpineAd");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./DeerSDKEventNames"),r=e("./DeerSDK"),s=e("../base/GameValues"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.adInterval=12,t.adRandom=!0,t.priorityID="",t.priorityid_touched=!1,t._data=[],t}var n;return o(t,e),n=t,t.prototype.start=function(){r.default.instance.isReady||Object.keys(s.default.ttAds).length>0?this.loadAdData():r.default.instance.addEventListener(i.default.READY,this.sdkReadyHandler,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEndHandler,this)},t.prototype.sdkReadyHandler=function(e){r.default.instance.removeEventListener(i.default.READY,this.sdkReadyHandler,this),this.loadAdData()},t.prototype.touchEndHandler=function(e){this._currentAd&&(this._currentAd.navigate(),this._currentAd.appID==this.priorityID&&(this.priorityid_touched=!0))},t.prototype.loadAdData=function(){var e=this;r.default.instance.ad_getAdData(r.DeerAdType.ANIMATION,function(t){e.data=t})},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data!=e&&(this._data=e,this.showNextAd(),this.unschedule(this.showNextAd),this.adInterval>0&&this.schedule(this.showNextAd,this.adInterval))},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._currentAd=null,this._lastAdNode&&(this._lastAdNode.destroy(),this._lastAdNode=null)},Object.defineProperty(t.prototype,"currentAd",{get:function(){return this._currentAd},enumerable:!0,configurable:!0}),t.prototype.showNextAd=function(){if(this._data&&0!=this._data.length){var e=this._data.indexOf(this._currentAd);if(this.priorityID.length>0&&!this.priorityid_touched){for(var t=0;t<this._data.length;t++)if(this._data[t].appID==this.priorityID){e=t;break}}else if(this.adRandom&&this._data.length>1){for(t=20;t-- >0;){var o=Math.floor(Math.random()*this._data.length);if(o!=e&&o!=n._lastAdIndex){e=o;break}}n._lastAdIndex=e}else++e>=this._data.length&&(e=0);this.showAd(this._data[e])}},t.prototype.showAd=function(e){var t=this;if(e&&this._currentAd!=e)if(this._currentAd=e,console.log("-------\u663e\u793a\u5e7f\u544a-----------",this._currentAd),Object.keys(s.default.ttAds).length>0){var n=new cc.Node,o=n.addComponent(cc.Sprite);o.spriteFrame=this._currentAd.spriteFrame,this._lastAdNode&&this._lastAdNode.destroy(),this._lastAdNode=n,console.log("------------_currentAd----------",o),this._lastAdNode.width=this.node.width,this._lastAdNode.height=this.node.height,this.node.addChild(this._lastAdNode);var a=this.node.getChildByName("txtGameName");a&&(a.getComponent(cc.Label).string=this._currentAd.name)}else if(this._currentAd.spine){this._currentAd.reportShown();var i=[this._currentAd.spine.png,this._currentAd.spine.atlas,this._currentAd.spine.aniJson];cc.loader.load(i,function(e,n){var o=new cc.Node,a=o.addComponent(sp.Skeleton);try{n.getContent(t._currentAd.spine.png);var i=new sp.SkeletonData;cc.ENGINE_VERSION>="2.0.0"?i.textures=[n.getContent(t._currentAd.spine.png)]:i.textures=[t._currentAd.spine.png];var r=t._currentAd.spine.png.split("/").pop();i.textureNames=[r],i.atlasText=n.getContent(t._currentAd.spine.atlas);var s=i.atlasText.match(/\n(.+?\.png)\n/);if(s){var c=s[1];i.atlasText=i.atlasText.replace("\n"+c+"\n","\n"+r+"\n")}if(i.skeletonJson=n.getContent(t._currentAd.spine.aniJson),a.skeletonData=i,a.defaultSkin="default",a.premultipliedAlpha=!1,i._skeletonJson&&i._skeletonJson.animations){var l=Object.keys(i._skeletonJson.animations);l.length>0&&(a.animation=l[0])}t._lastAdNode&&t._lastAdNode.destroy(),t._lastAdNode=o,t._lastAdNode.scaleX=t.node.width/256,t._lastAdNode.scaleY=t.node.height/256,t.node.addChild(t._lastAdNode)}catch(e){var u=new cc.Node,d=u.addComponent(cc.Sprite);cc.loader.load(t._currentAd.icon,function(e,n){d.spriteFrame=new cc.SpriteFrame(n),t._lastAdNode&&t._lastAdNode.destroy(),t._lastAdNode=u,t._lastAdNode.width=102,t._lastAdNode.height=102,t.node.addChild(t._lastAdNode)})}})}},t._lastAdIndex=-1,a([u({displayName:"\u8f6e\u64ad\u95f4\u9694(\u79d2)",tooltip:"0\u8868\u793a\u4e0d\u8f6e\u64ad"})],t.prototype,"adInterval",void 0),a([u({displayName:"\u662f\u5426\u968f\u673a"})],t.prototype,"adRandom",void 0),a([u({displayName:"\u9700\u8981\u4f18\u5148\u5c55\u793a\u7684appid"})],t.prototype,"priorityID",void 0),t=n=a([l],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../base/GameValues":"GameValues","./DeerSDK":"DeerSDK","./DeerSDKEventNames":"DeerSDKEventNames"}],Comp_EffectFadeInAndOut:[function(e,t,n){"use strict";cc._RF.push(t,"110eeaCv1dM37MIcLR0dnt3","Comp_EffectFadeInAndOut");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.duration=1.5,t}return o(t,e),t.prototype.start=function(){this.play()},t.prototype.play=function(){this._theAction||(this._theAction=this.node.runAction(cc.repeatForever(cc.sequence(cc.fadeTo(this.duration,100),cc.fadeTo(this.duration,255),cc.delayTime(.1)))))},t.prototype.stop=function(){this._theAction&&(this.node.stopAction(this._theAction),this._theAction=null)},t.prototype.onDestroy=function(){this.stop()},a([s({displayName:"\u6de1\u9690\u7279\u6548\u65f6\u957f(\u79d2)"})],t.prototype,"duration",void 0),t=a([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],Comp_EffectFloat:[function(e,t,n){"use strict";cc._RF.push(t,"7fa60J7eyhEa4Rw0/ehB8Nn","Comp_EffectFloat");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.duration=1.5,t.delay=2,t.distanceY=20,t.distanceX=0,t}return o(t,e),t.prototype.start=function(){this.play()},t.prototype.play=function(){this._theAction&&this.node.stopAction(this._theAction),this.unschedule(this.play),this._theAction=this.node.runAction(cc.sequence(cc.moveTo(this.duration,this.node.x+this.distanceX,this.node.y+this.distanceY).easing(cc.easeOut(1)),cc.moveTo(this.duration,this.node.x,this.node.y).easing(cc.easeBackIn()),cc.callFunc(this.effectCompleteCallback,this)))},t.prototype.effectCompleteCallback=function(){this._theAction=null;var e=this.delay*Math.random()/2+this.delay/2;this.schedule(this.play,e,1)},t.prototype.stop=function(){this.unschedule(this.play),this._theAction&&(this.node.stopAction(this._theAction),this._theAction=null)},t.prototype.onDestroy=function(){this.stop()},a([s({displayName:"\u6d6e\u52a8\u7279\u6548\u65f6\u957f(\u79d2)"})],t.prototype,"duration",void 0),a([s({displayName:"\u6d6e\u52a8\u95f4\u9694\u65f6\u957f(\u79d2)"})],t.prototype,"delay",void 0),a([s({displayName:"\u6d6e\u52a8\u8ddd\u79bb(y)"})],t.prototype,"distanceY",void 0),a([s({displayName:"\u6d6e\u52a8\u8ddd\u79bb(x)"})],t.prototype,"distanceX",void 0),t=a([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],Comp_EffectFlyTo:[function(e,t,n){"use strict";cc._RF.push(t,"bd11fi5YHFKZK2uKdRShsSs","Comp_EffectFlyTo");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasRandom=!0,t.height=100,t.distance=100,t.duration=1,t.startDelay=.5,t.flyDeltaDistance=50,t.destroyWhenComplete=!0,t.data=null,t._isFlying=!1,t}return o(t,e),t.prototype.start=function(){this.destination&&this.go()},Object.defineProperty(t.prototype,"isFlying",{get:function(){return this._isFlying},enumerable:!0,configurable:!0}),t.prototype.go=function(e){var t=this;if(void 0===e&&(e=null),!this._isFlying){this._isFlying=!0,e&&(this.destination=e);var n=this.startDelay;this.hasRandom&&(n+=Math.min(.5,this.startDelay/3*Math.random())),this.height<=0?this.scheduleOnce(this.flyToDestination,n):this.node.runAction(cc.sequence(cc.delayTime(n),cc.spawn(cc.moveBy(this.duration,0,-this.height).easing(cc.easeBounceOut()),cc.moveBy(this.duration,this.distance,0)),cc.delayTime(.5+.5*Math.random()),cc.callFunc(function(){t.flyToDestination()})))}},t.prototype.flyToDestination=function(){var e=this,t=this.destination;if(t){var n=new cc.Vec2(0,0);n=this.node.convertToWorldSpaceAR(n),this.node.x=n.x,this.node.y=n.y,this.node.removeFromParent(!1),cc.director.getScene().addChild(this.node);var o=this.flyDeltaDistance;this.hasRandom&&(o+=this.flyDeltaDistance/3*Math.random());var a=.3*Math.random()+.6;this.node.runAction(cc.sequence(cc.spawn(cc.sequence(cc.moveBy(a/2,t.x-this.node.x+o,0).easing(cc.easeCubicActionOut()),cc.moveBy(a/2,-o,0).easing(cc.easeCubicActionIn())),cc.moveBy(a,0,t.y-this.node.y).easing(cc.easeQuadraticActionIn())),cc.scaleTo(.2,1.3,1.3),cc.scaleTo(.2,1,1),cc.callFunc(function(){e.doComplete()})))}else this.doComplete()},t.prototype.doComplete=function(){if(null!=this.completeCallback)try{this.completeCallback(this.data)}catch(e){}this.destroyWhenComplete&&this.node.destroy()},t.prototype.onDestroy=function(){this.completeCallback=null,this.data=null,this.destination=null},a([s({displayName:"\u5f00\u542f\u5c0f\u968f\u673a"})],t.prototype,"hasRandom",void 0),a([s({displayName:"\u6389\u843d\u9ad8\u5ea6",tooltip:"0\u6216\u8005\u5c0f\u4e8e0\uff0c\u5219\u4e0d\u6389\u843d\uff0c\u76f4\u63a5\u98de\u5411\u76ee\u7684\u5730"})],t.prototype,"height",void 0),a([s({displayName:"\u6389\u843d\u8ddd\u79bb"})],t.prototype,"distance",void 0),a([s({displayName:"\u6389\u843d\u65f6\u957f"})],t.prototype,"duration",void 0),a([s({displayName:"\u5f00\u59cb\u5ef6\u8fdf\u65f6\u95f4"})],t.prototype,"startDelay",void 0),a([s({displayName:"\u98de\u56de\u7684x\u589e\u91cf"})],t.prototype,"flyDeltaDistance",void 0),a([s({displayName:"\u81ea\u52a8\u9500\u6bc1",tooltip:"\u5230\u8fbe\u76ee\u7684\u540e\uff0c\u662f\u5426\u81ea\u52a8\u9500\u6bc1"})],t.prototype,"destroyWhenComplete",void 0),t=a([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],Comp_EffectShake:[function(e,t,n){"use strict";cc._RF.push(t,"d342fUO6VhA5LnA4b5QqSeL","Comp_EffectShake");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.duration=3,t.delay=5,t.randomDelay=!0,t._isActing=!1,t.shakeAngle=15,t}return o(t,e),Object.defineProperty(t.prototype,"isActing",{get:function(){return this._isActing},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.duration=Math.max(.5,this.duration),this.playEffect()},t.prototype.playEffect=function(){!0!==this._isActing&&(this._isActing=!0,this.node.runAction(cc.sequence(cc.rotateTo(.2,-this.shakeAngle),cc.rotateTo(.2,this.shakeAngle),cc.rotateTo(.15,.8*-this.shakeAngle),cc.rotateTo(.15,.8*this.shakeAngle),cc.rotateTo(.1,.6*-this.shakeAngle),cc.rotateTo(.1,.6*this.shakeAngle),cc.rotateTo(this.duration-.9,0).easing(cc.easeElasticOut(.1)),cc.callFunc(this.play_complete,this))))},t.prototype.play_complete=function(){this._isActing=!1;var e=this.delay;this.randomDelay&&(e+=.5-Math.random()),this.scheduleOnce(this.playEffect,e)},a([s({displayName:"\u7279\u6548\u65f6\u957f(\u79d2)"})],t.prototype,"duration",void 0),a([s({displayName:"\u7279\u6548\u95f4\u9694(\u79d2)"})],t.prototype,"delay",void 0),a([s({displayName:"\u968f\u673a\u95f4\u9694\u65f6\u95f4",tooltip:"\u52fe\u9009\u540e\uff0c\u7279\u6548\u95f4\u9694\u65f6\u95f4\u6709\u4e00\u5b9a\u5e45\u5ea6\u7684\u5c0f\u968f\u673a"})],t.prototype,"randomDelay",void 0),a([s({displayName:"\u6296\u52a8\u89d2\u5ea6"})],t.prototype,"shakeAngle",void 0),t=a([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],Comp_EffectZoom:[function(e,t,n){"use strict";cc._RF.push(t,"874793Zj9dE1J7eAc9IvKdI","Comp_EffectZoom");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.duration=1,t.delay=3,t.randomDelay=!0,t._isActing=!1,t.zoomInFactor=1.2,t}return o(t,e),Object.defineProperty(t.prototype,"isActing",{get:function(){return this._isActing},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.duration=Math.max(.5,this.duration),this.playEffect()},t.prototype.playEffect=function(){if(!0!==this._isActing){this._isActing=!0;var e=this.node.scaleX,t=this.node.scaleY,n=this.node.scaleX*this.zoomInFactor,o=this.node.scaleY*this.zoomInFactor;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.scaleTo(this.duration/2,n,o).easing(cc.easeQuarticActionIn()),cc.scaleTo(this.duration/2,e,t).easing(cc.easeQuarticActionOut()),cc.callFunc(this.play_complete,this)))}},t.prototype.play_complete=function(){this._isActing=!1;var e=this.delay;this.randomDelay&&(e+=.5-Math.random()),e>0?this.scheduleOnce(this.playEffect,e):this.playEffect()},a([s({displayName:"\u7279\u6548\u65f6\u957f(\u79d2)"})],t.prototype,"duration",void 0),a([s({displayName:"\u7279\u6548\u95f4\u9694(\u79d2)"})],t.prototype,"delay",void 0),a([s({displayName:"\u968f\u673a\u95f4\u9694\u65f6\u95f4",tooltip:"\u52fe\u9009\u540e\uff0c\u7279\u6548\u95f4\u9694\u65f6\u95f4\u6709\u4e00\u5b9a\u5e45\u5ea6\u7684\u5c0f\u968f\u673a"})],t.prototype,"randomDelay",void 0),a([s({displayName:"\u653e\u5927\u7cfb\u6570"})],t.prototype,"zoomInFactor",void 0),t=a([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],Comp_FeedbackButton:[function(e,t,n){"use strict";cc._RF.push(t,"71054X0aVFN6byFPz4C+jwL","Comp_FeedbackButton");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../base/GameValues"),r=e("../managers/Utils"),s=e("../managers/GameManager"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttonBG="https://deer-cdn.youkongwan.com/common/blank.png",t.hideWhenHasPopUp=!0,t.delay=0,t}return o(t,e),t.prototype.start=function(){i.default.isDebug&&(this.buttonBG="https://deer-cdn.youkongwan.com/common/blank_debug.png"),this._lastPosition=this.node.convertToWorldSpaceAR(new cc.Vec2(0,0)),this.delay<=0?this.createButton():this.scheduleOnce(this.createButton,this.delay)},t.prototype.createButton=function(){if("undefined"!=typeof wx){var e=this.node.getBoundingBoxToWorld();e=r.default.toScreenRect(e),this._button=wx.createFeedbackButton({type:"image",image:this.buttonBG,style:{left:e.xMin,top:e.yMin,width:e.width,height:e.height,lineHeight:40}})}},t.prototype.refresh=function(){this._button&&(this._button.destroy(),this._button=null,this.createButton())},t.prototype.update=function(e){cc.director.getTotalFrames()%60==0&&this.updateButton(!0)},t.prototype.onDisable=function(){this.updateButton(!1)},t.prototype.updateButton=function(e){if(this._button){var t=e;this.hideWhenHasPopUp&&s.default.popUpManager.popUpCount>0&&(t=!1),t&&(t=this.enabled),console.log("RESULT","toshow",t);var n=this.node.convertToWorldSpaceAR(new cc.Vec2(0,0));if(t&&(n.x<0||n.x>cc.winSize.width||n.y<0||n.y>cc.winSize.height)&&(t=!1),t)Math.sqrt((n.x-this._lastPosition.x)*(n.x-this._lastPosition.x)+(n.y-this._lastPosition.y)*(n.y-this._lastPosition.y))>10?this.refresh():this._button&&this._button.show(),this._lastPosition=n;else this._button&&this._button.hide()}},t.prototype.onDestroy=function(){this._button&&(this._button.destroy(),this._button=null)},a([u({displayName:"\u56fe\u7247URL"})],t.prototype,"buttonBG",void 0),a([u({displayName:"\u6709\u5f39\u51fa\u5c42\u65f6\u81ea\u52a8\u9690\u85cf"})],t.prototype,"hideWhenHasPopUp",void 0),a([u({displayName:"\u5ef6\u8fdf\u65f6\u95f4"})],t.prototype,"delay",void 0),t=a([l],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../base/GameValues":"GameValues","../managers/GameManager":"GameManager","../managers/Utils":"Utils"}],Comp_GameClubButton:[function(e,t,n){"use strict";cc._RF.push(t,"a03192NFZ9GQolS8SDbJFn2","Comp_GameClubButton");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../base/GameValues"),r=e("../managers/Utils"),s=e("../managers/GameManager"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttonBG="https://deer-cdn.youkongwan.com/common/blank.png",t.hideWhenHasPopUp=!0,t.delay=0,t}return o(t,e),t.prototype.start=function(){i.default.isDebug&&(this.buttonBG="https://deer-cdn.youkongwan.com/common/blank_debug.png"),this._lastPosition=this.node.convertToWorldSpaceAR(new cc.Vec2(0,0)),this.delay<=0?this.createButton():this.scheduleOnce(this.createButton,this.delay)},t.prototype.createButton=function(){if("undefined"!=typeof wx){var e=this.node.getBoundingBoxToWorld();e=r.default.toScreenRect(e),this._button=wx.createGameClubButton({type:"image",image:this.buttonBG,style:{left:e.xMin,top:e.yMin,width:e.width,height:e.height,lineHeight:40}})}},t.prototype.refresh=function(){this._button&&(this._button.destroy(),this._button=null,this.createButton())},t.prototype.update=function(e){cc.director.getTotalFrames()%60==0&&this.updateButton(!0)},t.prototype.onDisable=function(){this.updateButton(!1)},t.prototype.updateButton=function(e){if(this._button){var t=e;this.hideWhenHasPopUp&&s.default.popUpManager.popUpCount>0&&(t=!1),t&&(t=this.enabled),console.log("RESULT","toshow",t);var n=this.node.convertToWorldSpaceAR(new cc.Vec2(0,0));if(t&&(n.x<0||n.x>cc.winSize.width||n.y<0||n.y>cc.winSize.height)&&(t=!1),t)Math.sqrt((n.x-this._lastPosition.x)*(n.x-this._lastPosition.x)+(n.y-this._lastPosition.y)*(n.y-this._lastPosition.y))>10?this.refresh():this._button&&this._button.show(),this._lastPosition=n;else this._button&&this._button.hide()}},t.prototype.onDestroy=function(){this._button&&(this._button.destroy(),this._button=null)},a([u({displayName:"\u56fe\u7247URL"})],t.prototype,"buttonBG",void 0),a([u({displayName:"\u6709\u5f39\u51fa\u5c42\u65f6\u81ea\u52a8\u9690\u85cf"})],t.prototype,"hideWhenHasPopUp",void 0),a([u({displayName:"\u5ef6\u8fdf\u65f6\u95f4"})],t.prototype,"delay",void 0),t=a([l],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../base/GameValues":"GameValues","../managers/GameManager":"GameManager","../managers/Utils":"Utils"}],Comp_ListRenderer:[function(e,t,n){"use strict";cc._RF.push(t,"4a7a6gottdMHqKrVM74t9Xq","Comp_ListRenderer");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.index=-1,t}return o(t,e),t.prototype.start=function(){},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data!=e&&(this._data=e,this.refreshUI())},enumerable:!0,configurable:!0}),t.prototype.refreshUI=function(){},t=a([r],t)}(cc.Component));n.default=s,cc._RF.pop()},{}],Comp_List:[function(e,t,n){"use strict";cc._RF.push(t,"9d0e7m7cpNFR7fqfXi8JcMs","Comp_List");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Comp_ListRenderer"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererPrefab=null,t._rendererWidth=0,t._rendererHeight=0,t.gapV=10,t.gapH=10,t.columnCount=1,t.topPadding=0,t.bottomPadding=0,t.leftPadding=0,t.rightPadding=0,t.bufferSize=3,t._itemPool=new cc.NodePool(i.default),t._virtualNodes=[],t._lastY=0,t}return o(t,e),t.prototype.onLoad=function(){this.columnCount<1&&(this.columnCount=1)},t.prototype.start=function(){this.refreshUI()},t.prototype.update=function(e){cc.director.getTotalFrames()%10==0&&Math.abs(this.node.y-this._lastY)>this._rendererHeight/2&&(this._lastY=this.node.y,this.refreshUI())},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data!=e&&(this._data=e,this.refreshVirtualNodes(),this.refreshUI())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstActiveItemData",{get:function(){return this._firstActiveItemData},set:function(e){if(this._virtualNodes)for(var t=0,n=this._virtualNodes.length;t<n;t++){var o=this._virtualNodes[t];if(o.data==e){this._firstActiveItemData=e;try{this.node.getParent().getParent().getComponent(cc.ScrollView).scrollToOffset(new cc.Vec2(0,-o.y-this._rendererHeight/2-this.gapV),1)}catch(e){}break}}},enumerable:!0,configurable:!0}),t.prototype.refreshVirtualNodes=function(){for(0==this._rendererHeight&&this.moreItems();this.node.children.length>0;){var e=this.node.children[0];this._itemPool.put(e),e.removeFromParent(!1)}if(this._virtualNodes=[],this._data){var t=Math.ceil(this._data.length/this.columnCount);this.node.height=(this._rendererHeight+this.gapV)*t-this.gapV+this.topPadding+this.bottomPadding;for(var n=0;n<this._data.length;n++){var o=new u;o.index=n,o.data=this._data[n],o.width=this._rendererWidth,o.height=this._rendererHeight;var a=Math.ceil((n+1)/this.columnCount),i=n%this.columnCount+1;o.y=-(a-1)*(this._rendererHeight+this.gapV)-this._rendererHeight/2-this.topPadding,o.x=(i-1)*(this._rendererWidth+this.gapH)+this._rendererWidth/2+this.leftPadding-this.node.width*this.node.anchorX,o.activeChangeCallback=this.virtualNodeActiveChangeCallback.bind(this),this._virtualNodes.push(o)}}},t.prototype.refreshUI=function(){var e=this;if(this.node&&this.node.getParent()){var t=this.node.getParent();this._viewRect=new cc.Rect(-t.width*t.anchorX-this._rendererWidth,-t.height*t.anchorY-this._rendererHeight*this.bufferSize,t.width+2*this._rendererWidth,t.height+2*this._rendererHeight*this.bufferSize)}var n=0;this._firstActiveItemData=null,this._virtualNodes.forEach(function(t){var o=t.y+e.node.y+e._rendererHeight/2+e.gapV;if(t.y+e.node.y-e._rendererHeight/2-e.gapV>e._viewRect.yMax||o<e._viewRect.yMin)t.unactive();else{null==e._firstActiveItemData&&1==n&&(e._firstActiveItemData=t.data),t.active();var a=t.ui.getComponent(i.default);a?(a.index=t.index,a.data=t.data):console.log("\u6e32\u67d3item\u8bf7\u7ed1\u5b9aComp_ListRenderer\u7ec4\u4ef6\uff08\u6216\u5b50\u7ec4\u4ef6\uff09"),n++}})},t.prototype.virtualNodeActiveChangeCallback=function(e){console.log("item\u663e\u793a\u3001\u5f71\u85cf",e.index,e.isActived),e.isActived?(e.ui||(this._itemPool.size()<=0&&this.moreItems(),e.ui=this._itemPool.get(),this.node.addChild(e.ui)),e.ui.x=e.x,e.ui.y=e.y):e.ui&&(e.ui.removeFromParent(!1),console.log("\u3010comp_list\u3011\u56de\u6536 "+e.ui.uuid),this._itemPool.put(e.ui),e.ui=null)},t.prototype.moreItems=function(){var e=(this.node.width-this.gapH*(this.columnCount-1)-this.leftPadding-this.rightPadding)/this.columnCount;e<1&&(e=1),console.log("\u3010comp_list\u3011more 5 items");for(var t=0;t<5;++t){var n=cc.instantiate(this.rendererPrefab);this._itemPool.put(n),n.scale=e/n.width,0==this._rendererWidth&&(this._rendererWidth=e,this._rendererHeight=n.height*n.scale)}},t.prototype.onDestroy=function(){this._itemPool&&(this._itemPool.clear(),this._itemPool=null)},a([c({type:cc.Prefab,displayName:"Renderer Prefab"})],t.prototype,"rendererPrefab",void 0),a([c({displayName:"\u5782\u76f4\u95f4\u8ddd"})],t.prototype,"gapV",void 0),a([c({displayName:"\u6c34\u5e73\u95f4\u8ddd"})],t.prototype,"gapH",void 0),a([c({displayName:"\u5217\u6570"})],t.prototype,"columnCount",void 0),a([c({displayName:"\u9876\u90e8\u95f4\u9694"})],t.prototype,"topPadding",void 0),a([c({displayName:"\u5e95\u90e8\u95f4\u9694"})],t.prototype,"bottomPadding",void 0),a([c({displayName:"\u5de6\u8fb9\u95f4\u9694"})],t.prototype,"leftPadding",void 0),a([c({displayName:"\u53f3\u8fb9\u95f4\u9694"})],t.prototype,"rightPadding",void 0),a([c({displayName:"\u7f13\u51b2\u5927\u5c0f",tooltip:"\u4e0d\u5728\u53ef\u89c6\u533a\u57df\u4e2ditem\u4e2a\u6570"})],t.prototype,"bufferSize",void 0),t=a([s],t)}(cc.Component);n.default=l;var u=function(){function e(){this.index=0,this.x=0,this.y=0,this.width=0,this.height=0,this._isActived=!1}return Object.defineProperty(e.prototype,"isActived",{get:function(){return this._isActived},enumerable:!0,configurable:!0}),e.prototype.active=function(){!0!==this._isActived&&(this._isActived=!0,this.activeChangeCallback.call(null,this))},e.prototype.unactive=function(){!1!==this._isActived&&(this._isActived=!1,this.activeChangeCallback&&this.activeChangeCallback(this))},e}();cc._RF.pop()},{"./Comp_ListRenderer":"Comp_ListRenderer"}],Comp_LoadingSceneMain:[function(e,t,n){"use strict";cc._RF.push(t,"24b0bZqrBhE/IcpZVKdO3tw","Comp_LoadingSceneMain");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../managers/GameManager"),r=e("../GameCoreEventNames"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleNode=null,t.iconNode=null,t.logoNode=null,t.progress=null,t}return o(t,e),t.prototype.start=function(){this.iconNode&&(this.iconNode.opacity=0,this.iconNode.runAction(cc.sequence(cc.delayTime(.1),cc.fadeTo(.5,255)))),this.logoNode&&(this.logoNode.opacity=0,this.logoNode.runAction(cc.fadeTo(.3,255))),i.default.eventManager.addEventListener(r.default.RES_PROGRESS,this.onProgress,this)},t.prototype.onProgress=function(e){this.progress&&(this.progress.progress=e.data.min/e.data.max),this.titleNode},t.prototype.doPreDestory=function(e){if(void 0===e&&(e=0),!(e<=0)){if(this.titleNode&&(this.titleNode.stopAllActions(),this.titleNode.runAction(cc.fadeTo(e,0))),this.iconNode&&(this.iconNode.stopAllActions(),this.iconNode.runAction(cc.fadeTo(e,0))),this.logoNode){this.logoNode.stopAllActions();var t=cc.winSize;this.logoNode.runAction(cc.moveTo(e,this.logoNode.x,-t.height/2-this.logoNode.height))}i.default.eventManager.removeEventListener(r.default.RES_PROGRESS,this.onProgress,this)}},t.prototype.onDestroy=function(){this.node.stopAllActions(),this.titleNode&&this.titleNode.stopAllActions(),this.iconNode&&this.iconNode.stopAllActions(),this.logoNode&&this.logoNode.stopAllActions()},a([l({type:cc.Node,displayName:"title\u8282\u70b9"})],t.prototype,"titleNode",void 0),a([l({type:cc.Node,displayName:"icon\u8282\u70b9"})],t.prototype,"iconNode",void 0),a([l({type:cc.Node,displayName:"logo\u8282\u70b9"})],t.prototype,"logoNode",void 0),a([l({type:cc.ProgressBar,displayName:"\u52a0\u8f7d\u8fdb\u5ea6\u8282\u70b9"})],t.prototype,"progress",void 0),t=a([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../GameCoreEventNames":"GameCoreEventNames","../managers/GameManager":"GameManager"}],Comp_MoveButton:[function(e,t,n){"use strict";cc._RF.push(t,"8e11cy/ustCyqg3f+ZQoF32","Comp_MoveButton");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.jude=!1,t.delx=0,t.dely=0,t}return o(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.setTouchStart,this)},t.prototype.start=function(){this.maxx=cc.winSize.width/2-this.node.width/2,this.maxy=cc.winSize.height/2-this.node.height/2},t.prototype.addEvends=function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.setTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.setTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.setTouchCancel,this)},t.prototype.removeEvends=function(){this.node.off(cc.Node.EventType.TOUCH_MOVE,this.setTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.setTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.setTouchCancel,this)},t.prototype.setTouchStart=function(){this.delx=0,this.dely=0,this.addEvends()},t.prototype.setTouchEnd=function(e){1==this.jude&&(e.stopPropagationImmediate(),e.stopPropagation()),this.startMove(),this.removeEvends()},t.prototype.setTouchCancel=function(e){this.startMove()},t.prototype.startMove=function(){var e=this.node.x,t=this.node.y;t>0?t>this.maxy&&(t=this.maxy):t<-this.maxy&&(t=-this.maxy);var n=cc.v2(this.maxx,t);e<0&&(n=cc.v2(-this.maxx,t));var o=cc.moveTo(.3,n).easing(cc.easeIn(.3)),a=this,i=cc.sequence(o,cc.callFunc(function(){a.jude=!1}));this.node.runAction(i)},t.prototype.setTouchMove=function(e){var t=e.getDeltaX(),n=e.getDeltaY();this.node.x+=t,this.node.y+=n,this.delx+=t,this.dely+=n,Math.abs(Math.max(this.delx,this.dely))>10&&(this.jude=!0)},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.setTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.setTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.setTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.setTouchCancel,this)},t=a([r],t)}(cc.Component));n.default=s,cc._RF.pop()},{}],Comp_MovieClip:[function(e,t,n){"use strict";cc._RF.push(t,"f6be7nmA1JEI6HqFzGu92OK","Comp_MovieClip");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteAtlas=null,t.fps=12,t.defaultMCName="",t._mcNameToSF={},t._mcNames=[],t.mcDataList=[],t._isPaused=!1,t._isPlaying=!1,t._pastDT=1e4,t}var n;return o(t,e),n=t,t.prototype.onLoad=function(){var e=this;this.mcSprite||(this.mcSprite=this.node.getComponent(cc.Sprite),this.mcSprite||(this.mcSprite=this.node.addComponent(cc.Sprite))),this.spriteAtlas.getSpriteFrames().forEach(function(t){var n=t.name,o=n.match(/(.+[^\d])(\d+)$/);if(o){n=o[1];var a=parseInt(o[2]);e._mcNameToSF[n]||(e._mcNameToSF[n]=[]),e._mcNameToSF[n][a]=t}}),this._mcNames=[],Object.keys(this._mcNameToSF).forEach(function(t){for(var n=e._mcNameToSF[t],o=0;o<n.length;o++)n[o]||(n.splice(o,1),o--);if(n.length<=1)delete e._mcNameToSF[t];else{var a=t.replace(/[\-_]+$/,"");e._mcNameToSF[a]=e._mcNameToSF[t],e._mcNames.push(a)}})},t.prototype.start=function(){this.defaultMCName&&0==this.mcDataList.length&&this.playMC(this.defaultMCName)},t.prototype.getSpriteFramesByMCName=function(e){var t=this._mcNameToSF[e];return t?t.concat():t},Object.defineProperty(t.prototype,"mcNames",{get:function(){return this._mcNames.concat()},enumerable:!0,configurable:!0}),t.prototype.playMC=function(e,t,n,o){void 0===t&&(t=0),void 0===n&&(n=0),void 0===o&&(o=!1),console.log("\u6dfb\u52a0\u52a8\u753b\u64ad\u653e\uff1a",e,t,o);var a=this._mcNameToSF[e];if(a){n=Math.min(Math.max(0,n),a.length-1),t<1&&(t=0),o||(this.mcDataList=[]);var i=new l;i.name=e,i.crtFrame=n-1,i.times=t,i.sfs=a,this.mcDataList.push(i),1==this.mcDataList.length&&this.setCurrentMCData(this.mcDataList.shift())}else console.log("\u672a\u627e\u5230\u5e27\u52a8\u753b\uff1a"+e)},t.prototype.setCurrentMCData=function(e){this._currentMCData!=e&&(this._currentMCData=e,this._pastDT=1e4,this.update(0))},Object.defineProperty(t.prototype,"currentMCName",{get:function(){return this._currentMCData?this._currentMCData.name:null},enumerable:!0,configurable:!0}),t.prototype.nextFrame=function(){if(this._currentMCData){var e=this._currentMCData.sfs;this._currentMCData.crtFrame++;var t=this._currentMCData.crtFrame;if(0==t&&this.node.dispatchEvent(new cc.Event(n.E_MC_LOOP_START,!1)),t>=e.length&&(t=0,this._currentMCData.crtFrame=0,this._currentMCData.timesDone++,this.node.dispatchEvent(new cc.Event(n.E_MC_LOOP_END,!1)),this._currentMCData.times>0&&this._currentMCData.timesDone>=this._currentMCData.times))return this.node.dispatchEvent(new cc.Event(n.E_MC_COMPLETE,!1)),this._isPlaying=!1,void(this.mcDataList.length>0&&this.setCurrentMCData(this.mcDataList.shift()));var o=e[t];this.mcSprite.spriteFrame=o,this.node.width=o.getRect().width,this.node.height=o.getRect().height,this._isPlaying=!0,this.node.dispatchEvent(new cc.Event(n.E_MC_FRAME,!1))}else this._isPlaying=!1},Object.defineProperty(t.prototype,"currentFrame",{get:function(){return this._currentMCData?this._currentMCData.crtFrame:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._currentMCData?this._currentMCData.sfs.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playedTimes",{get:function(){return this._currentMCData?this._currentMCData.timesDone:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needPlayTimes",{get:function(){return this._currentMCData?this._currentMCData.times:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPuased",{get:function(){return this._isPaused},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),t.prototype.pause=function(){this._isPaused=!0},t.prototype.resume=function(){this._isPaused=!1},t.prototype.update=function(e){if(!this._isPaused)if(!this._currentMCData&&this.mcDataList.length>0)this.setCurrentMCData(this.mcDataList.shift());else{this._pastDT+=1e3*e;var t=1e3/this.fps;this._pastDT>t&&(this._pastDT=0,this.nextFrame())}},t.prototype.destroy=function(){return this._currentMCData=null,this.mcDataList=[],this._isPaused=!1,this._isPlaying=!1,this._mcNameToSF={},this._mcNames=[],e.prototype.destroy.call(this)},t.E_MC_LOOP_START="mcLoopStart",t.E_MC_LOOP_END="mcLoopEnd",t.E_MC_FRAME="mcFrame",t.E_MC_COMPLETE="mcComplete",a([s({type:cc.SpriteAtlas,displayName:"\u56fe\u96c6"})],t.prototype,"spriteAtlas",void 0),a([s({type:cc.Integer,displayName:"\u5e27\u9891"})],t.prototype,"fps",void 0),a([s({displayName:"\u9ed8\u8ba4\u64ad\u653e\u52a8\u753b"})],t.prototype,"defaultMCName",void 0),t=n=a([r],t)}(cc.Component);n.default=c;var l=function(){return function(){this.crtFrame=0,this.times=0,this.timesDone=0,this.sfs=[]}}();cc._RF.pop()},{}],Comp_MusicButton:[function(e,t,n){"use strict";cc._RF.push(t,"2fb16nYRrBF+aBTTlNAl5L+","Comp_MusicButton");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../managers/GameManager"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.muteSpriteFrame=null,t.unmuteSpriteFrame=null,t.controlSound=!1,t}return o(t,e),t.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.tapHandler,this),this.refreshU()},t.prototype.tapHandler=function(e){i.default.soundsManager.playTapSound(),i.default.soundsManager.musicMuted?(i.default.soundsManager.unmuteMusic(),this.controlSound&&i.default.soundsManager.unmuteSound()):(i.default.soundsManager.muteMusic(),this.controlSound&&i.default.soundsManager.muteSound()),this.refreshU()},t.prototype.refreshU=function(){var e=this.node.getComponent(cc.Sprite);e&&(i.default.soundsManager.musicMuted?e.spriteFrame=this.muteSpriteFrame:e.spriteFrame=this.unmuteSpriteFrame)},a([c({type:cc.SpriteFrame,displayName:"\u97f3\u4e50\u5df2\u5173\u95ed"})],t.prototype,"muteSpriteFrame",void 0),a([c({type:cc.SpriteFrame,displayName:"\u97f3\u4e50\u5df2\u5f00\u542f"})],t.prototype,"unmuteSpriteFrame",void 0),a([c({displayName:"\u540c\u6b65\u63a7\u5236\u97f3\u6548"})],t.prototype,"controlSound",void 0),t=a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../managers/GameManager":"GameManager"}],Comp_NearToMenuButton:[function(e,t,n){"use strict";cc._RF.push(t,"06cf1N59gFKI7vNfJIAOO4r","Comp_NearToMenuButton");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./WXUtils"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.distanceToMenu=10,t.layoutDelay=.8,t._adIsShowing=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){var e=this;this.layoutDelay>0?this.scheduleOnce(function(){e.relayout()},this.layoutDelay):this.relayout()},t.prototype.relayout=function(){var e=new cc.Vec2(cc.winSize.width-10,cc.winSize.height-10),t=i.default.getMenuButtonLayout();t&&t.width>0&&(e=new cc.Vec2(t.x,t.y)),e=this.node.getParent().convertToNodeSpaceAR(e),this.node.y=e.y-this.node.height*(1-this.node.anchorY)-this.distanceToMenu},a([c({displayName:"\u95f4\u9694\u8ddd\u79bb"})],t.prototype,"distanceToMenu",void 0),a([c({displayName:"\u8c03\u6574\u4f4d\u7f6e\u5ef6\u8fdf"})],t.prototype,"layoutDelay",void 0),t=a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"./WXUtils":"WXUtils"}],Comp_NearToWXBannerAd:[function(e,t,n){"use strict";cc._RF.push(t,"a63afjOB4RIM47OPW3iazWj","Comp_NearToWXBannerAd");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./WXBannerAd"),r=e("../managers/Utils"),s=e("./WXEventNames"),c=e("../base/GameValues"),l=cc._decorator,u=l.ccclass,d=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.distanceToAd=0,t.layoutDelay=.8,t.useAction=!1,t.hideBeforeRelayout=!0,t}return o(t,e),t.prototype.onLoad=function(){this._originalOpacity=this.node.opacity,this.hideBeforeRelayout&&(this.node.opacity=0)},t.prototype.start=function(){var e=this;this.layoutDelay>0?this.scheduleOnce(function(){e.init()},this.layoutDelay):this.init()},t.prototype.init=function(){this.node.opacity=this._originalOpacity,this.checkBannerAd()},t.prototype.checkBannerAd=function(){i.default.currentAd?(i.default.currentAd.addEventListener(s.default.BANNER_AD_RESIZE,this.bannerAdEventsHandler,this),i.default.currentAd.addEventListener(s.default.BANNER_AD_SHOW,this.bannerAdEventsHandler,this),i.default.currentAd.isShowing&&this.relayout()):this.scheduleOnce(this.checkBannerAd,.1)},t.prototype.bannerAdEventsHandler=function(e){this.relayout()},t.prototype.relayout=function(){if(c.PlatformName.BAIDU!=c.default.currentPlatform){var e=i.default.currentAd;if(e&&e.adRect){var t=new cc.Rect(e.adRect.x,e.adRect.y,e.adRect.width,e.adRect.height);t=r.default.fromScreenRect(t);var n,o=new cc.Vec2(t.x+t.width/2,t.y+t.height);o=this.node.getParent().convertToNodeSpaceAR(o),n=e.isShowing?o.y+this.node.height*this.node.anchorY+this.distanceToAd:o.y-this.node.height*(1-this.node.anchorY)-this.distanceToAd,this.useAction?(this.node.stopAllActions(),this.node.runAction(cc.moveTo(.5,this.node.x,n))):this.node.y=n}}},t.prototype.onDestroy=function(){i.default.currentAd&&(i.default.currentAd.removeEventListener(s.default.BANNER_AD_RESIZE,this.bannerAdEventsHandler,this),i.default.currentAd.removeEventListener(s.default.BANNER_AD_SHOW,this.bannerAdEventsHandler,this))},a([d({displayName:"\u95f4\u9694\u8ddd\u79bb"})],t.prototype,"distanceToAd",void 0),a([d({displayName:"\u5ef6\u8fdf\u65f6\u95f4",tooltip:"\u7528\u6237\u9762\u677f\u4e2d\u5143\u7d20\u5ef6\u8fdf\u5904\u7406"})],t.prototype,"layoutDelay",void 0),a([d({displayName:"\u7f13\u52a8\u6548\u679c"})],t.prototype,"useAction",void 0),a([d({displayName:"\u9ed8\u8ba4\u4e0d\u663e\u793a"})],t.prototype,"hideBeforeRelayout",void 0),t=a([u],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../base/GameValues":"GameValues","../managers/Utils":"Utils","./WXBannerAd":"WXBannerAd","./WXEventNames":"WXEventNames"}],Comp_PlatformContent:[function(e,t,n){"use strict";cc._RF.push(t,"d5f72o94RJA+ZM6UUoVe0Dj","Comp_PlatformContent");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../base/GameValues"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weiXinNodes=[],t.touTiaoNodes=[],t}return o(t,e),t.prototype.onLoad=function(){this.weiXinNodes.forEach(function(e){e&&(e.active=i.default.currentPlatform==i.PlatformName.WECHAT)}),this.touTiaoNodes.forEach(function(e){e&&(e.active=i.default.currentPlatform==i.PlatformName.TOUTIAO)})},t.prototype.start=function(){},a([c({type:[cc.Node],displayName:"\u5fae\u4fe1\u5185\u5bb9"})],t.prototype,"weiXinNodes",void 0),a([c({type:[cc.Node],displayName:"\u4eca\u65e5\u5934\u6761\u5185\u5bb9"})],t.prototype,"touTiaoNodes",void 0),t=a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../base/GameValues":"GameValues"}],Comp_RemoteImage:[function(e,t,n){"use strict";cc._RF.push(t,"32681cSg4xDVb4//GN2/uSH","Comp_RemoteImage");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../wechat/WXImage"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.imageURL="",t}return o(t,e),t.prototype.start=function(){this._sprite=this.node.getComponent(cc.Sprite),this._sprite||(this._sprite=this.node.addComponent(cc.Sprite)),this.imageURL&&this.setImageURL(this.imageURL)},t.prototype.setImageURL=function(e){this.imageURL=e,this._isOnLoadCalled&&this._sprite&&(this._sprite.spriteFrame=i.default.createImage(this.imageURL))},a([c({displayName:"\u56fe\u7247URL"})],t.prototype,"imageURL",void 0),t=a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../wechat/WXImage":"WXImage"}],Comp_SoundButton:[function(e,t,n){"use strict";cc._RF.push(t,"2fe1fejxC5E5aPeBu2we2yN","Comp_SoundButton");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../managers/GameManager"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.muteSpriteFrame=null,t.unmuteSpriteFrame=null,t}return o(t,e),t.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.tapHandler,this),this.refreshU()},t.prototype.tapHandler=function(e){i.default.soundsManager.playTapSound(),i.default.soundsManager.soundMuted?i.default.soundsManager.unmuteSound():i.default.soundsManager.muteSound(),this.refreshU()},t.prototype.refreshU=function(){var e=this.node.getComponent(cc.Sprite);e&&(i.default.soundsManager.soundMuted?e.spriteFrame=this.muteSpriteFrame:e.spriteFrame=this.unmuteSpriteFrame)},a([c({type:cc.SpriteFrame,displayName:"\u97f3\u6548\u5df2\u5173\u95ed"})],t.prototype,"muteSpriteFrame",void 0),a([c({type:cc.SpriteFrame,displayName:"\u97f3\u6548\u5df2\u5f00\u542f"})],t.prototype,"unmuteSpriteFrame",void 0),t=a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../managers/GameManager":"GameManager"}],Comp_SplashScreen:[function(e,t,n){"use strict";cc._RF.push(t,"5ff6cpM7SZKa669ht56fLzo","Comp_SplashScreen");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../managers/GameManager"),r=e("./Comp_LoadingSceneMain"),s=e("../wechat/WXUtils"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mainSceneName="",t.showTime=2,t.subPackage="",t.resName="",t._subPackageLoaded=!1,t._passedTime=0,t}return o(t,e),t.prototype.start=function(){this.schedule(this.doShowMainScene,.1),this.loadSubPackage()},t.prototype.loadSubPackage=function(){var e=this;this.subPackage&&"undefined"!=typeof wx?cc.loader.downloader.loadSubpackage("subp",function(t){console.log("#########################################"),console.log("\u5b50\u5305\u6570\u636e",t),console.log("#########################################"),t?s.default.showToast("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",3):(e._subPackageLoaded=!0,e.loadMainScene())}):(this._subPackageLoaded=!0,this.loadMainScene())},t.prototype.loadMainScene=function(){console.log("\u9884\u52a0\u8f7d\u4e3b\u573a\u666f",this.mainSceneName),this.mainSceneName?i.default.sceneManager.preloadScene(this.mainSceneName,this.mainSceneLoadedCallback.bind(this)):this._mainSceneLoaded=!0},t.prototype.mainSceneLoadedCallback=function(){console.log("\u3010mainSceneLoadedCallback\u3011",this),this._mainSceneLoaded=!0},t.prototype.checkIsReady=function(){return!(this._passedTime<this.showTime)&&(!(this.subPackage&&!this._subPackageLoaded)&&!(this.mainSceneName&&!this._mainSceneLoaded))},t.prototype.doShowMainScene=function(){this._passedTime+=.1,this.checkIsReady()&&(this.unschedule(this.doShowMainScene),this.enterMainScene())},t.prototype.enterMainScene=function(){var e=this,t=this.node.getComponent(r.default);t?(console.log("\u3010sceneLoadedCallback\u3011\u91ca\u653e\u52a0\u8f7d\u573a\u666f"),t.doPreDestory(.3),this.scheduleOnce(function(){i.default.sceneManager.pushScene(e.mainSceneName)},.4)):i.default.sceneManager.pushScene(this.mainSceneName)},t.prototype.onDestroy=function(){this.unschedule(this.doShowMainScene)},a([u({tooltip:"\u8be5\u573a\u666f\u8fc7\u540e\u8fdb\u5165\u7684\u573a\u666f\u540d\u79f0",displayName:"\u4e3b\u573a\u666f\u540d"})],t.prototype,"mainSceneName",void 0),a([u({displayName:"\u505c\u7559\u65f6\u95f4(\u79d2)"})],t.prototype,"showTime",void 0),a([u({displayName:"\u5b50\u5305\u540d"})],t.prototype,"subPackage",void 0),a([u({tooltip:"\u5982\u679c\u4e0d\u9700\u8981\u52a0\u8f7d\u914d\u7f6e\u8bf7\u7f6e\u7a7a",displayName:"\u52a0\u8f7d\u914d\u7f6e"})],t.prototype,"resName",void 0),t=a([l],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../managers/GameManager":"GameManager","../wechat/WXUtils":"WXUtils","./Comp_LoadingSceneMain":"Comp_LoadingSceneMain"}],Comp_SubDomainContent:[function(e,t,n){"use strict";cc._RF.push(t,"0a109lm4YJM+otoFiP6OIxW","Comp_SubDomainContent");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.delayTime=0,t._sprite=null,t._tex=null,t._lastUpdateTime=0,t}return o(t,e),t.prototype.onLoad=function(){this._sprite=null,this._tex=new cc.Texture2D,this._context=null;var e=cc.winSize;if(this.node.width=e.width,this.node.height=e.height,"undefined"!=typeof wx&&wx.getOpenDataContext){this._context=wx.getOpenDataContext();var t=this._context.canvas;t&&(t.width=this.node.width,t.height=this.node.height),this._tex.setPremultiplyAlpha(!0),this._tex.initWithElement(t),this._sprite=this.node.getComponent(cc.Sprite),this._sprite||(this._sprite=this.node.addComponent(cc.Sprite),this._sprite.srcBlendFactor=cc.macro.BlendFactor.ONE),this._sprite.spriteFrame=new cc.SpriteFrame(this._tex)}else this.enabled=!1},t.prototype.start=function(){console.log("\u3010Comp_SubDomainContent\u3011 start"),this.updateSubContextViewport()},t.prototype.onEnable=function(){this.updateSubContextViewport()},t.prototype.updateSubContextViewport=function(){if(this._context){var e=this.node.getBoundingBoxToWorld(),t=cc.view._scaleX,n=cc.view._scaleY;this._context.postMessage({fromEngine:!0,event:"viewport",x:e.x*t+cc.view._viewportRect.x,y:e.y*n+cc.view._viewportRect.y,width:e.width*t,height:e.height*n})}},t.prototype.update=function(e){try{if(this.delayTime>0){var t=(new Date).getTime();if(t-this._lastUpdateTime<1e3*this.delayTime)return;this._lastUpdateTime=t}this._tex.initWithElement(this._context.canvas),this._sprite._activateMaterial()}catch(e){}},a([s({displayName:"\u5237\u65b0\u95f4\u9694(\u79d2)",tooltip:"\u5982\u679c\u8bbe\u7f6e\u4e3a0\uff0c\u5219\u6bcf\u5e27\u5237\u65b0"})],t.prototype,"delayTime",void 0),t=a([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],Comp_UserInfoButton:[function(e,t,n){"use strict";cc._RF.push(t,"5f8e0rSIRFCZrXe5q70AGK0","Comp_UserInfoButton");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../wechat/WXUser"),r=e("../managers/Utils"),s=e("../base/GameValues"),c=e("../wechat/WXUtils"),l=e("../managers/GameManager"),u=cc._decorator,d=u.ccclass,f=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttonBG="https://deer-cdn.youkongwan.com/common/blank.png",t.delay=0,t.hideWhenHasPopUp=!0,t.must=!1,t}return o(t,e),t.prototype.start=function(){s.default.isDebug&&(this.buttonBG="https://deer-cdn.youkongwan.com/common/blank_debug.png"),this._lastPosition=this.node.convertToWorldSpaceAR(new cc.Vec2(0,0)),this.delay<=0?this.createButton():this.scheduleOnce(this.createButton,this.delay)},t.prototype.createButton=function(){if(!i.default.userInfo){var e=this.node.getBoundingBoxToWorld();e=r.default.toScreenRect(e),this._button=i.default.createUserInfoButton(this.buttonBG,e,this.createButtonTapCallback.bind(this))}},t.prototype.refresh=function(){this._button&&(i.default.destroyUserInfoButton(this._button),this._button=null,this.createButton())},t.prototype.createButtonTapCallback=function(e){!this.must||i.default.userInfo?this.callback&&this.callback(e):c.default.showToast("\u8bf7\u5141\u8bb8\u83b7\u5f97\u60a8\u7684\u6635\u79f0\u548c\u5934\u50cf",2e3)},t.prototype.update=function(e){cc.director.getTotalFrames()%60==0&&this.updateButton(!0)},t.prototype.onDisable=function(){this.updateButton(!1)},t.prototype.updateButton=function(e){if(this._button){var t=e;this.hideWhenHasPopUp&&l.default.popUpManager.popUpCount>0&&(t=!1);for(var n=this.node,o=cc.director.getScene();n;){if(!n.active||n.opacity<=0){t=!1;break}if((n=n.getParent())==o)break}var a=this.node.convertToWorldSpaceAR(new cc.Vec2(0,0));if(t&&(a.x<0||a.x>cc.winSize.width||a.y<0||a.y>cc.winSize.height)&&(t=!1),t)Math.sqrt((a.x-this._lastPosition.x)*(a.x-this._lastPosition.x)+(a.y-this._lastPosition.y)*(a.y-this._lastPosition.y))>10?this.refresh():this._button&&this._button.show(),this._lastPosition=a;else this._button&&this._button.hide()}},t.prototype.onDestroy=function(){this._button&&(i.default.destroyUserInfoButton(this._button),this._button=null)},a([f({displayName:"\u56fe\u7247URL"})],t.prototype,"buttonBG",void 0),a([f({displayName:"\u5ef6\u8fdf\u65f6\u95f4"})],t.prototype,"delay",void 0),a([f({displayName:"\u6709\u5f39\u51fa\u5c42\u65f6\u81ea\u52a8\u9690\u85cf"})],t.prototype,"hideWhenHasPopUp",void 0),a([f({displayName:"\u5fc5\u987b\u6388\u6743"})],t.prototype,"must",void 0),t=a([d],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../base/GameValues":"GameValues","../managers/GameManager":"GameManager","../managers/Utils":"Utils","../wechat/WXUser":"WXUser","../wechat/WXUtils":"WXUtils"}],Comp_VibrateButton:[function(e,t,n){"use strict";cc._RF.push(t,"ba89dYesvBONYJHUAqItTwq","Comp_VibrateButton");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../managers/GameManager"),r=e("../wechat/WXDevice"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSpriteFrame=null,t.offSpriteFrame=null,t}return o(t,e),t.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.tapHandler,this),this.refreshU()},t.prototype.tapHandler=function(e){i.default.soundsManager.playTapSound(),i.default.canVibrate?i.default.vibrateOff():(i.default.vibrateOn(),r.default.vibrateShort()),this.refreshU()},t.prototype.refreshU=function(){var e=this.node.getComponent(cc.Sprite);e&&(i.default.canVibrate?e.spriteFrame=this.onSpriteFrame:e.spriteFrame=this.offSpriteFrame)},a([l({type:cc.SpriteFrame,displayName:"\u9707\u52a8\u5df2\u5f00\u542f"})],t.prototype,"onSpriteFrame",void 0),a([l({type:cc.SpriteFrame,displayName:"\u9707\u52a8\u5df2\u5173\u95ed"})],t.prototype,"offSpriteFrame",void 0),t=a([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../managers/GameManager":"GameManager","../wechat/WXDevice":"WXDevice"}],Comp_WXBannerAd:[function(e,t,n){"use strict";cc._RF.push(t,"ed6cccXls1LR5n5h+MNHO9B","Comp_WXBannerAd");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("./WXBannerAd"),s=e("./WXEventNames"),c=e("../managers/Utils"),l=e("../GameCoreLocation"),u=e("./DeerBannerAd"),d=e("../deer/DeerSDK"),f=cc._decorator,p=f.ccclass,h=f.property;(function(e){e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right"})(i||(i={}));var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bannerAdIDs=[""],t.adLocation=l.GameCoreLocation.BOTTOM_CENTER,t.maxWidth=0,t.maxHeight=0,t.hideByDefault=!1,t.hideWhenHasPopUp=!1,t.refreshAdMaxDelay=45,t.refreshRandom=!0,t.refreshAdMinDelay=15,t.autoRelease=!0,t.deerAdAsDefault=!1,t._useWXBannerAd=!0,t._wxBannerAdIsWX=!1,t._lastRefreshAdTime=0,t._currentAdHasShown=!1,t._currentAdIsShowing=!0,t}return o(t,e),t.prototype.onLoad=function(){console.log("\u6d4b\u8bd5banner\u5e7f\u544a")},t.prototype.start=function(){if(console.log("----------qtt advertise***************",cc.sys.platform),this._currentAdIsShowing=!this.hideByDefault,this.node.anchorX=0,this.node.anchorY=0,this.adLocation||(this.adLocation=l.GameCoreLocation.BOTTOM_CENTER),this.maxWidth<=0&&(this.maxWidth=NaN),this.relayout(),this.deerAdAsDefault&&(this._defaultAd=new u.default(null,this.adLocation,0,0,this.maxHeight,this.maxWidth)),this.nextAd(),this.bannerAdIDs.length>1&&this.refreshAdMaxDelay>0){var e=Math.max(this.refreshAdMaxDelay,this.refreshAdMinDelay);e>0&&this.schedule(this.tryNextAd,e,cc.macro.REPEAT_FOREVER)}if(0==this.bannerAdIDs.length||!this.bannerAdIDs[0])throw new Error("Please set banner ad id!")},t.prototype.tryNextAd=function(){this._currentAdHasShown&&this.nextAd()},Object.defineProperty(t.prototype,"currentAdID",{get:function(){return this._currentAdID},enumerable:!0,configurable:!0}),t.prototype.nextAd=function(){if(0==this.bannerAdIDs.length&&(this._useWXBannerAd=!1),this._useWXBannerAd&&d.default.instance.game_config){var e=d.default.instance.game_config.myBAdRate;!isNaN(e)&&Math.random()<e&&(this._useWXBannerAd=!1)}if(!(this._useWXBannerAd&&(new Date).getTime()-this._lastRefreshAdTime<1e3*this.refreshAdMinDelay)){if(this._wxBannerAd&&(this._wxBannerAd.removeEventListener(s.default.BANNER_AD_HIDE,this.adHideHandler,this),this._wxBannerAd.removeEventListener(s.default.BANNER_AD_SHOW,this.adShowHandler,this),this._wxBannerAd.removeEventListener(s.default.BANNER_AD_RESIZE,this.adResizeHandler,this),this._wxBannerAd.removeEventListener(s.default.BANNER_AD_NEXT,this.adNextHandler,this),this._wxBannerAd.removeEventListener(s.default.BANNER_AD_ERROR,this.adErrorHandler,this),this._wxBannerAd.destroy(),this._wxBannerAd=null),this._lastRefreshAdTime=(new Date).getTime(),this._currentAdHasShown=!1,this._useWXBannerAd){if(this.bannerAdIDs.length>0){var t=void 0;if(this.refreshRandom&&this.bannerAdIDs.length>1){var n=this.bannerAdIDs.concat(),o=n.indexOf(this._currentAdID);o>=0&&n.splice(o,1),t=n[Math.floor(Math.random()*n.length)]}else{var a=this.bannerAdIDs.indexOf(this._currentAdID)+1;a%=this.bannerAdIDs.length,t=this.bannerAdIDs[a]}if(t==this._currentAdID)return;this._currentAdID=t,r.default.currentAd&&r.default.currentAd instanceof r.default?this._wxBannerAd=r.default.currentAd:this._wxBannerAd=new r.default(this._currentAdID,this.adLocation,0,0,this.maxHeight,this.maxWidth),this._wxBannerAdIsWX=!0}}else{if(this.deerAdAsDefault)return;this._wxBannerAd=new u.default(this._currentAdID,this.adLocation,0,0,this.maxHeight,this.maxWidth),this._wxBannerAdIsWX=!1,this._useWXBannerAd=!0}this._wxBannerAd.addEventListener(s.default.BANNER_AD_HIDE,this.adHideHandler,this),this._wxBannerAd.addEventListener(s.default.BANNER_AD_SHOW,this.adShowHandler,this),this._wxBannerAd.addEventListener(s.default.BANNER_AD_RESIZE,this.adResizeHandler,this),this._wxBannerAd.addEventListener(s.default.BANNER_AD_NEXT,this.adNextHandler,this),this._wxBannerAd.addEventListener(s.default.BANNER_AD_ERROR,this.adErrorHandler,this),this._currentAdIsShowing&&this._wxBannerAd.show()}},t.prototype.adShowHandler=function(e){this.node.isValid&&e.target==this._wxBannerAd&&(this._currentAdHasShown=!0,this._currentAdIsShowing=!0,this.relayout())},t.prototype.adHideHandler=function(e){this.node.isValid&&e.target==this._wxBannerAd&&(this._currentAdIsShowing=!1,this.relayout())},t.prototype.adResizeHandler=function(e){this.node.isValid&&e.target==this._wxBannerAd&&(this.relayout(),this._currentAdIsShowing&&(this._currentAdHasShown=!0),this.node.dispatchEvent(new cc.Event(s.default.BANNER_AD_RESIZE,!1)))},t.prototype.relayout=function(){if(this._wxBannerAd&&this._wxBannerAd.isShowing&&this._wxBannerAd.adRect){var e=new cc.Rect(this._wxBannerAd.adRect.x,this._wxBannerAd.adRect.y,this._wxBannerAd.adRect.width,this._wxBannerAd.adRect.height);if(e=c.default.fromScreenRect(e))return this.node.opacity=255,this.node.x=e.x,this.node.y=e.y,this.node.scaleX=e.width/this.node.width,this.node.scaleY=e.height/this.node.height,void(this._defaultAd&&(this._defaultAd.destroy(),this._defaultAd=null))}this.node.opacity=0,this.node.scale=0},t.prototype.adNextHandler=function(e){this.node.isValid&&this.nextAd()},t.prototype.adErrorHandler=function(e){this.node.isValid&&this._wxBannerAdIsWX&&(this._useWXBannerAd=!1,this.nextAd())},t.prototype.onDestroy=function(){this._wxBannerAd&&(this._wxBannerAd.removeEventListener(s.default.BANNER_AD_HIDE,this.adHideHandler,this),this._wxBannerAd.removeEventListener(s.default.BANNER_AD_SHOW,this.adShowHandler,this),this._wxBannerAd.removeEventListener(s.default.BANNER_AD_RESIZE,this.adResizeHandler,this),this._wxBannerAd.removeEventListener(s.default.BANNER_AD_NEXT,this.adNextHandler,this),this._wxBannerAd.removeEventListener(s.default.BANNER_AD_ERROR,this.adErrorHandler,this),!this.autoRelease&&this._wxBannerAdIsWX||0!=c.default.iphoneBottomBarHeight?this._wxBannerAd.hide():this._wxBannerAd.destroy(),this._wxBannerAd=null),this._defaultAd&&(this._defaultAd.destroy(),this._defaultAd=null)},a([h({type:[cc.String],displayName:"\u5e7f\u544a\u5217\u8868"})],t.prototype,"bannerAdIDs",void 0),a([h({displayName:"\u4f4d\u7f6e",type:cc.Enum(l.GameCoreLocation),tooltip:"\u4ec5\u652f\u6301TOP_CENTER\u548cBOTTOM_CENTER"})],t.prototype,"adLocation",void 0),a([h({displayName:"\u6700\u5927\u9ad8\u5ea6",tooltip:"\u5982\u679c\u8bbe\u7f6e\u4e86\u8be5\u53c2\u6570\uff0c\u5219\u4f1a\u5ffd\u7565Y\u8f74\u504f\u79fb\u7684\u53c2\u6570\u8bbe\u5b9a"})],t.prototype,"maxHeight",void 0),a([h({displayName:"\u9ed8\u8ba4\u9690\u85cf"})],t.prototype,"hideByDefault",void 0),a([h({displayName:"\u6709\u5f39\u7a97\u81ea\u52a8\u9690\u85cf"})],t.prototype,"hideWhenHasPopUp",void 0),a([h({displayName:"\u81ea\u52a8\u5237\u65b0\u95f4\u9694(s)",tooltip:"\u8bbe\u7f6e\u4e86\u591a\u4e2a\u5e7f\u544a\u65f6\u751f\u6548\u3002\u6700\u5c0f\u95f4\u969420\u79d2\u3002"})],t.prototype,"refreshAdMaxDelay",void 0),a([h({displayName:"\u662f\u5426\u968f\u673a\u6311\u9009\u5e7f\u544aid",tooltip:"\u8bbe\u7f6e\u4e86\u591a\u4e2a\u5e7f\u544a\u65f6\u751f\u6548\u3002"})],t.prototype,"refreshRandom",void 0),a([h({displayName:"\u968f\u8282\u70b9\u91ca\u653e",tooltip:"\u53ea\u5bf9\u5fae\u4fe1\u5e7f\u544a\u6709\u6548"})],t.prototype,"autoRelease",void 0),a([h({displayName:"\u9ed8\u8ba4\u663e\u793a\u81ea\u6709\u5e7f\u544a"})],t.prototype,"deerAdAsDefault",void 0),t=a([p],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../GameCoreLocation":"GameCoreLocation","../deer/DeerSDK":"DeerSDK","../managers/Utils":"Utils","./DeerBannerAd":"DeerBannerAd","./WXBannerAd":"WXBannerAd","./WXEventNames":"WXEventNames"}],Context:[function(e,t,n){"use strict";cc._RF.push(t,"1efd3LL0ldFDLRax8Cep4WI","Context");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../GameManager"),i=cc._decorator,r=i.ccclass,s=(i.property,function(){function e(){this._eventMap={}}return e.prototype.mapEvent=function(e,t,n){void 0===n&&(n=1e4),void 0==this._eventMap[e]&&(this._eventMap[e]=[],a.default.eventManager.addEventListener(e,this.eventsHandler,this,n));var o=this._eventMap[e];-1==o.indexOf(t)&&o.push(t)},e.prototype.unmapEvent=function(e,t){void 0===t&&(t=null);var n=this._eventMap[e];if(void 0!=n)if(t){var o=n.indexOf(t);o>=0&&(n.splice(o,1),0==n.length&&(delete this._eventMap[e],a.default.eventManager.removeEventListener(e,this.eventsHandler,this)))}else delete this._eventMap[e],a.default.eventManager.removeEventListener(e,this.eventsHandler,this)},e.prototype.unmapAllEvent=function(){for(var e in this._eventMap)this.unmapEvent(e)},e.prototype.eventsHandler=function(e){var t=e.type,n=(e.data,this._eventMap[t]);if(void 0!=n)for(var o=n.length,a=function(t){var o=new n[t];o.event=e,o.prefabURL?o.loadPrefab(function(){o.execute()}):o.execute()},i=0;i<o;i++)a(i)},e=o([r],e)}());n.default=s,cc._RF.pop()},{"../GameManager":"GameManager"}],CrossAdItemMain:[function(e,t,n){"use strict";cc._RF.push(t,"0740aXacmBDS4HAK6eZtIil","CrossAdItemMain");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../gamecore/managers/GameManager"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.imgSprite=null,t.infoBgSprite=null,t.nameLabel=null,t.infoLabel=null,t.infoBgSFs=[],t}return o(t,e),t.prototype.start=function(){this._imageOriginalSize=new cc.Size(this.imgSprite.node.width,this.imgSprite.node.height),this.refreshUI(),this.node.on(cc.Node.EventType.TOUCH_END,this.tapHandler,this)},t.prototype.refreshUI=function(){var e=this;if(this.data){var t=this.data.index;t%=this.infoBgSFs.length,this.infoBgSprite.spriteFrame=this.infoBgSFs[t],this.nameLabel.string=this.data.name,this.infoLabel.string=Math.floor(1e6*Math.random()+2e6)+"\u4eba\u6b63\u5728\u73a9";var n=this.data.img_256_129;n&&cc.loader.load(n,function(t,n){if(n)try{e.imgSprite.spriteFrame=new cc.SpriteFrame(n),e.imgSprite.node.width=n.width,e.imgSprite.node.height=n.height,e.imgSprite.node.scaleX=e._imageOriginalSize.width/n.width,e.imgSprite.node.scaleY=e._imageOriginalSize.height/n.height}catch(e){console.log("\u9519\u8bef\u4fe1\u606f",e)}})}},t.prototype.tapHandler=function(e){i.default.soundsManager.playTapSound(),this.data&&this.data.navigate()},a([c(cc.Sprite)],t.prototype,"imgSprite",void 0),a([c(cc.Sprite)],t.prototype,"infoBgSprite",void 0),a([c(cc.Label)],t.prototype,"nameLabel",void 0),a([c(cc.Label)],t.prototype,"infoLabel",void 0),a([c([cc.SpriteFrame])],t.prototype,"infoBgSFs",void 0),t=a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../gamecore/managers/GameManager":"GameManager"}],CrossAdPanelMain:[function(e,t,n){"use strict";cc._RF.push(t,"c2f43mSd51G0o1QueLLRZs5","CrossAdPanelMain");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./CrossAdItemMain"),r=e("../gamecore/deer/DeerSDK"),s=e("../gamecore/deer/DeerSDKEventNames"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.crossAdItemPrefab=null,t}return o(t,e),t.prototype.start=function(){var e=this;r.default.instance.isReady?this.loadAdData():r.default.instance.addEventListener(s.default.READY,function(t){e.loadAdData()},this,0,!0)},t.prototype.loadAdData=function(){var e=this;r.default.instance.ad_getAdData(r.DeerAdType.GAME_OVER,function(t){t&&e.showAds(t.concat())})},t.prototype.showAds=function(e){if(e&&!(e.length<=0)){var t=e;if(t&&t.length>0)for(var n=Math.min(6,t.length),o=0;o<n;o++){t[o].index=o;var a=cc.instantiate(this.crossAdItemPrefab);a&&a.getComponent(i.default)?(a.getComponent(i.default).data=t[o],this.node.addChild(a)):a.destroy()}}},a([u(cc.Prefab)],t.prototype,"crossAdItemPrefab",void 0),t=a([l],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../gamecore/deer/DeerSDK":"DeerSDK","../gamecore/deer/DeerSDKEventNames":"DeerSDKEventNames","./CrossAdItemMain":"CrossAdItemMain"}],Customs:[function(e,t,n){"use strict";cc._RF.push(t,"f23958eTphFfJpK0O2tuv4U","Customs");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){this.resetdimond=null}return e=o([i],e)}());n.default=r,cc._RF.pop()},{}],DailyTaskBase:[function(e,t,n){"use strict";cc._RF.push(t,"c0d0ecUH4tLfbBvFzYaa2PX","DailyTaskBase");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"desc",{get:function(){return this._desc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"finished",{get:function(){return this._finished},enumerable:!0,configurable:!0}),t=a([r],t)}(cc.Node));n.default=s,cc._RF.pop()},{}],DailyTaskConfig:[function(e,t,n){"use strict";cc._RF.push(t,"e5917FRC2JCj4S8Im7fz0yM","DailyTaskConfig");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e.MAX_COUNT=3,e.RESET_DAILY=!1,e.ALLOW_SAME_TASK=!1,e=o([i],e)}());n.default=r,cc._RF.pop()},{}],DailyTaskEventType:[function(e,t,n){"use strict";cc._RF.push(t,"551cc9VHBVJUpGnGYk5FmQb","DailyTaskEventType");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e.TODAY_TASK_CHANGED="dailyTaskChanged",e=o([i],e)}());n.default=r,cc._RF.pop()},{}],DailyTaskManager:[function(e,t,n){"use strict";cc._RF.push(t,"82ab5lss2JHeaSXQhdvDyjO","DailyTaskManager");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./DailyTaskConfig"),r=e("./DailyTaskEventType"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=e.call(this)||this;if(t._todayTasks=[],n._instance)throw new Error("Please use DailyTaskManager.instance");return n._instance=t,t.refreshTask(),t}var n;return o(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return n._instance||new n,n._instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"todayTasks",{get:function(){return this._todayTasks.concat()},enumerable:!0,configurable:!0}),t.prototype.refreshTask=function(){var e=new Date,t=e.getFullYear()+"-"+e.getMonth()+"-"+e.getDate();if(cc.sys.localStorage.getItem(n.KEY_NAME)!==t){for(var o=!1;this._todayTasks.length>i.default.MAX_COUNT;)this._todayTasks.pop(),o=!0;for(;this._todayTasks.length<i.default.MAX_COUNT;)this._todayTasks.push(this.createNewTask()),o=!0;o&&(cc.sys.localStorage.setItem(n.KEY_NAME,t),this.dispatchEvent(new cc.Event(r.default.TODAY_TASK_CHANGED,!1)))}},t.prototype.createNewTask=function(){return null},t.prototype.reset=function(){cc.sys.localStorage.removeItem(n.KEY_NAME),this._todayTasks=[],this.refreshTask()},t.KEY_NAME="__taskmanager_refresh_date",t=n=a([c],t)}(cc.Node));n.default=l,cc._RF.pop()},{"./DailyTaskConfig":"DailyTaskConfig","./DailyTaskEventType":"DailyTaskEventType"}],DataManager:[function(e,t,n){"use strict";cc._RF.push(t,"e1f6867dmJPN5cv7QO6KTfm","DataManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../GameCoreEventNames"),a=e("./GameManager"),i=function(){function e(){this._data={},this._localData={},this._syncToServerKeys=[],this._hasChanged=!1,this._changedKeys=[];var e=new Date;this._todayValue=""+e.getFullYear(),this._todayValue+="-";var t=e.getMonth()+1;this._todayValue+=t<10?"0"+t:t,this._todayValue+="-",t=e.getDate(),this._todayValue+=t<10?"0"+t:t,this.unserialize(),setInterval(this.doSerialize.bind(this),5e3),setTimeout(this.initForWXModule.bind(this),2e3)}return e.prototype.initForWXModule=function(){if("undefined"!=typeof wx){var e=this;wx.onHide(function(){console.log("\u3010DataManager\u3011onHide"),e.doSerialize()}),console.log("##################### wx.onClose"),console.log(wx.onClose),wx.onClose&&wx.onClose(function(){console.log("\u3010DataManager\u3011onClose"),e.doSerialize()})}else setTimeout(this.initForWXModule.bind(this),2e3)},e.prototype.hasData=function(e){return void 0!==this._data[e]},Object.defineProperty(e.prototype,"lastChangedKey",{get:function(){return this._lastChangedKey},enumerable:!0,configurable:!0}),e.prototype.getDataNeedSyncToServer=function(){var e=this;if(0==this._syncToServerKeys.length)return null;var t={};return this._syncToServerKeys.forEach(function(n){var o=e._localData[n];void 0==o.today&&(t[n]=o.v)}),JSON.stringify(t)},e.prototype.setData=function(e,t,n,i,r){if(void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===r&&(r=!1),"object"==typeof t||this._data[e]!==t){if(this._data[e]=t,!0===n){var s={v:t};!0===i&&(s.today=this._todayValue),this._localData[e]=s,-1==this._changedKeys.indexOf(e)&&(this._hasChanged=!0,this._changedKeys.push(e))}this._lastChangedKey=e,a.default.eventManager.dispatchEventWith(o.default.DATA_CHANGE,e)}!0===r&&-1==this._syncToServerKeys.indexOf(e)&&this._syncToServerKeys.push(e)},e.prototype.getData=function(e){return this._data[e]},e.prototype.removeData=function(e){delete this._data[e],delete this._localData[e];var t=this._changedKeys.indexOf(e);t>=0&&this._changedKeys.splice(t,1),this._hasChanged=!0,(t=this._syncToServerKeys.indexOf(e))>=0&&this._syncToServerKeys.splice(t,1)},e.prototype.resetData=function(){for(var e in this._data={},this._changedKeys=[],this._localData)this._changedKeys.push(""+e);this._localData={},this._lastChangedKey=null,this._hasChanged=!0},e.prototype.doSerialize=function(){var t=this;if(!1!==this._hasChanged){this._hasChanged=!1,console.log("\u3010DataManager\u3011doSerialize",this._changedKeys);var n=[];for(var i in this._localData)n.push(""+i);cc.sys.localStorage.setItem("__"+e.L_KEY+"__keys",JSON.stringify(n));var r=!1;this._changedKeys.forEach(function(n){!r&&t._syncToServerKeys.indexOf(n)>=0&&(r=!0),console.log("[\u4fdd\u5b58]"+n,t._localData[n]);try{cc.sys.localStorage.setItem(e.L_KEY+"__"+n,JSON.stringify(t._localData[n]))}catch(e){console.log("\u4fdd\u5b58\u6570\u636e\u5931\u8d25, key="+n)}}),this._changedKeys=[],r&&a.default.eventManager.dispatchEventWith(o.default.DATA_REMOTE_CHANGE)}},e.prototype.unserialize=function(){try{for(var t=cc.sys.localStorage.getItem("__"+e.L_KEY+"__keys"),n=JSON.parse(t),o=0;o<n.length;o++){var a=""+n[o],i=cc.sys.localStorage.getItem(e.L_KEY+"__"+a);this._localData[a]=JSON.parse(i)}for(var a in this._localData){var r=this._localData[a],s=r.v,c=r.today;c&&this._todayValue!=c||(this._data[a]=s)}}catch(e){this._localData={}}},e.L_KEY="$__dml",e}();n.default=i,cc._RF.pop()},{"../GameCoreEventNames":"GameCoreEventNames","./GameManager":"GameManager"}],DeerBannerAd:[function(e,t,n){"use strict";cc._RF.push(t,"a9baarnMBJPBowjk9bhiqMC","DeerBannerAd");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("./WXEventNames"),i=e("../managers/Utils"),r=e("../GameCoreLocation"),s=e("./WXBannerAdBase"),c=e("../deer/DeerSDK"),l=e("../deer/DeerSDKEventNames"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.loadAdData=function(){c.default.instance.isReady?this.deerSDKReadyHandler(null):c.default.instance.addEventListener(l.default.READY,this.deerSDKReadyHandler,this)},t.prototype.deerSDKReadyHandler=function(e){c.default.instance.removeEventListener(l.default.READY,this.deerSDKReadyHandler,this),c.default.instance.ad_getAdData(c.DeerAdType.BANNER,this.loadAdDataHandler.bind(this),this.loadAdDataErrorHandler.bind(this))},t.prototype.loadAdDataHandler=function(e){if(e&&e.length>0&&(t._bannerAds||(t._bannerAds=e),t._bannerAds.length>0)){var n=t._bannerAds.indexOf(t._currentBannerAd);++n>=t._bannerAds.length&&(n=0),t._currentBannerAd=t._bannerAds[n],this._adData=t._currentBannerAd,this.showAdData()}},t.prototype.loadAdDataErrorHandler=function(){this.dispatchEventWith(a.default.BANNER_AD_ERROR),this.destroy()},t.prototype.createAd=function(){if(!this._destoried&&!this._bannerAd){var e=new cc.Node;e.on(cc.Node.EventType.TOUCH_END,this.adTapHandler,this);e.addComponent(cc.Sprite);this._bannerAd=e,cc.director.getScene().addChild(e),this.loadAdData()}},t.prototype.adTapHandler=function(e){this._adData&&this._adData.navigate()},t.prototype.showAdData=function(){var e=this;this._adData&&this._bannerAd&&cc.loader.load({url:this._adData.bannerImg,type:"png"},function(t,n){if(n){if(!e._bannerAd)return;var o=e._bannerAd;if(o&&o.isValid){var a=o.getComponent(cc.Sprite);a.spriteFrame=new cc.SpriteFrame,a.spriteFrame=new cc.SpriteFrame(n),o.width=n.width,o.height=n.height,e.relayout()}}e._adData&&e._adData.reportShown()})},t.prototype.relayout=function(){if(console.log("----  Deer Banner\u5e7f\u544a ----"),console.log("-  relayout  -"),this._bannerAd){var e=this._bannerAd;if(0!=e.height&&0!=e.width){e.getComponent(cc.Sprite);var t=cc.winSize.width-2*this.borderWeight;this._maxWidth>0&&(t=this._maxWidth);var n=t/e.width;this._maxHeight>0&&(n=Math.min(this._maxHeight/e.height,t/e.width)),e.scale=n;var o=0,s=0;switch(this._location){case r.GameCoreLocation.BOTTOM_CENTER:o=cc.winSize.width/2,s=e.height*n/2;break;case r.GameCoreLocation.TOP_CENTER:o=cc.winSize.width/2,s=cc.winSize.height-e.height*n/2}o+=this._horizontalIndent,s+=this._vertialIndent,e.x=o,e.y=s,this._adRect={x:0,y:0,width:0,height:0},this._adRect.x=o-e.width*n/2-this.borderWeight,this._adRect.y=s-e.height*n/2-this.borderWeight,this._adRect.width=e.width*n+2*this.borderWeight,this._adRect.height=e.height*n+2*this.borderWeight,this._adRect=i.default.toScreenRect(this._adRect),this.dispatchEventWith(a.default.BANNER_AD_RESIZE)}}},t.prototype.next=function(){console.log("----  Deer Banner\u5e7f\u544a ----"),console.log("-  next  -"),console.log("this._isShowing="+this._isShowing),this.dispatchEventWith(a.default.BANNER_AD_NEXT)},t.prototype.show=function(){this._destoried||(console.log("----  Deer Banner\u5e7f\u544a ----"),console.log("-  show  -"),console.log("this._isShowing="+this._isShowing),this._bannerAd&&(this._bannerAd.active=!0),this._isShowing=!0,this.dispatchEventWith(a.default.BANNER_AD_SHOW))},t.prototype.hide=function(){this._destoried||(console.log("----  Deer Banner\u5e7f\u544a ----"),console.log("-  hide  -"),console.log("this._isShowing="+this._isShowing),this._bannerAd&&(this._bannerAd.active=!1),this._isShowing=!1,this.dispatchEventWith(a.default.BANNER_AD_HIDE,this))},t.prototype.destroy=function(){this._destoried||(c.default.instance.removeEventListener(l.default.READY,this.deerSDKReadyHandler,this),console.log("----  Deer Banner\u5e7f\u544a ----"),console.log("-  destroy  -"),e.prototype.destroy.call(this),this._bannerAd&&(this._bannerAd.destroy(),this._bannerAd=null))},t}(s.default);n.default=u,cc._RF.pop()},{"../GameCoreLocation":"GameCoreLocation","../deer/DeerSDK":"DeerSDK","../deer/DeerSDKEventNames":"DeerSDKEventNames","../managers/Utils":"Utils","./WXBannerAdBase":"WXBannerAdBase","./WXEventNames":"WXEventNames"}],DeerLoading:[function(e,t,n){"use strict";cc._RF.push(t,"31e7b3PLpVMLauEm9wxHhbt","DeerLoading"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../managers/GameManager"),a=function(){function e(){}return e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e.prototype.addPop=function(e){var t=new cc.Vec2(0,0),n=cc.director.getScene().children[0];n.children.forEach(function(e){e.zIndex=0}),this.container=new cc.Node,n.addChild(this.container);var a=null;(a=this.createPopUpBg()).y=t.y,a.x=t.x,this.container.addChild(a);var i=new cc.Node,r=i.addComponent(cc.Sprite);o.default.resManager.getServerImage("https://deer-cdn.youkongwan.com/common/loadingicon.png",function(e){r&&(r.spriteFrame=new cc.SpriteFrame(e))});var s=cc.repeatForever(cc.rotateBy(3,360,360));i.runAction(s),this.container.addChild(i);var c=new cc.Node,l=c.addComponent(cc.Label);l.string=e,l.fontSize=30,this.container.addChild(c),c.y=-100},e.prototype.removePop=function(){this.container&&this.container.isValid&&this.container.destroy()},e.prototype.createPopUpBg=function(e){void 0===e&&(e=160);var t=cc.winSize,n=new cc.Node;n.width=t.width,n.height=t.height;var o=n.addComponent(cc.Graphics);o.fillColor=new cc.Color(0,0,0,e),o.lineWidth=0,cc.ENGINE_VERSION>="2.0.0"?o.fillRect(-t.width/2,-t.height/2,t.width,t.height):o.fillRect(0,0,t.width,t.height),o.stroke();var a=new cc.Node;return a.width=t.width,a.height=t.height,a.addChild(n),a.addComponent(cc.BlockInputEvents),a},e}();n.default=a,cc._RF.pop()},{"../managers/GameManager":"GameManager"}],DeerLog:[function(e,t,n){"use strict";cc._RF.push(t,"7fad4GAL9dKjpdTW6CgYcpy","DeerLog"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./base/GameValues"),a=function(){function e(){}return e.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];o.default.enableLog&&console.log("%c"+e,"color:green;",t)},e.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.error("%c"+e,"color:red;",t)},e}();n.default=a,cc._RF.pop()},{"./base/GameValues":"GameValues"}],DeerRequest:[function(e,t,n){"use strict";cc._RF.push(t,"c0726p9VvtCjZwbcjZuEEp7","DeerRequest"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./DeerSDK"),a=e("../base/GameValues"),i=e("../libs/md5"),r=function(){function e(e,t,n,i,r,s){void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===s&&(s="GET"),this.tryTimes=1,this._successHandlers=[],this._failHandlers=[],this._hasTriedTimes=0,null!=n&&this._successHandlers.push(n),null!=i&&this._failHandlers.push(i),t&&(t.__v=o.DEER_SDK_VERSION,t.__gv=a.default.gameVersion),this._apiURL=e,this._requestData=t,this._dataFactory=r,this._requestMethod=s||"GET",this.sendRequest()}return Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._isComplete},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),e.prototype.onSuccess=function(e){null!=e&&(!0!==this._isComplete?-1==this._successHandlers.indexOf(e)&&this._successHandlers.push(e):!0===this._isSuccess&&e(this._data))},e.prototype.requestSuccessHandler=function(e){null!=this._dataFactory&&(e=this._dataFactory(e)),this._isComplete=!0,this._isSuccess=!0,this._data=e;for(var t=0;t<this._successHandlers.length;t++){(0,this._successHandlers[t])(e)}this._successHandlers=[]},e.prototype.onFail=function(e){null!=e&&(!0!==this._isComplete?-1==this._failHandlers.indexOf(e)&&this._failHandlers.push(e):!1===this._isSuccess&&e(this._data))},e.prototype.requestFailHandler=function(e){if(this._hasTriedTimes<this.tryTimes)return this._hasTriedTimes++,void this.sendRequest();this._isComplete=!0,this._isSuccess=!1,this._data=e;for(var t=0;t<this._failHandlers.length;t++){(0,this._failHandlers[t])(e)}this._failHandlers=[]},e.prototype.sendRequest2=function(e,t,n,o){void 0===n&&(n=null),void 0===o&&(o=null),console.log("-------sendRequest2------",e,t);var a=new XMLHttpRequest;a.open("GET",e),a.onreadystatechange=function(){if(4==a.readyState&&a.status>=200&&a.status<=207&&n){console.log("\u8fd4\u56de",a.responseText,typeof a.responseText);var e=null;try{e=JSON.parse(a.responseText).data}catch(e){}n(e)}};var i=JSON.stringify(t);a.setRequestHeader("content-type","application/x-www-form-urlencoded"),a.send("param="+encodeURIComponent(i))},Object.defineProperty(e.prototype,"getVivoUrl",{get:function(){var e=o.DEER_API_URL+this._apiURL,t=e+"?";for(var n in this._requestData)t+=n+"="+this._requestData[n]+"&";return console.log("Vivo Url1:",e,t),t=t.substring(0,t.length-1),console.log("Vivo Url2:",t),t},enumerable:!0,configurable:!0}),e.prototype.sendRequest=function(){var e;if("undefined"!=typeof wx){void 0==this._requestData.ts&&(this._requestData.ts=Math.floor(o.default.instance.serverTime.getTime()/1e3)),this.md5Data(this._requestData);var t=this;if(a.default.currentPlatform!=a.PlatformName.QTT)if(a.default.currentPlatform!=a.PlatformName.ANDROID&&a.default.currentPlatform!=a.PlatformName.IOS){if(this._apiURL.match(/^https?:/i))e=this._apiURL;else{if(a.default.isDebug)e=o.DEER_API_URL_TEST;else if(o.default.serverType==o.DeerServerType.DEER)e=o.DEER_API_URL;else{if(o.default.serverType!=o.DeerServerType.QISHIZHE)throw Error("\u4e0d\u652f\u6301\u7684\u540e\u53f0\u7c7b\u578b(DeerServerType):"+o.default.serverType);e=o.QISHIZHE_API_URL}"/"!=this._apiURL.charAt(0)&&(this._apiURL="/"+this._apiURL),"/"!=(e+=this._apiURL).charAt(e.length-1)&&(e+="/")}1!=a.default.isToutiao?wx.request({url:e,data:t._requestData,header:{"Content-Type":"application/x-www-form-urlencoded"},method:this._requestMethod.toUpperCase(),success:function(e){var n=e.data;if(n){try{n.data.status=n.status}catch(e){}t.requestSuccessHandler(n.data)}else t.requestSuccessHandler(null)},fail:function(e){t.requestFailHandler(e)},complete:function(){}}):t.requestFailHandler(null)}else t.sendRequest2(t.getVivoUrl,null,t.requestSuccessHandler.bind(this),t.requestFailHandler.bind(this));else t.sendRequest2(t.getVivoUrl,null,t.requestSuccessHandler.bind(this),t.requestFailHandler.bind(this))}},e.prototype.destroy=function(){this._failHandlers=[],this._successHandlers=[],this._dataFactory=null},e.prototype.md5Data=function(e){if(e){var t=Object.keys(e);t.sort();for(var n="",o=0;o<t.length;o++){var a=t[o];0!=a.indexOf("__")&&(""!=n&&(n+="&"),n+=a+"="+e[a])}n+="&"+this.md5key,e.__md5=i.md5(n)}},e}();n.default=r,cc._RF.pop()},{"../base/GameValues":"GameValues","../libs/md5":"md5","./DeerSDK":"DeerSDK"}],DeerSDKEventNames:[function(e,t,n){"use strict";cc._RF.push(t,"b9a35ISxoVOs7sNzjqrNWUS","DeerSDKEventNames"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.READY="ready",e.CHANGE="change",e.HANDSHAKE_COMPLETE="handshakeComplete",e.CONFIG_READY="configReady",e.NEW_MESSAGES="newMessages",e.FRIENDS_UPDATE="friendsUpdate",e.LUCKY_MONEY_UPDATE="luckyMoneyUpdate",e}();n.default=o,cc._RF.pop()},{}],DeerSDK:[function(e,t,n){"use strict";cc._RF.push(t,"46cdfsij0BOlYaFNMWlGFNA","DeerSDK");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("./DeerRequest"),i=e("../managers/event/EventDispacher"),r=e("./DeerSDKEventNames"),s=e("../platforms/QQCM_gameInfo"),c=e("../base/GameValues"),l=e("../wechat/WXUtils"),u=e("./XyxAPI");n.DEER_SDK_VERSION="1.5",n.DEER_API_URL="https://deer-cms.youkongwan.com",n.QISHIZHE_API_URL="https://tt.sewfall.cn",n.DEER_API_URL_TEST="https://deer-cms-test.youkongwan.com";var d,f,p,h,g;n.DEER_SAVE_GAME_DATA_DELAY=30,function(e){e[e.DEER=0]="DEER",e[e.QISHIZHE=1]="QISHIZHE"}(d=n.DeerServerType||(n.DeerServerType={})),function(e){e[e.ALL=0]="ALL",e[e.IOS=1]="IOS",e[e.ANDROID=2]="ANDROID"}(f=n.DeerDeviceType||(n.DeerDeviceType={})),function(e){e[e.UNKNOW=0]="UNKNOW",e[e.RECOMMEND=1]="RECOMMEND",e[e.HOT=2]="HOT",e[e.GAME_OVER=3]="GAME_OVER",e[e.TASK=4]="TASK",e[e.BOARD=5]="BOARD",e[e.RICH=9]="RICH",e[e.BANNER=10]="BANNER",e[e.ANIMATION=11]="ANIMATION",e[e.SPLASH=12]="SPLASH",e[e.POP=13]="POP"}(p=n.DeerAdType||(n.DeerAdType={})),function(e){e[e.REBIRTH=1]="REBIRTH",e[e.DIAMDOND=2]="DIAMDOND",e[e.SCORE=3]="SCORE"}(h=n.DeerItemType||(n.DeerItemType={})),function(e){e[e.GAME_START=1001]="GAME_START",e[e.GAME_SHARE=1002]="GAME_SHARE",e[e.SHOW_REWARD_AD_SUC=1003]="SHOW_REWARD_AD_SUC",e[e.AD_REQUEST=2001]="AD_REQUEST",e[e.AD_SHOW=2002]="AD_SHOW",e[e.AD_CLICK=2003]="AD_CLICK",e[e.AD_NAVIGATE=2004]="AD_NAVIGATE",e[e.WX_BAD_SHOW=2020]="WX_BAD_SHOW",e[e.WX_BAD_CLICK=2021]="WX_BAD_CLICK",e[e.SHARE_IMG_SHOW=3001]="SHARE_IMG_SHOW",e[e.SHARE_IMG_CLICK=3002]="SHARE_IMG_CLICK",e[e.CLIPBOARD_OK=9901]="CLIPBOARD_OK"}(g=n.DeerTrackAction||(n.DeerTrackAction={})),function(e){e[e.MAIL=1]="MAIL",e[e.ADD_FRIEND_REQUEST=2]="ADD_FRIEND_REQUEST",e[e.U2U=3]="U2U",e[e.WORLD_CHAT_MSG=10]="WORLD_CHAT_MSG",e[e.SYSTEM_MSG=11]="SYSTEM_MSG"}(n.DeerMessageType||(n.DeerMessageType={}));var _=function(){function e(){this.id=0,this.type=0,this.createTime=null,this.readed=!1}return e.prototype.setReaded=function(){this.readed||w.instance.game_messageReaded(this.id)},e}();n.DeerMessageVO=_;var y,m=function(){function e(e){void 0===e&&(e=null);var t=this;if(this.index=-1,this.amount=0,this._id=0,this._nickname="",this._isVIP=!1,this._achieveValue=0,this._aldUser=!1,e){if(e.user_id&&(this._id=parseInt(e.user_id),delete e.user_id),e.avatar_url&&(this._avatar=e.avatar_url,delete e.avatar_url),e.address&&(this._address=e.address,delete e.address),e.player_name&&(this._nickname=e.player_name,delete e.player_name),e.openId&&(this._openID=e.openId,delete e.openId),e.open_id&&(this._openID=e.open_id,delete e.open_id),e.achieve_v&&(this._achieveValue=e.achieve_v,delete e.achieve_v),e.user_attr){var n=parseInt(""+e.user_attr);n>0&&(this._isVIP=1==(1&n)),delete e.user_attr}e.last_time&&e.last_time>0&&(this._lastLoginTime=new Date,this._lastLoginTime.setTime(1e3*e.last_time),delete e.last_time),Object.keys(e).forEach(function(n){try{t[n]=e[n]}catch(e){}})}}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openID",{get:function(){return this._openID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"address",{get:function(){return this._address},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nickname",{get:function(){return this._nickname},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"avatar",{get:function(){return this._avatar},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVIP",{get:function(){return this._isVIP},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"achieveValue",{get:function(){return this._achieveValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastLoginTime",{get:function(){return this._lastLoginTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aldUser",{get:function(){return this._aldUser},enumerable:!0,configurable:!0}),e}();n.DeerUserVO=m,function(e){e[e.UNKNOW=0]="UNKNOW",e[e.MANUAL=1]="MANUAL",e[e.SHARE=2]="SHARE"}(y=n.DeerFriendType||(n.DeerFriendType={}));var v=function(e){function t(t){void 0===t&&(t=null);var n=this,o=null;return t&&t.type&&(o=parseInt(t.type),delete t.type),n=e.call(this,t)||this,o&&(n._type=o),n}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),t}(m);n.DeerFriendVO=v;var b=function(){return function(){this.id=0,this.amount=0}}();n.DeerLuckyMoney=b;var M=function(){return function(){this.locationCheck=!1,this.localVersion=null,this.locabanner1Check=!1,this.locabanner2Check=!1,this.videoRate=100}}();n.PolicyInfo=M;var w=function(e){function t(t){var n=e.call(this)||this;n._userVO=new m,n._isOnline=!0,n._passedSeconds=0,n._isReady=!1,n._isHandshakeCompleted=!1,n._isNewUser=!1,n._isDisabled=!1,n._fromAppID=null,n._inviterUserID=null,n._inviterNickname=null,n._inviterAvatar=null,n._inviterAdID=null,n._inviterAdEnterID=null,n._inviterChannel=null,n._inviterTime=null,n._inviterShareImgID=null,n._isFromMyFavorite=!1,n._remoteAllowed=!0,n._policyInfo=new M,n._game_id=0,n._game_userID=null,n._shareData=[],n._game_config=null,n._aldReady=!1,n._game_sdts_time=0,n._game_sdts_data=null,n._userDataID=null,n._game_messageLastRefreshTime=0,n._game_messageRefreshIndex=1,n._game_messageIDs=[],n._game_messageAll=[],n._luckyMoneyData={},n._luckyMoney_myBalance=0,n._luckyMoney_minWithdrawalAmount=0,n._luckyMoney_withdrawNeedFollowCallbacks=[],n._item_map={},n._adDataMap={},n._adRequestMap={},n.trackProxyFun=null,n._trackDataStack=[];var o=c.default.getLocalData("deer_chid"),i=c.default.getLocalData("deer_adid"),r=c.default.getLocalData("deer_enid");if(o&&(n._inviterChannel=o),i&&(n._inviterAdID=i),r&&(n._inviterAdEnterID=r),a.default.prototype.md5key="sign_deer_sdk","undefined"!=typeof wx){wx.onHide(function(e){console.log("\u3010DeerSDK onHide",e),n._game_sdts_data&&n.game_saveDataToServiceNow(n._game_sdts_data),n.sendTracks()}),wx.onShow(function(e){console.log("\u3010DeerSDK onShow\u3011",e),e&&n.analyseWXData(e);var t=wx.getUpdateManager();t.onCheckForUpdate(function(e){console.log("\u8bf7\u6c42\u5b8c\u65b0\u7248\u672c\u4fe1\u606f\u7684\u56de\u8c03",e)}),t.onUpdateReady(function(){wx.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5e94\u7528\uff1f",success:function(e){e.confirm&&t.applyUpdate()}})}),t.onUpdateFailed(function(){console.log("\u65b0\u7684\u7248\u672c\u4e0b\u8f7d\u5931\u8d25")})});var s=wx.getLaunchOptionsSync();n.analyseWXData(s)}return n._wxProxy=new S,n}return o(t,e),t.initSDK=function(e,n,o){void 0===n&&(n=void 0),void 0===o&&(o=void 0),t.instance.isReady||(t.instance._appID=e,t.instance.initPolicy(),n&&!t.instance._inviterChannel&&(t.instance._inviterChannel=""+n),o&&!t.instance._inviterAdID&&(t.instance._inviterAdID=""+o),t.instance.addEventListener(r.default.HANDSHAKE_COMPLETE,t.instance.handshakeCompleteHandler,t.instance),t.instance.wxLogin())},Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t(new E)),t._instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"session",{get:function(){return this._session},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appID",{get:function(){return this._appID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wxUserInfo",{get:function(){return this._userInfo},enumerable:!0,configurable:!0}),t.prototype.send=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="text",n.onload=function(e){console.log(n.response,"resp");try{var o=n.response?JSON.parse(n.response):null;t&&t(o)}catch(e){t&&t(null)}},n.onerror=function(e){console.log("XMLHttpRequest onerror "),setTimeout(function(){n=null},2e3)},n.send(null)},t.prototype.remotePolicyCheck=function(){var e=this,t="https://deer-cdn.youkongwan.com/game/config/"+e.appID+".json?vesion="+(new Date).getTime();this.send(t,function(t){t&&(e._policyInfo.locationCheck=!(!t||!t.navigate),e._policyInfo.locationCheck&&e._policyInfo.localVersion&&e.checkIsOnline(t),e._policyInfo.locabanner1Check=!(!t||!t.banner1),e._policyInfo.locabanner2Check=!(!t||!t.banner2),t.videoRate&&(e._policyInfo.videoRate=t.videoRate))})},t.prototype.checkIsOnline=function(e){if(e){var t=e.game_version,n=this._policyInfo.localVersion;try{t||(t="0"),n||(n="0");for(var o=t.split("."),a=n.split("."),i=Math.max(a.length,o.length);a.length<i;)a.push("0");for(;o.length<i;)o.push("0");for(var r=0!=i,s=0;s<i;s++){var c=parseInt(a[s]),l=parseInt(o[s]);if(c!=l){c>l&&(r=!1);break}}this._policyInfo.locationCheck=r}catch(e){}}},t.prototype.analyseWXData=function(e){console.log("\u3010DeerSDK\u3011analyseWXData",e);try{this._isFromMyFavorite=1104==e.scene,e.referrerInfo&&e.referrerInfo.appId&&(this._fromAppID=e.referrerInfo.appId)}catch(e){}try{var t=e.query;if(t.deer_uid&&(this._inviterUserID=t.deer_uid),t.deer_nn&&(this._inviterNickname=decodeURIComponent(t.deer_nn)),t.deer_av&&(this._inviterAvatar=decodeURIComponent(t.deer_av)),t.deer_chid&&(this._inviterChannel=t.deer_chid),t.deer_adid&&(this._inviterAdID=t.deer_adid),t.deer_enid&&(this._inviterAdEnterID=t.deer_enid),t.deer_shrid&&(this._inviterShareImgID=t.deer_shrid),t.deer_chid&&c.default.saveLocalData("deer_chid",t.deer_chid),t.deer_adid&&c.default.saveLocalData("deer_adid",t.deer_adid),t.time){var n=parseInt(t.time);!isNaN(n)&&n>0&&(this._inviterTime=new Date,this._inviterTime.setTime(n))}}catch(e){}},t.prototype.handshakeCompleteHandler=function(e){if(this.removeEventListener(r.default.HANDSHAKE_COMPLETE,this.handshakeCompleteHandler,this),console.log("******************* \u3010DeerSDK\u3011 *******************"),console.log("*******************  "+(this._isReady?"\u63e1\u624b\u6210\u529f":"\u63e1\u624b\u5931\u8d25")+"  *******************"),console.log("**************************************************"),this._isReady){var t=0;this._inviterUserID&&(t=1),this.track(g.GAME_START,{v:t}),this._inviterShareImgID&&this.track(g.SHARE_IMG_CLICK,{share_id:this._inviterShareImgID}),this.game_getConfigDataFromService(),this._inviterUserID&&this.user_friendAdd(parseInt(this._inviterUserID),y.SHARE)}},Object.defineProperty(t.prototype,"sdkVersion",{get:function(){return n.DEER_SDK_VERSION},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wx",{get:function(){return this._wxProxy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userVO",{get:function(){return this._userVO},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOnline",{get:function(){return this._isOnline},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverTime",{get:function(){if(isNaN(this._serverTimeS))return new Date;var e=new Date;return e.setTime(1e3*this._serverTimeS),e},enumerable:!0,configurable:!0}),t.prototype.addServerTime=function(){this._serverTimeS++,this._passedSeconds++,this._passedSeconds>0&&this._passedSeconds%5==0&&this.sendTracks(),this._game_sdts_data&&this._serverTimeS-this._game_sdts_time>n.DEER_SAVE_GAME_DATA_DELAY&&this.game_saveDataToServiceNow(this._game_sdts_data),this.game_messageRefreshInterval(),!this._user_friendsAll&&t.instance.hasEventListener(r.default.NEW_MESSAGES)&&this.user_friendsRefresh()},Object.defineProperty(t.prototype,"isReady",{get:function(){return this._isReady},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHandshakeCompleted",{get:function(){return this._isHandshakeCompleted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isNewUser",{get:function(){return this._isNewUser},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._isDisabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fromAppID",{get:function(){return this._fromAppID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inviterUserID",{get:function(){return this._inviterUserID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inviterNickname",{get:function(){return this._inviterNickname},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inviterAvatar",{get:function(){return this._inviterAvatar},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inviterAdID",{get:function(){return this._inviterAdID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inviterAdEnterID",{get:function(){return this._inviterAdEnterID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inviterChannel",{get:function(){return this._inviterChannel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inviterTime",{get:function(){return this._inviterTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFromMyFavorite",{get:function(){return this._isFromMyFavorite},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canUseEasingPolicy",{get:function(){return this._isOnline&&this._remoteAllowed},enumerable:!0,configurable:!0}),t.prototype.handshakeRetry=function(){this._isHandshakeCompleted&&!this._isReady&&(this._isHandshakeCompleted=!1,this.addEventListener(r.default.HANDSHAKE_COMPLETE,this.handshakeCompleteHandler,this),t.instance.wxLogin())},t.prototype.wxLogin=function(){if("undefined"==typeof wx||c.default.currentPlatform==c.PlatformName.BAIDU)return this._isHandshakeCompleted=!0,void this.dispatchEventWith(r.default.HANDSHAKE_COMPLETE);c.default.isToutiao?wx.login({force:!1,success:this.wxLoginSucCallback.bind(this),fail:this.wxLoginFailCallback.bind(this)}):wx.login({success:this.wxLoginSucCallback.bind(this),fail:this.wxLoginFailCallback.bind(this)})},Object.defineProperty(t.prototype,"policyInfo",{get:function(){return this._policyInfo},enumerable:!0,configurable:!0}),t.prototype.initPolicy=function(){this.remotePolicyCheck()},t.prototype.wxLoginSucCallback=function(e){var t=this;if(console.log("\u3010DeerSDK wx.login\u6210\u529f\u3011"),console.log(JSON.stringify(e)),!e||!e.code||"gamesdeer"==e.code)return this._isHandshakeCompleted=!0,void this.dispatchEventWith(r.default.HANDSHAKE_COMPLETE);var n=e.code;if(c.default.currentPlatform==c.PlatformName.QQCM)wx.getUserInfo({withCredentials:!0,lang:"zh_CN",success:function(e){t._userInfo=e.userInfo;var o={app_id:t._appID,game_id:s.default.gameId,open_key:n,open_id:s.default.openId,avatar:t._userInfo.avatarUrl,nickName:t._userInfo.nickName,gender:t._userInfo.gender};t._fromAppID&&(o.from_app=t._fromAppID),t._inviterAdID&&(o.iv_adid=t._inviterAdID),t._inviterAdEnterID&&(o.iv_enid=t._inviterAdEnterID),t._inviterChannel&&(o.iv_chid=t._inviterChannel),new a.default("/api/user_info_qq",o,t.userInfoSucCallback.bind(t),t.userInfoFailCallback.bind(t))},fail:function(e){console.log("\u3010DeerSDK\u3011 wx.getUserInfo \u5931\u8d25\uff0cQQ\u5398\u7c73\u79c0")}});else if(c.default.currentPlatform==c.PlatformName.QQ){var o={app_id:this._appID,code:n};this._fromAppID&&(o.from_app=this._fromAppID),this._inviterAdID&&(o.iv_adid=this._inviterAdID),this._inviterAdEnterID&&(o.iv_enid=this._inviterAdEnterID),this._inviterChannel&&(o.iv_chid=this._inviterChannel),new a.default("/api/user_info_qq_new",o,this.userInfoSucCallback.bind(this),this.userInfoFailCallback.bind(this)),this.getWXUserInfo()}else if(c.default.currentPlatform==c.PlatformName.OPPO)wx.getUserInfo({success:function(e){console.log("getUserInfo, res=",e),t._userInfo=e.userInfo;var o=JSON.parse(JSON.stringify(t._userInfo));o.app_id=t._appID,o.code=n,new a.default("/api/user_info_oppo/",o,t.userInfoSucCallback.bind(t),t.userInfoFailCallback.bind(t))},fail:function(e){console.log("\u3010DeerSDK\u3011 wx.getUserInfo \u5931\u8d25\uff0cOppo")}});else if(c.default.currentPlatform==c.PlatformName.IOS)wx.getUserInfo({success:function(e){console.log("getUserInfo, res=",e),t._userInfo=e.userInfo;var n=JSON.parse(JSON.stringify(t._userInfo));n.app_id=t._appID,new a.default("/api/user_info_ios/",n,t.userInfoSucCallback.bind(t),t.userInfoFailCallback.bind(t))},fail:function(e){console.log("\u3010DeerSDK\u3011 wx.getUserInfo \u5931\u8d25\uff0cOppo")}});else if(c.default.currentPlatform==c.PlatformName.FACEBOOK)wx.getUserInfo({success:function(e){console.log("getUserInfo, res=",e),t._userInfo=e.userInfo;var n=JSON.parse(JSON.stringify(t._userInfo));n.app_id=t._appID,new a.default("/api/user_info_fb/",n,t.userInfoSucCallback.bind(t),t.userInfoFailCallback.bind(t))},fail:function(e){console.log("\u3010DeerSDK\u3011 wx.getUserInfo \u5931\u8d25\uff0cOppo")}});else{o={app_id:this._appID,code:n};this._fromAppID&&(o.from_app=this._fromAppID),this._inviterAdID&&(o.iv_adid=this._inviterAdID),this._inviterAdEnterID&&(o.iv_enid=this._inviterAdEnterID),this._inviterChannel&&(o.iv_chid=this._inviterChannel),new a.default("/api/user_info",o,this.userInfoSucCallback.bind(this),this.userInfoFailCallback.bind(this)),this.getWXUserInfo()}},t.prototype.wxLoginFailCallback=function(e){console.log("\u3010DeerSDK wx.login\u5931\u8d25\u3011"),this._isHandshakeCompleted=!0,this.dispatchEventWith(r.default.HANDSHAKE_COMPLETE)},t.prototype.getWXUserInfo=function(){var e=this;c.default.currentPlatform==c.PlatformName.WECHAT||c.default.currentPlatform==c.PlatformName.BAIDU?wx.getSetting({success:function(t){t.authSetting["scope.userInfo"]?e.doWXUserInfoIsReady():setTimeout(e.getWXUserInfo.bind(e),1e4)}}):this.doWXUserInfoIsReady()},t.prototype.doWXUserInfoIsReady=function(){var e=this;this._userInfo||(console.log("\u3010DeerSDK wx.getUserInfo \u6210\u529f\u3011"),wx.login({success:function(t){var n=t.code;wx.getUserInfo({withCredentials:!0,lang:"zh_CN",success:function(t){e._userInfo=t.userInfo;var o={app_id:e._appID,code:n,iv:t.iv,raw_data:t.rawData,encrypted_data:t.encryptedData,signature:t.signature};e._inviterAdID&&(o.in_adid=e._inviterAdID),e._inviterAdEnterID&&(o.iv_enid=e._inviterAdEnterID),e._inviterChannel&&(o.in_chid=e._inviterChannel),c.default.currentPlatform==c.PlatformName.QQ?new a.default("/api/user_info_qq_new",o):new a.default("/api/user_info",o)}})}}))},t.prototype.userInfoSucCallback=function(e){try{this.analyseLoginData(e),console.log("DeerSdk Ready ok!"),this._isReady=!0,this.dispatchEventWith(r.default.READY)}catch(e){console.log("\u3010DeerSDK\u63e1\u624b\u6210\u529f\uff0c\u6570\u636e\u89e3\u6790\u5931\u8d25\u3011")}this._isHandshakeCompleted=!0,this.dispatchEventWith(r.default.HANDSHAKE_COMPLETE)},t.prototype.userInfoFailCallback=function(e){this._isHandshakeCompleted=!0,this.dispatchEventWith(r.default.HANDSHAKE_COMPLETE)},t.prototype.analyseLoginData=function(e){if(this._game_id=parseInt(e.game_id),e.game_uid&&(this._game_userID=""+e.game_uid),this._userVO=new m(e.user_detail),void 0!=e.time?this._serverTimeS=Math.floor(e.time):this._serverTimeS=Math.floor((new Date).getTime()/1e3),setInterval(function(){t.instance.addServerTime()},1e3),this._session=e.session_key,!this._session)throw new Error("session is null");if(e.msg_id&&(this._userDataID=e.msg_id),this._isNewUser=!0===e.new_user,this._game_detail=e.game_detail,this.game_detail&&this._game_detail.share_msgs&&(this._shareData&&0!=this._shareData.length||(this._shareData=this._game_detail.share_msgs,delete this._game_detail.share_msgs)),this._game_detail){this._isDisabled=!0===this._game_detail.disable,this._remoteAllowed=!0===this._game_detail.refe,delete this._game_detail.refe;var n=this._game_detail.game_version,o=c.default.gameVersion;try{n||(n="0"),o||(o="0");for(var a=n.split("."),i=o.split("."),r=Math.max(i.length,a.length);i.length<r;)i.push("0");for(;a.length<r;)a.push("0");for(var s=!0,l=0;l<r;l++){var u=parseInt(i[l]),d=parseInt(a[l]);if(u!=d){u>d&&(s=!1);break}}this._isOnline=s}catch(e){}}},t.prototype.user_setVIP=function(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),this._isReady){if(this._userVO.isVIP!==e){this._userVO._isVIP=e;var o={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session,type:e?1:0};this._game_getConfigDataRequest=new a.default("/api/save_user_vip",o,this.user_setVIP_suc.bind(this),this.user_setVIP_suc_fail.bind(this)),this._game_getConfigDataRequest.onFail(n),this._game_getConfigDataRequest.onSuccess(t)}}else n&&n()},t.prototype.user_setVIP_suc=function(e){},t.prototype.user_setVIP_suc_fail=function(e){this._userVO._isVIP=!this._userVO.isVIP},Object.defineProperty(t.prototype,"user_friendsAll",{get:function(){return this._user_friendsAll?this._user_friendsAll.concat():(this.user_friendsRefresh(),null)},enumerable:!0,configurable:!0}),t.prototype.user_friendsRefresh=function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),!this._user_refreshFriendsRequest){var n={user_id:this._userVO.id,session_key:this._session};this._user_refreshFriendsRequest=new a.default("/friend/friend_list",n,this.user_friendsRefresh_suc.bind(this),this.user_friendsRefresh_fail.bind(this),this.user_friendsRefresh_data.bind(this))}this._user_refreshFriendsRequest.onFail(t),this._user_refreshFriendsRequest.onSuccess(e)},t.prototype.user_friendsRefresh_data=function(e){var t=[];try{e.forEach(function(e){var n=new v(e);n.id&&t.push(n)})}catch(e){}return t},t.prototype.user_friendsRefresh_suc=function(e){this._user_refreshFriendsRequest=null,this._user_friendsAll=e,this._user_friendsAll||(this._user_friendsAll=[]),this.dispatchEventWith(r.default.FRIENDS_UPDATE)},t.prototype.user_friendsRefresh_fail=function(e){this._user_refreshFriendsRequest=null},t.prototype.user_friendAdd=function(e,t,n,o){void 0===n&&(n=null),void 0===o&&(o=null);var i={user_id:this._userVO.id,friend_id:e,type:t,session_key:this._session},r=new a.default("/friend/add_friend",i,this.user_friendAdd_suc.bind(this),this.user_friendAdd_fail.bind(this));r.onFail(o),r.onSuccess(n)},t.prototype.user_friendAdd_suc=function(e){try{var t=new v(e);t.id&&t.avatar&&t.nickname&&(this._user_friendsAll||(this._user_friendsAll=[]),this._user_friendsAll.push(t),this.dispatchEventWith(r.default.FRIENDS_UPDATE))}catch(e){}},t.prototype.user_friendAdd_fail=function(e){},t.prototype.user_friendRemove=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var o={user_id:this._userVO.id,friend_id:e,session_key:this._session},i=new a.default("/friend/del_friend",o,this.user_friendRemove_suc.bind(this),this.user_friendRemove_fail.bind(this));i.onFail(n),i.onSuccess(t)},t.prototype.user_friendRemove_suc=function(e){try{var t=new v(e);if(t.id&&t.avatar&&t.nickname&&this._user_friendsAll)for(var n=this._user_friendsAll.length,o=0;o<n;o++)if(this._user_friendsAll[o].id==t.id){this._user_friendsAll.splice(o,1),this.dispatchEventWith(r.default.FRIENDS_UPDATE);break}}catch(e){}},t.prototype.user_friendRemove_fail=function(e){},t.prototype.user_friendsCount=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null);var n={user_id:this._userVO.id,session_key:this._session},o=new a.default("/friend/friend_num",n,this.user_friendsCount_suc.bind(this),this.user_friendsCount_fail.bind(this));o.onFail(t),o.onSuccess(e)},t.prototype.user_friendsCount_suc=function(e){},t.prototype.user_friendsCount_fail=function(e){},Object.defineProperty(t.prototype,"game_id",{get:function(){return this._game_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"game_userID",{get:function(){return this._game_userID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"game_detail",{get:function(){return this._game_detail},enumerable:!0,configurable:!0}),t.prototype.game_getAllShareData=function(){return this._shareData},t.prototype.game_getAShareData=function(){if(0==this._shareData.length)return null;var e=Math.floor(this._shareData.length*Math.random());return this._shareData[e]},Object.defineProperty(t.prototype,"game_config",{get:function(){return this._game_config},enumerable:!0,configurable:!0}),t.prototype.game_getRecentGames=function(){},t.prototype.game_getConfigDataFromService=function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),this._isReady)if(this._game_config)e&&e(this._game_config);else{if(null==this._game_getConfigDataRequest){var n={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session};this._game_getConfigDataRequest=new a.default("/api/get_game_data",n,this.game_getConfigDataFromService_suc.bind(this),this.game_getConfigDataFromService_fail.bind(this))}this._game_getConfigDataRequest.onFail(t),this._game_getConfigDataRequest.onSuccess(e)}else t&&t()},t.prototype.game_getConfigNoDataFromService=function(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),this._game_config)t&&t(this._game_config);else{if(null==this._game_getConfigDataRequest){var o={app_id:e};this._game_getConfigDataRequest=new a.default("/api/get_game_data_no",o,this.game_getConfigDataFromService_suc.bind(this),this.game_getConfigDataFromService_fail.bind(this))}this._game_getConfigDataRequest.onFail(n),this._game_getConfigDataRequest.onSuccess(t)}},Object.defineProperty(t.prototype,"aldReady",{get:function(){return this._aldReady},set:function(e){this._aldReady=e},enumerable:!0,configurable:!0}),t.prototype.initAld=function(e){this._isReady&&(console.log("----------------------\u521d\u59cb\u5316\u963f\u62c9\u4e01----------------------",t.instance.isNewUser,t.instance.userVO.aldUser),t.instance.isNewUser||t.instance.setAdl(e))},t.prototype.setAdl=function(e,n){var o=this;if(void 0===n&&(n=null),console.log("----------------------\u8bbe\u7f6e\u963f\u62c9\u4e01----------------------",t.instance.isNewUser,t.instance.aldReady),t.instance.aldReady)n&&n();else{var a=function(e){var a=Math.random(),i=!1;t.instance.aldReady=!0,e<=a?(window.aldFuntion(),n&&n(),o.game_getAldUser(),i=!0):n&&n(),console.log("=====================================\u5224\u65ad\u662f\u5426\u6263\u91cf\u7528\u6237\uff1atrue\u4e3a\u4e0d\u6263\u91cf\u7528\u6237 \uff0cfalse\u4e3a\u6263\u91cf\u7528\u6237",i)},i=t.instance.userVO.aldUser;if(i||!t.instance.isNewUser||t.instance.aldReady)!t.instance.isNewUser&&i?(console.log("=====================\u4e0d\u6263\u91cf\u7528\u6237\u76f4\u63a5\u8fdb\u5165\u6e38\u620f \uff0c\u52a0\u8f7d\u963f\u62c9\u4e01====================="),t.instance.aldReady=!0,window.aldFuntion(),n&&n()):(console.log("=====================\u76f4\u63a5\u8fdb\u5165\u6e38\u620f====================="),n&&n());else{console.log("=====================\u6263\u91cf\u7528\u6237=====================");var r=0;t.instance.game_config?(r=Number(t.instance.game_config.realPlayerFilter),a(r)):t.instance.game_getConfigNoDataFromService(e,function(e){console.log("=====================game_getConfigNoDataFromService suc=====================",t.instance.game_config),t.instance.game_config&&(r=Number(t.instance.game_config.realPlayerFilter)),a(r)},function(e){console.log("=====================game_getConfigNoDataFromService fail ====================="),a(r)})}}},t.prototype.game_getAldUser=function(){if(null==this._game_getConfigDataRequest){var e={user_id:this._userVO.id,session_key:this._session};this._game_getConfigDataRequest=new a.default("/api/ald_user/",e)}},t.prototype.game_getConfigDataFromService_suc=function(e){var n=null==this._game_config;try{this._game_config=JSON.parse(e)}catch(e){console.log("\u89e3\u6790\u6e38\u620f\u914d\u7f6e\u6570\u636e\u5931\u8d25\uff01"),this._game_config={}}if(console.log("\u6e38\u620f\u914d\u7f6e\u6570\u636e\u4e3a",this._game_config),this._game_config)try{var o=this._game_config.__clipboard,a=!0===o[0];if(a&&o.shift(),!a||this.canUseEasingPolicy){var i=o[Math.floor(Math.random()*o.length)];wx.setClipboardData({data:i}),wx.showToast({title:"\u767b\u9646\u6210\u529f",icon:"none",duration:1500,mask:!1}),t.instance.track(g.CLIPBOARD_OK,{v:i})}}catch(e){}n&&this.dispatchEventWith(r.default.CONFIG_READY),this._game_getConfigDataRequest=null},t.prototype.game_getConfigDataFromService_fail=function(e){this._game_getConfigDataRequest=null},Object.defineProperty(t.prototype,"game_score",{get:function(){return this.item_getAmount(h.SCORE)},enumerable:!0,configurable:!0}),t.prototype.game_saveScoreToService=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),this._isReady?(e=Math.floor(e))<=this.game_score?console.log("\u63d0\u4ea4\u5206\u6570"+e+"\u5c0f\u4e8e\u6700\u9ad8\u5206"+this.game_score):this.item_saveAmountToService(h.SCORE,e,t,n):n&&n()},t.prototype.game_getScoreFromService=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this._isReady?this.item_getAmountFromService(h.SCORE,e,t):t&&t()},t.prototype.game_getGlobalRankingData=function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),this._isReady){if(!this._game_getGlobalRankingDataRequest){var n={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session,type:h.SCORE};this._game_getGlobalRankingDataRequest=new a.default("/api/score_rank",n,this.game_getGlobalRankingData_suc.bind(this),this.game_getGlobalRankingData_fail.bind(this),this.game_getGlobalRankingData_data.bind(this))}this._game_getGlobalRankingDataRequest.onFail(t),this._game_getGlobalRankingDataRequest.onSuccess(e)}else t&&t()},t.prototype.game_getGlobalRankingData_data=function(e){if(e){var t=void 0;e.my_score&&(t=e.my_score=new m(e.my_score));var n=e.score_rank;if(n){for(var o=0,a=n.length;o<a;o++){var i=new m(n[o]);i.index=o+1,n[o]=i,t&&(t.avatar&&t.avatar==i.avatar?(t.index=o+1,t=null):t.openID&&t.openID==i.openID&&(t.index=o+1,t=null))}e.score_rank=n}}return e},t.prototype.game_getGlobalRankingData_suc=function(e){this._game_getGlobalRankingDataRequest=null},t.prototype.game_getGlobalRankingData_fail=function(e){this._game_getGlobalRankingDataRequest=null},t.prototype.game_saveDataToService=function(e){this._game_sdts_data=e},t.prototype.game_saveDataToServiceNow=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),this._isReady||n&&n(),this._game_sdts_data=null,this._game_sdts_time=this._serverTimeS;var o={ud:e},i={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session,msg:JSON.stringify(o)};new a.default("/api/save_game_user_data",i,t,n,null,"POST")},t.prototype.game_getDataFromService=function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),this._isReady){var n={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session};new a.default("/api/get_game_user_data",n,function(t){try{var n=JSON.parse(t);e&&e(n.ud)}catch(t){e&&e({})}},t)}else t&&t()},Object.defineProperty(t.prototype,"game_dataID",{get:function(){return this._userDataID},enumerable:!0,configurable:!0}),t.prototype.game_saveDataIDToService=function(e,t,n){var o=this;if(void 0===t&&(t=null),void 0===n&&(n=null),this._userDataID!=e)if(this._isReady){var i={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session,msg_id:e},r=new a.default("/api/save_msg_id",i,function(t){o._game_userID=e},function(e){});r.onSuccess(t),r.onFail(n)}else n&&n();else t&&t()},t.prototype.game_getRandomUsers=function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),this._isReady){if(!this._game_getRandomUsersRequest){var n={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session};this._game_getRandomUsersRequest=new a.default("/api/random_users",n,this.game_getRandomUsers_suc.bind(this),this.game_getRandomUsers_fail.bind(this),this.game_getRandomUsers_data.bind(this))}this._game_getRandomUsersRequest.onSuccess(e),this._game_getRandomUsersRequest.onFail(t)}else t&&t()},t.prototype.game_getRandomUsers_data=function(e){try{for(var t=this._userVO.id,n=[],o=e.msg,a=0,i=o.length;a<i;a++)o[a].user_id!=t&&n.push(new m(o[a]));return n.length>0&&(this._lastRandomUsers=n.concat()),n}catch(e){console.log("analyse random user data error",e)}return this._lastRandomUsers&&this._lastRandomUsers.length>0?this._lastRandomUsers.concat():[]},t.prototype.game_getRandomUsers_suc=function(e){this._game_getRandomUsersRequest=null},t.prototype.game_getRandomUsers_fail=function(e){this._game_getRandomUsersRequest=null},t.prototype.game_messageRefreshInterval=function(){t.instance.hasEventListener(r.default.NEW_MESSAGES)&&this._serverTimeS-this._game_messageLastRefreshTime>t.MESSAGE_MIN_DELAY_SECOND&&this.game_messageRefresh()},t.prototype.game_messageRefresh=function(e){if(void 0===e&&(e=0),this._isReady){var n=0;this._game_messageRefreshIndex>1&&(n=Math.floor(this._game_messageLastRefreshTime-t.MESSAGE_MIN_DELAY_SECOND-10));var o={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session,index:this._game_messageRefreshIndex,msg_type:e,last_time:n};new a.default("/msg/roll_msg",o,this.game_messageRefresh_suc.bind(this),this.game_messageRefresh_fail.bind(this)),this._game_messageLastRefreshTime=this._serverTimeS}},Object.defineProperty(t.prototype,"game_messageAll",{get:function(){return this._game_messageAll},enumerable:!0,configurable:!0}),t.prototype.game_messageRefresh_suc=function(e){this._game_messageStack||(this._game_messageStack=[]);try{for(var t=e,n=t.length,o=0;o<n;o++){var a=t[o];if(a){var i=parseInt(""+a.id);if(!(i<=0||this._game_messageIDs.indexOf(i)>=0)){var s=new _;s.id=i,s.type=a.msg_type,s.readed=!0===a.has_readed,s.title=a.msg_title,s.content=a.msg_content,s.data=a.msg_data;try{var c=JSON.parse(s.data);s.data=c}catch(e){}if(a.from_user_detail){var l=new m(a.from_user_detail);l.id&&(s.fromUser=l)}s.createTime=new Date,s.createTime.setTime(1e3*a.create_time),this._game_messageIDs.push(i),this._game_messageAll.push(s),this._game_messageStack.push(s)}}}this._game_messageRefreshIndex++}catch(e){}this._game_messageStack.length>0&&this.hasEventListener(r.default.NEW_MESSAGES)&&(this.dispatchEventWith(r.default.NEW_MESSAGES,this._game_messageStack),this._game_messageStack=null)},t.prototype.game_messageRefresh_fail=function(e){},t.prototype.game_messageReaded=function(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),this._isReady&&!(e<=0)){var o={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session,msg_id:e};new a.default("/msg/readed_msg",o,t,n)}},t.prototype.game_messageSendToUser=function(e,t,n,o,i,r){if(void 0===o&&(o=null),void 0===i&&(i=null),void 0===r&&(r=null),this._isReady&&!(e<=0)){var s={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session,to_user_id:e,msg_title:t,msg_content:n};o&&(s.msg_data=JSON.stringify(o)),new a.default("/msg/user_to_user",s,i,r)}},t.prototype.game_achievementSave=function(e,t,n,o){if(void 0===t&&(t=0),void 0===n&&(n=null),void 0===o&&(o=null),this._isReady&&e){var i={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session,achieve_id:e,achieve_v:t};new a.default("/achieve/save_achieve",i,n,o)}},t.prototype.game_achievementObtainedUsers=function(e,t,n,o,i){if(void 0===t&&(t=10),void 0===n&&(n=1),void 0===o&&(o=null),void 0===i&&(i=null),this._isReady&&e){var r={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session,achieve_id:e,num:t,order:n};new a.default("/achieve/get_achieve",r,o,i,this.game_achievementObtainedUsers_data.bind(this))}},t.prototype.game_achievementObtainedUsers_data=function(e){var t=[];try{for(var n=e,o=0;o<n.length;o++){var a=new m(n[o]);a&&a.id&&a.nickname&&t.push(a)}}catch(e){}return t},Object.defineProperty(t.prototype,"luckyMoney_myBalance",{get:function(){return this._luckyMoney_myBalance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"luckyMoney_minWithdrawalAmount",{get:function(){return this._luckyMoney_minWithdrawalAmount},enumerable:!0,configurable:!0}),t.prototype.luckyMoney_registerTypes=function(e){var t=this;if(e){if(this._luckyMoneyTypes)throw new Error("You'd registered the types of lucky toney!");this._luckyMoneyData={},this._luckyMoneyTypes=e.concat(),this.isReady?(this.luckyMoney_refreshMyBalance(),this.luckyMoney_refresh()):this.addEventListener(r.default.READY,function(e){t.luckyMoney_refreshMyBalance(),t.luckyMoney_refresh()},this,0,!0)}},t.prototype.luckyMoney_refresh=function(e){if(void 0===e&&(e=null),this._isReady&&(e||(e=this._luckyMoneyTypes),e&&0!=e.length)){var t={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session,strategy_id:e.join(",")};new a.default("/packet/get_order",t,this.luckyMoney_refresh_suc.bind(this),this.luckyMoney_refresh_fail.bind(this),this.luckyMoney_refresh_data.bind(this))}},t.prototype.luckyMoney_refresh_data=function(e){var t=this;try{e.forEach(function(e){var n=new b;n.id=e.user_order_id,n.amount=e.order_money,n.type=e.strategy_id;var o=t._luckyMoneyData[n.type];o||(o=t._luckyMoneyData[n.type]=[]),o.push(n)}),this.dispatchEventWith(r.default.LUCKY_MONEY_UPDATE)}catch(e){console.log("analyse lucky money data error",e)}return[]},t.prototype.luckyMoney_refresh_suc=function(e){},t.prototype.luckyMoney_refresh_fail=function(e){},t.prototype.luckyMoney_dispach=function(e,t,n){var o=this;if(void 0===t&&(t=null),void 0===n&&(n=null),this._isReady&&e){var i={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session,order_id:e.id,strategy_id:e.type},s=new a.default("/packet/send_packet",i,function(t){t&&t.balance>0&&(o._luckyMoney_myBalance=t.balance,o.dispatchEventWith(r.default.LUCKY_MONEY_UPDATE)),o.luckyMoney_refresh([e.type])},function(e){});s.onSuccess(t),s.onFail(n)}else n&&n()},t.prototype.luckyMoney_getOne=function(e){var t=this._luckyMoneyData[e];return t&&t.length>0?t.shift():null},t.prototype.luckyMoney_exist=function(e){var t=this._luckyMoneyData[e];return!!(t&&t.length>0)},t.prototype.luckyMoney_refreshMyBalance=function(){if(this._isReady){var e={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session};new a.default("/packet/get_user_amount",e,this.luckyMoney_getMyBalance_suc.bind(this),this.luckyMoney_getMyBalance_fail.bind(this))}},t.prototype.luckyMoney_getMyBalance_suc=function(e){try{e.balance>0&&(this._luckyMoney_myBalance=e.balance),e.min_withdraw_amount>0&&(this._luckyMoney_minWithdrawalAmount=e.min_withdraw_amount),this.dispatchEventWith(r.default.LUCKY_MONEY_UPDATE)}catch(e){}},t.prototype.luckyMoney_getMyBalance_fail=function(e){},t.prototype.luckyMoney_withdraw=function(e,t,n){if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),this._isReady){if(!this._luckyMoney_withdrawRequest){var o={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session};this._luckyMoney_withdrawRequest=new a.default("/packet/withdraw",o,this.luckyMoney_withdraw_suc.bind(this),this.luckyMoney_withdraw_fail.bind(this))}this._luckyMoney_withdrawRequest.onFail(t),this._luckyMoney_withdrawRequest.onSuccess(e),n&&this._luckyMoney_withdrawNeedFollowCallbacks.push(n)}else t&&t()},t.prototype.luckyMoney_withdraw_suc=function(e){e&&(-3==e.status?(this._luckyMoney_withdrawRequest.destroy(),this._luckyMoney_withdrawNeedFollowCallbacks.forEach(function(e){e()})):e.balance>0&&(this._luckyMoney_myBalance=e.balance,this.dispatchEventWith(r.default.LUCKY_MONEY_UPDATE))),this._luckyMoney_withdrawRequest=null,this._luckyMoney_withdrawNeedFollowCallbacks=[]},t.prototype.luckyMoney_withdraw_fail=function(e){this._luckyMoney_withdrawRequest=null,this._luckyMoney_withdrawNeedFollowCallbacks=[]},t.prototype.item_getAmount=function(e){var t=this._item_map[e];return void 0==t||null==t?0:t},t.prototype.item_getAllFromService=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null);var n={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session};new a.default("/api/get_user_items",n,e,t).onSuccess(this.item_getAllFromService_success.bind(this))},t.prototype.item_getAllFromService_success=function(e){var t=this;try{e.forEach(function(e){var n=""+e.type_id;t._item_map[n]=e.amount})}catch(e){}},t.prototype.item_getAmountFromService=function(e,t,n){var o=this;void 0===t&&(t=null),void 0===n&&(n=null);var i={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session,type:e};new a.default("/api/get_item_amount",i,t,n).onSuccess(function(t){var n=t.amount;n.length>0&&(o._item_map[e]=parseInt(n),console.log("\u8bb0\u5f55\u9053\u5177:\u7c7b\u578b,\u6570\u91cf",e,n))})},t.prototype.item_saveAmountToService=function(e,t,n,o){var i=this;void 0===n&&(n=null),void 0===o&&(o=null);var r={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session,type:e,amount:t},s=this._item_map[e];this._item_map[e]=t,new a.default("/api/save_item_amount",r,n,o).onFail(function(){i._item_map[e]=s,console.log("\u3010\u9053\u5177\u4fdd\u5b58\u5931\u8d25\u3011\u6062\u590d\u539f\u59cb\u503c",e,s)})},t.prototype.ad_getAllAds=function(){var e=this,t=[];return Object.keys(this._adDataMap).forEach(function(n){var o=e._adDataMap[n];o&&o.forEach(function(e){-1==t.indexOf(e)&&t.push(e)})}),t},t.prototype.ad_getAds=function(e,t){void 0===t&&(t=null);var n=this._adDataMap["ad_"+e];if(t){var o=this._adDataMap["ad_"+e+"_"+t];o&&o.length>0&&(n=o)}return n?n.concat():null},t.prototype.ad_addAds=function(e,t){var n=this;t&&t.length>0&&(this._adDataMap["ad_"+e]=t,t.forEach(function(t){t.adType=e;var o=t.flag;if(o){var a="ad_"+e+"_"+o;void 0==n._adDataMap[a]&&(n._adDataMap[a]=[]),n._adDataMap[a].push(t)}}))},t.prototype.ad_getAdData=function(e,t,n,o){var i=this;if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===o&&(o=null),Object.keys(c.default.ttAds).length>0){var r=[],s=Object.keys(c.default.ttAds),l=0;s.forEach(function(e,n){cc.loader.loadRes("adImgs/"+c.default.ttAds[e],cc.SpriteFrame,function(o,a){console.log(e,a.name,"name");var i=new O;i.id=n,i.spriteFrame=a,i.name=e,r.push(i),i.appID=c.default.ttAds[e],++l==s.length&&t&&t(r)})})}else{var u=this.ad_getAds(e,o);if(u)null!=t&&t(u);else{var d=this._adRequestMap[e];if(!d){var f={app_id:this._appID,entry_id:e};d=new a.default("/adv/adv",f,function(n){if(delete i._adRequestMap["ad_"+e],i.track(g.AD_REQUEST,{enter_id:e}),i.ad_addAds(e,n),null!=t){var a=i.ad_getAds(e,o);t(a)}},function(){delete i._adRequestMap["ad_"+e]},this.ad_getAdData_dataFactory.bind(this))}d.onFail(n)}}},t.prototype.ad_getAdData_dataFactory=function(e){var t=[];try{for(var n=e,o=0;o<n.length;o++){var a=n[o],i=new O;i.id=parseInt(a.id),i.appID=a.app_id,i.name=a.name,i.path=a.path,i.desc=a.desc,i.icon=a.icon,i.img_256_129=a.adv_img,i.img_1000_840=a.rich_img,i.previewImg=a.pub_img,i.bannerImg=a.strip_img,i.splashImg=a.screen_img,i.dot=a.ad_dot,i.count=a.ad_count,a.spine&&(i.spine={atlas:a.spine.dh_desc,png:a.spine.dh_chartlet,aniJson:a.spine.dh_file}),a.laya_spine&&(i.spineLaya={sk:a.laya_spine.laya_sk,chartlet:a.laya_spine.laya_chartlet}),i.adValue=parseInt(a.avd_value);var r=!0;void 0!=a.equipment&&(i.device=parseInt(a.equipment),(i.device!=f.ANDROID||c.default.isAndroid)&&(i.device!=f.IOS||c.default.isIOS)||(r=!1)),r&&t.push(i)}}catch(e){}return t.concat()},t.prototype.getShareQueryData=function(){var e={deer_uid:this._userVO.id,time:(new Date).getTime()};return this._userInfo&&(e.deer_nn=this._userInfo.nickName,e.deer_av=this._userInfo.avatarUrl),this._inviterChannel&&(e.deer_chid=this._inviterChannel),this._inviterAdID&&(e.deer_adid=this._inviterAdID),this._inviterAdEnterID&&(e.deer_enid=this._inviterAdEnterID),e},t.prototype.track=function(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=!1),t||(t={}),t.aid=e,c.default.gameVersion&&(t.game_v=c.default.gameVersion),t.game_t=this._passedSeconds,this._inviterChannel&&(t.iv_chid=this._inviterChannel),this._inviterAdID&&(t.iv_adid=this._inviterAdID),this._inviterAdEnterID&&(t.iv_enid=this._inviterAdEnterID),this._trackDataStack.push(t),n&&this.sendTracks(),this.trackProxyFun)try{this.trackProxyFun(e,t)}catch(e){}},t.prototype.sendTracks=function(){var e=this;if(0!=this._trackDataStack.length){this._isReady&&this._trackDataStack.forEach(function(t){t.user_id=e._userVO.id,t.game_id=e._game_id,t.session=e._session});var t={more_data:JSON.stringify(this._trackDataStack)};new a.default("api/game_statistic",t,null,null,null,"POST"),this._trackDataStack=[]}},t.prototype.getRequestData=function(){var e={};return e.user_id=this._userVO.id,e.game_id=this._game_id,e.session=this._session,e},t.prototype.sendFeedback=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var o={user_id:this._userVO.id,game_id:this._game_id,session_key:this._session,tell:e.cellphone,fb_wx:e.wx,fb_content:e.content};new a.default("/api/feedback",o,t,n)},t.prototype.showMoreGame=function(){if(c.default.isToutiao)if("ios"!==tt.getSystemInfoSync().platform){var e=[];Object.keys(c.default.ttAds).forEach(function(t,n){e.push({appid:c.default.ttAds[t]})}),tt.showMoreGamesModal({appLaunchOptions:e,success:function(e){console.log("success",e.errMsg)},fail:function(e){console.log("fail",e.errMsg)}})}else l.default.showToast("ios\u6682\u4e0d\u652f\u6301")},t.MESSAGE_MIN_DELAY_SECOND=30,t.serverType=d.DEER,t}(i.default);n.default=w;var E=function(){return function(){}}(),S=function(){function e(){}return e.prototype.shareAppMessage=function(e){"undefined"!=typeof wx&&(w.instance.track(g.GAME_SHARE,{v:2}),this.addShareQueryData(e),console.log("WXProxy shareAppMessage",e),wx.shareAppMessage(e))},e.prototype.addShareQueryData=function(e){if(e){var t=w.instance.getShareQueryData(),n=e.imageUrl,o="",a=w.instance.game_getAllShareData();if(n&&a)for(var i=0;i<a.length;i++)if(a[i].share_img==n){w.instance.track(g.SHARE_IMG_SHOW,{share_id:a[i].share_id}),o=a[i].share_path,t.deer_shrid=a[i].share_id;break}var r=e.query||"";Object.keys(t).forEach(function(e){""!=r&&(r+="&"),r+=e+"="+encodeURIComponent(t[e])}),o&&o.indexOf("?")>=0&&(""!=r&&(r+="&"),r+=o.replace(/^.*\?/,"")),""!=r&&(e.query=r)}},e.prototype.onShareAppMessage=function(e){var t=this;"undefined"!=typeof wx&&(wx.onShareAppMessage(function(){var n=e();return n?(w.instance.track(g.GAME_SHARE,{v:1}),t.addShareQueryData(n),n):{}}),wx.showShareMenu({withShareTicket:!0}))},e.prototype.createRewardedVideoAd=function(e){if("undefined"==typeof wx)return null;if(c.default.isToutiao&&"devtools"==tt.getSystemInfoSync().platform)return null;var t=wx.createRewardedVideoAd(e);return t?(t.onClose(function(e){e&&1==e.isEnded&&w.instance.track(g.SHOW_REWARD_AD_SUC)}),t):null},e}(),O=function(){function e(){this.id=0,this.device=0,this.icon=null,this.img_256_129=null,this.img_1000_840=null,this.bannerImg=null,this.splashImg=null,this.spine=null,this.spineLaya=null,this.adValue=0,this.path=null,this.adType=0,this.dot=0,this.count=0,this.spriteFrame=null}return e.prototype.reportShown=function(){w.instance.track(g.AD_SHOW,{enter_id:this.adType,ad_id:this.id})},e.prototype.reportNavigate=function(){if(!c.default.isToutiao&&u.default&&u.default.instance){var e=u.default.instance.getGamelist(this.appID);u.default.instance.send(5,{id:e})}w.instance.track(g.AD_NAVIGATE,{enter_id:this.adType,ad_id:this.id,path:this.path})},e.prototype.navigate=function(t,n,o){var a=this;void 0===t&&(t=!0),void 0===n&&(n=null),void 0===o&&(o=null);var i=this.appID;if(!c.default.isToutiao&&u.default&&u.default.instance){var r=u.default.instance.getGamelist(i);u.default.instance.send(4,{id:r})}w.instance.track(g.AD_CLICK,{enter_id:this.adType,ad_id:this.id,path:this.path}),c.default.currentPlatform==c.PlatformName.QQCM&&(i=this.gameID),this.adType==p.SPLASH&&(t=!1);var s=this.path;s&&(s.indexOf("?")>=0?s+="&deer_enid="+this.adType:s+="?deer_enid="+this.adType,-1==s.indexOf("deer_adid=")&&(s+="&deer_adid="+this.id)),"undefined"!=typeof wx&&(e.lastNavigateTime=new Date,c.default.isToutiao&&window.tt?w.instance.showMoreGame():wx.navigateToMiniProgram({appId:i,path:s,fail:function(e){if(o&&o(e),t&&void 0!=a.previewImg&&a.previewImg.indexOf("http")>=0)try{wx.previewImage({urls:[a.previewImg]})}catch(e){}},success:function(){a.reportNavigate(),n&&n()}}))},e}();n.DeerAdVO=O,cc._RF.pop()},{"../base/GameValues":"GameValues","../managers/event/EventDispacher":"EventDispacher","../platforms/QQCM_gameInfo":"QQCM_gameInfo","../wechat/WXUtils":"WXUtils","./DeerRequest":"DeerRequest","./DeerSDKEventNames":"DeerSDKEventNames","./XyxAPI":"XyxAPI"}],Dictionary:[function(e,t,n){"use strict";cc._RF.push(t,"83d5bNrllxKFYN6V1yhvBHI","Dictionary"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this.m_keys=[],this.m_values=[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.m_keys.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this.m_values.concat()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keys",{get:function(){return this.m_keys.concat()},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.m_keys.indexOf(e)},e.prototype.add=function(e,t){var n=this.indexOf(e);n>=0?this.m_values[n]=t:(this.m_keys.push(e),this.m_values.push(t))},e.prototype.get=function(e){var t=this.indexOf(e);return t>=0?this.m_values[t]:null},e.prototype.remove=function(e){var t=this.indexOf(e);return t>=0?(this.m_keys.splice(t,1),this.m_values.splice(t,1)[0]):null},e.prototype.clear=function(){this.m_keys.length=0,this.m_keys=[],this.m_values.length=0,this.m_values=[]},e.prototype.getRandomData=function(){var e=Math.random()*this.keys.length<<0;return this.m_values[e]},e.prototype.getRandomKey=function(){var e=Math.random()*this.keys.length<<0;return this.m_keys[e]},e}();n.default=o,cc._RF.pop()},{}],DoubleGift:[function(e,t,n){"use strict";cc._RF.push(t,"17c41EkN81LVI6rnG/vZogo","DoubleGift");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../module/data/StageDataMgr"),r=e("../../gamecore/deer/DeerSDK"),s=e("../../control/OnlineTimerMgr"),c=e("./DoubleGold"),l=e("../../GameUtils"),u=cc._decorator,d=u.ccclass,f=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.doubleGoldInfo=null,t.douleGoldBtn=null,t.txtTimer=null,t.curBuffTime=null,t}var n;return o(t,e),n=t,t.prototype.onLoad=function(){var e=this;this.node.on(c.default.RECEIEVE_SUCCESS,function(){var t=r.default.instance.serverTime.getTime()+1100;i.default.instance.setData(i.default.KEY_DOUBLE_GOLD_BUFF,t),l.default.showToast("Congratulations, you have successfully opened the Double Gold Coin Card"),e.initDoubleGoldGiftEvent()},this)},t.prototype.start=function(){this.initDoubleGoldGiftEvent()},t.prototype.initDoubleGoldGiftEvent=function(){this.curBuffTime=i.default.instance.getData(i.default.KEY_DOUBLE_GOLD_BUFF);var e=r.default.instance.serverTime.getTime()-this.curBuffTime,t=new cc.Event.EventCustom(n.DOUDLE_GOLD_EVENT,!0);if(e>3e5){var o=Math.floor(2*Math.random());this.douleGoldBtn.active=1==o&&r.default.instance.isOnline,this.douleGoldBtn.runAction(cc.repeatForever(cc.sequence(cc.rotateTo(.1,20),cc.rotateTo(.2,-20),cc.rotateTo(.1,0),cc.delayTime(.5)))),this.doubleGoldInfo.active=!1,t.detail=1}else this.douleGoldBtn.active=!1,this.txtTimer.string=s.default.timeFormat(e),this.doubleGoldInfo.active=!0,this.schedule(this.updateTimer,1,cc.macro.REPEAT_FOREVER),t.detail=2;this.node.dispatchEvent(t)},t.prototype.updateTimer=function(){var e=3e5-r.default.instance.serverTime.getTime()+this.curBuffTime;e<=0&&(this.initDoubleGoldGiftEvent(),this.unschedule(this.updateTimer),e=0),this.txtTimer.string=s.default.timeFormat(e)},t.prototype.onDestroy=function(){this.unschedule(this.updateTimer)},t.prototype.showDoubleGoldPanelEvent=function(e){var t=this;l.default.buriedPoint(34),l.default.loadRes("prefabs/stageMode/doubleGoldPanel",cc.Prefab,!0,function(e){var n=cc.instantiate(e);t.node.addChild(n)})},a([f(cc.Node)],t.prototype,"doubleGoldInfo",void 0),a([f(cc.Node)],t.prototype,"douleGoldBtn",void 0),a([f(cc.Label)],t.prototype,"txtTimer",void 0),t=n=a([d],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../GameUtils":"GameUtils","../../control/OnlineTimerMgr":"OnlineTimerMgr","../../gamecore/deer/DeerSDK":"DeerSDK","../../module/data/StageDataMgr":"StageDataMgr","./DoubleGold":"DoubleGold"}],DoubleGold:[function(e,t,n){"use strict";cc._RF.push(t,"b9e75Ee43hLvo8gHICzhv9q","DoubleGold");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../AndroidAd"),r=e("../../GameUtils"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return o(t,e),n=t,t.prototype.start=function(){},t.prototype.onDoubleBtnClickEvent=function(e){r.default.buriedPoint(35),this.watchVideoAd()},t.prototype.watchVideoAd=function(){var e=this;i.default.instance.showReward(function(){var t=new cc.Event.EventCustom(n.RECEIEVE_SUCCESS,!0);e.node.dispatchEvent(t),e.onCloseClickEvent(null)})},t.prototype.onCloseClickEvent=function(e){this.node.removeFromParent()},t.RECEIEVE_SUCCESS="receieveSuccess",t=n=a([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../../AndroidAd":"AndroidAd","../../GameUtils":"GameUtils"}],EventCallBack:[function(e,t,n){"use strict";cc._RF.push(t,"e8b5dh5vN5J1qPfbZb9n7Bj","EventCallBack");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.once=!1,o}return o(t,e),t.prototype.clone=function(){var e=new t(this.callback,this.thisObj);return e.index=this.index,e.type=this.type,e},t}(e("./../../base/Callback").default);n.default=a,cc._RF.pop()},{"./../../base/Callback":"Callback"}],EventData:[function(e,t,n){"use strict";cc._RF.push(t,"5ea5bFhvbtMmooNMG83ob03","EventData"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){this._isStopedPropagation=!1,this.type=e,this.data=t}return Object.defineProperty(e.prototype,"isStopedPropagation",{get:function(){return this._isStopedPropagation},enumerable:!0,configurable:!0}),e.prototype.stopPropagation=function(){this._isStopedPropagation=!0},e}();n.default=o,cc._RF.pop()},{}],EventDispacher:[function(e,t,n){"use strict";cc._RF.push(t,"da270Q483FIbJEkZFQ9J8tS","EventDispacher"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./EventData"),a=e("./EventCallBack"),i=e("../../base/Dictionary"),r=function(){function e(){this._callbackMaps=new i.default,this._sendBuffer=[]}return e.prototype.addEventListener=function(e,t,n,o,i){if(void 0===o&&(o=0),void 0===i&&(i=!1),t&&n){var r=new a.default(t,n);r.type=e,r.index=o,r.once=i;var s=this._callbackMaps.get(e);if(s){for(var c=!1,l=s.length-1;l>=0;l--){var u=s[l];if(u.thisObj===n&&u.callback===t){u.once=i,u.index=o,c=!0;break}}c||(s.push(r),s.sort(this.sortPriority))}else this._callbackMaps.add(e,[r])}},e.prototype.sortPriority=function(e,t){return t.index-e.index},e.prototype.hasEventListener=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var o=this._callbackMaps.get(e);if(o){if(!t||!n)return!0;for(var a=0,i=o.length;a<i;a++){var r=o[a];if(r.callback===t&&r.thisObj===n)return!0}}return!1},e.prototype.removeEventListener=function(e,t,n){var o=this._callbackMaps.get(e);if(o)for(var a=0,i=o.length;a<i;a++){var r=o[a];r.callback===t&&r.thisObj===n&&(o.splice(a,1),i--,a--)}},e.prototype.dispatchEvent=function(e){for(e.target=this,this._sendBuffer.push(e);this._sendBuffer.length>0;){e=this._sendBuffer.shift();var t=this._callbackMaps.get(e.type);if(t)for(var n=t.concat(),o=0,a=n.length;o<a;o++){var i=n[o];if(-1!=t.indexOf(i)&&(i.callback.call(i.thisObj,e),i.once&&this.removeEventListener(e.type,i.callback,i.thisObj),e.isStopedPropagation))break}else console.log("\u4e8b\u4ef6ID:"+e.type+"\u65e0\u76d1\u542c\u56de\u8c03")}},e.prototype.dispatchEventWith=function(e,t){void 0===t&&(t=null);var n=new o.default(e,t);this.dispatchEvent(n)},e.prototype.destroy=function(){this._callbackMaps=new i.default,this._sendBuffer=[]},e}();n.default=r,cc._RF.pop()},{"../../base/Dictionary":"Dictionary","./EventCallBack":"EventCallBack","./EventData":"EventData"}],FBIN:[function(e,t,n){"use strict";cc._RF.push(t,"ac524txpgxJhoTA9JPwZunP","FBIN");var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=e("../base/GameValues"),r=e("./Base");n.FBIN_init=function(){r.Base_init(),"undefined"!=typeof FBInstant&&FBInstant.initializeAsync(),FBInstant.startGameAsync().then(function(){console.log("#############startGameAsync \u6210\u529f")}).catch(function(e){console.log("#############startGameAsync \u5931\u8d25",e)});var e=window.wx,t=i.default.canvas;t&&(t.toTempFilePathSync=function(e){if(console.log("------\u3010FB Instant\u3011 toTempFilePathSync-------"),!e)return null;e&&e.success;var t=e?e.fail:null,n=e?e.complete:null;t&&t(),n&&n()},t.toTempFilePath=function(e){if(console.log("------\u3010FB Instant\u3011 toTempFilePath-------"),console.log(JSON.stringify(e)),e){e&&e.success;var t=e?e.fail:null,n=e?e.complete:null;t&&t(),n&&n()}}),e.createImage=function(){console.log("------\u3010FB Instant\u3011 createImage-------");var e=new Image;return e.crossOrigin="anonymous",console.log("image is "+JSON.stringify(e)),e},e.login=function(e){if(console.log("------\u3010FB Instant\u3011 login-------"),"undefined"!=typeof FBInstant){var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null),o={};o.code=FBInstant.player.getID(),t&&t(o),n&&n()}},e.getUserInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(console.log("------\u3010FB Instant\u3011 getUserInfo-------"),"undefined"!=typeof FBInstant){var n=t?t.success:null,o=(t&&t.fail,t?t.complete:null);if(null!=e._userInfoRes)return n&&n(e._userInfoRes),void(o&&o());FBInstant.player.getSignedPlayerInfoAsync().then(function(t){var a={userInfo:{nickName:FBInstant.player.getName(),avatarUrl:FBInstant.player.getPhoto(),openId:FBInstant.player.getID()},rawData:"",encryptedData:t.getSignature(),signature:""};e._userInfoRes=a,n&&n(a),o&&o()})}},e.createUserInfoButton=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return console.log("------\u3010FB Instant\u3011 createUserInfoButton-------"),console.log(e),null},e.setUserCloudStorage=function(e){if(console.log("------\u3010FB Instant\u3011 setUserCloudStorage-------"),console.log(e),e&&"undefined"!=typeof FBInstant){var t=e?e.success:null,n=e?e.fail:null,o=e?e.complete:null,a=void 0,i=null,r=e.KVDataList;if(r)for(var s=0;s<r.length;s++){var c=r[s],l=(c.key,c.value);try{var u=JSON.parse(l);u.wxgame&&(a=Math.floor(u.wxgame.score)),i=JSON.stringify(c)}catch(e){}}if(isNaN(a))n&&t(n),o&&o();else{var d="user_score";"."==d.charAt(d.length-1)&&(d+=FBInstant.context.getID()),FBInstant.getLeaderboardAsync(d).then(function(e){return e.setScoreAsync(a,i)}).then(function(e){t&&t(e),o&&o()}).catch(function(e){n&&t(n),o&&o()})}}},e.getFriendCloudStorage=function(e){if(console.log("------\u3010FB Instant\u3011 setUserCloudStorage-------"),console.log(e),e&&"undefined"!=typeof FBInstant){var t=e?e.success:null,n=e?e.fail:null,o=e?e.complete:null,a="user_score";"."==a.charAt(a.length-1)&&(a+=FBInstant.context.getID()),FBInstant.getLeaderboardAsync(a).then(function(e){return e.getEntriesAsync()}).then(function(e){console.log("#### \u83b7\u53d6\u6392\u884c\u699c\u6570\u636e\u6210\u529f",e);var n=[];e.forEach(function(e){var t=[],o={KVDataList:t};o.nickname=e.getPlayer().getName(),o.avatarUrl=e.getPlayer().getPhoto(),t.push({key:"score",value:'{"wxgame":{"score":'+e.getScore()+',"update_time": '+e.getTimestamp()+"}}"}),n.push(o)}),t&&t({data:n}),o&&o()}).catch(function(e){console.log("#### \u83b7\u53d6\u6392\u884c\u699c\u6570\u636e\u5931\u8d25",e),n&&n(),o&&o()})}},e.navigateToMiniProgram=function(e){if(console.log("------\u3010FB Instant\u3011 navigateToMiniProgram-------"),console.log(e),e){var t=e?e.success:null,n=e?e.fail:null,o=e?e.complete:null,a=e.appId,i=e.path,r=e.extraData;r||(r={});try{i=i.replace(/^.*\?/,"");var s=JSON.parse('{"'+decodeURI(i).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}');Object.keys(s).forEach(function(e){r[e]=s[e]})}catch(e){}FBInstant.switchGameAsync(a,r).then(function(){t&&t(),o&&o()}).catch(function(e){console.log("\u8df3\u8f6c\u5176\u4ed6\u6e38\u620f\u5931\u8d25",e),n&&n(),o&&o()})}},e.getSystemInfo=function(e){if(console.log("------\u3010FB Instant\u3011 getSetting-------"),console.log(e),e){if("undefined"==typeof FBInstant)return{};var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null),o={version:"",SDKVersion:FBInstant.getSDKVersion(),platform:FBInstant.getPlatform(),model:"",local:FBInstant.getLocale()};t&&t(o),n&&n()}},e.exitMiniProgram=function(e){if(console.log("------\u3010FB Instant\u3011 exitMiniProgram-------"),console.log(e),"undefined"!=typeof FBInstant){var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null);FBInstant.quit(),t&&t({}),n&&n()}},e.getLaunchOptionsSync=function(){return console.log("------\u3010FB Instant\u3011 getLaunchOptionsSync-------"),"undefined"==typeof FBInstant?{}:FBInstant.getEntryPointData()},e.getShareInfo=function(e){},e.hideShareMenu=function(e){},e.showShareMenu=function(e){},e.updateShareMenu=function(e){},e.shareAppMessage=function(e){if(console.log("------\u3010FB Instant\u3011 shareAppMessage-------"),console.log(JSON.stringify(e)),e&&"undefined"!=typeof FBInstant){var t=e?e.success:null,n=e?e.fail:null,o=e?e.complete:null,a=e.title,i=e.imageUrl,r=e.query,s=e.intent;0!=i.indexOf("data:image/png;base64,")&&(i="data:image/png;base64,"+i);var c={};try{c=JSON.parse('{"'+decodeURI(r).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'),console.log(c)}catch(e){}FBInstant.shareAsync({intent:s,image:i,text:a,data:c}).then(function(){t&&t(),o&&o()}).catch(function(e){console.log("\u5206\u4eab\u5931\u8d25",e),n&&n(),o&&o()})}},e.onShareAppMessage=function(e){},e.offShareAppMessage=function(e){},e.createRewardedVideoAd=function(e){return console.log("------\u3010FB Instant\u3011 createRewardedVideoAd-------"),console.log(e),"undefined"==typeof FBInstant?null:new s(e)},e.createInterstitialAd=function(e){return console.log("------\u3010FB Instant\u3011 createInterstitialAd-------"),console.log(e),"undefined"==typeof FBInstant?null:new c(e)},e.requestMidasPayment=function(e){if(console.log("------\u3010FB Instant\u3011 requestMidasPayment-------"),e&&(console.log(JSON.stringify(e)),"undefined"!=typeof FBInstant)){e&&e.success,e&&e.fail,e&&e.complete,e.offerId,e.buyQuantity;"rotatedLeft"==i.default.orientation?3:"rotatedRight"==i.default.orientation&&2}}};var s=function(){function e(t){a(this,e),this._isLoading=!1,this._showIsCalled=!1,this._onLoadCallbacks=[],this._onErrorCallbacks=[],this._onCloseCallbacks=[],t&&(this._adUnitId=t.adUnitId)}return o(e,[{key:"load",value:function(){var e=this;console.log("###### \u52a0\u8f7d\u89c6\u9891\u5e7f\u544a"),this._theAd||this._isLoading||(this._isLoading=!0,FBInstant.getRewardedVideoAsync(this._adUnitId).then(function(t){e._theAd=t,e._theAd.loadAsync().then(function(){e._isLoading=!1,console.log("###### \u52a0\u8f7d\u89c6\u9891\u5e7f\u544a\u5b8c\u6210"),e.doLoaded(),e._showIsCalled&&e.show()})}).catch(function(t){if(e._isLoading=!1,t){t.code;var n=t.message;e.doError(0,n)}console.log("\u89c6\u9891\u64ad\u653e\u5931\u8d25:",t)}))}},{key:"show",value:function(){var e=this;console.log("###### \u5c55\u73b0\u89c6\u9891\u5e7f\u544a"),this._showIsCalled=!0,this._theAd&&(this._showIsCalled=!1,this._theAd.showAsync().then(function(t){console.log("###### \u5c55\u73b0\u89c6\u9891\u5e7f\u544a\u5b8c\u6210",t),e.doClose(!0)}).catch(function(t){console.log("###### \u5c55\u73b0\u89c6\u9891\u5e7f\u544a\u5931\u8d25",t),e.doError(t.code,t.message)}))}},{key:"doLoaded",value:function(){var e={};this._onLoadCallbacks.forEach(function(t){t(e)})}},{key:"onLoad",value:function(e){e&&-1==this._onLoadCallbacks.indexOf(e)&&this._onLoadCallbacks.push(e)}},{key:"offLoad",value:function(e){var t=this._onLoadCallbacks.indexOf(e);t>=0&&this._onLoadCallbacks.splice(t,1)}},{key:"doError",value:function(e,t){var n={errMsg:t,errCode:e};this._onErrorCallbacks.forEach(function(e){e(n)})}},{key:"onError",value:function(e){e&&-1==this._onErrorCallbacks.indexOf(e)&&this._onErrorCallbacks.push(e)}},{key:"offError",value:function(e){var t=this._onErrorCallbacks.indexOf(e);t>=0&&this._onErrorCallbacks.splice(t,1)}},{key:"doClose",value:function(e){var t={isEnded:e};this._onCloseCallbacks.forEach(function(e){e(t)}),this._theAd=null,this.load()}},{key:"onClose",value:function(e){e&&-1==this._onCloseCallbacks.indexOf(e)&&this._onCloseCallbacks.push(e)}},{key:"offClose",value:function(e){var t=this._onCloseCallbacks.indexOf(e);t>=0&&this._onCloseCallbacks.splice(t,1)}}]),e}(),c=function(){function e(t){var n=this;a(this,e),this._onLoadCallbacks=[],this._onErrorCallbacks=[],this._onCloseCallbacks=[],t&&(this._adUnitId=t.adUnitId),FBInstant.getInterstitialAdAsync(this._adUnitId).then(function(e){return n._theAd=e,n._theAd.loadAsync()}).then(function(){return n.doLoaded(),n._theAd.showAsync()}).then(function(){n.doClose()}).catch(function(e){if(e){e.code;var t=e.message;n.doError(0,t)}console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u73b0\u5931\u8d25:",e)})}return o(e,[{key:"load",value:function(){}},{key:"show",value:function(){this._theAd}},{key:"doLoaded",value:function(){var e={};this._onLoadCallbacks.forEach(function(t){t(e)})}},{key:"onLoad",value:function(e){e&&-1==this._onLoadCallbacks.indexOf(e)&&this._onLoadCallbacks.push(e)}},{key:"offLoad",value:function(e){var t=this._onLoadCallbacks.indexOf(e);t>=0&&this._onLoadCallbacks.splice(t,1)}},{key:"doError",value:function(e,t){var n={errMsg:t,errCode:e};this._onErrorCallbacks.forEach(function(e){e(n)})}},{key:"onError",value:function(e){e&&-1==this._onErrorCallbacks.indexOf(e)&&this._onErrorCallbacks.push(e)}},{key:"offError",value:function(e){var t=this._onErrorCallbacks.indexOf(e);t>=0&&this._onErrorCallbacks.splice(t,1)}},{key:"doClose",value:function(){var e={};this._onCloseCallbacks.forEach(function(t){t(e)})}},{key:"onClose",value:function(e){e&&-1==this._onCloseCallbacks.indexOf(e)&&this._onCloseCallbacks.push(e)}},{key:"offClose",value:function(e){var t=this._onCloseCallbacks.indexOf(e);t>=0&&this._onCloseCallbacks.splice(t,1)}}]),e}();cc._RF.pop()},{"../base/GameValues":"GameValues","./Base":"Base"}],ForLaya:[function(e,t,n){"use strict";cc._RF.push(t,"0f7bedMNBVKJ7g0upO8XgE0","ForLaya"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./deer/DeerSDK"),a=e("./deer/DeerRequest"),i=e("./wechat/WXShare"),r=function(){return function(){o.default,a.default,i.default}}();n.default=r,cc._RF.pop()},{"./deer/DeerRequest":"DeerRequest","./deer/DeerSDK":"DeerSDK","./wechat/WXShare":"WXShare"}],GameConfig:[function(e,t,n){"use strict";cc._RF.push(t,"12f2beYRe1G1b2VgSGULKpC","GameConfig");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./GameMetaManage"),i=e("./valuecount/MaxCount"),r=e("./valuecount/MaxValue"),s=e("../module/data/StageDataMgr"),c=e("../module/data/MainDataMgr"),l=e("../GameUtils"),u=e("../gamecore/deer/DeerSDK"),d=e("../gamecore/wechat/WXOpenData"),f=cc._decorator,p=f.ccclass,h=(f.property,function(){function e(){this.gameCdn="https://deer-cdn.youkongwan.com/game/pinata/meta/",this.gameMeta=null,this.lastscene="",this.nowscene="",this.scene="",this.gamecount=0,this.startguide1=!1,this.startguide2=!1,this.lastgetHeroInitParam1=null,this.lastgetHeroInitParam2=null,this.getHeroInitResult=null,this.getCostParam1=null,this.getCostResult=null,this.getAwardP1=null,this.getAwardResult=null,this.getWeaponMeaeP1=null,this.getWeaponMeaeResult=null,this.getSkinMeatP1=null,this.getSkinMeatResult=null,this.isSiginId=0}var t;return t=e,Object.defineProperty(e,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),e.prototype.getHeroInit=function(e,t){if(e===this.lastgetHeroInitParam1&&t===this.lastgetHeroInitParam2)return this.getHeroInitResult;if(this.lastgetHeroInitParam1=e,this.lastgetHeroInitParam2=t,e<=0)return this.getHeroInitResult=e,e;var n=0+a.default.instance.basicsdatas[t].coefficient*e;return this.getHeroInitResult=n,n},e.prototype.getCost=function(e){if(e===this.getCostParam1)return this.getCostResult;if(this.getCostParam1=e,e<=0)return this.getCostResult=new r.default(a.default.instance.basicsdatas[0].inituse,0),this.getCostResult;var t=a.default.instance.basicsdatas[0].inituse*Math.pow(a.default.instance.basicsdatas[0].usecoefficient/1e3,e);return this.getCostResult=i.default.instance.formatCoid(t,0),this.getCostResult},e.prototype.getBulleInfo=function(e,t){var n=t.bulletlevelinfo[e];if(void 0!=n)return{bulle:n.bulletcount,cost:n.cost};var o=t.bulletlevelinfo[0];return{bulle:o.bulletcount+e,cost:i.default.instance.formatCoid(o.cost.value*Math.pow(t.weaponlevelparameter/1e3,e),o.cost.unit)}},e.prototype.getHarmInfo=function(e,t){var n=t.harmlevelinfo[e];if(void 0!=n)return{harm:n.harm,cost:n.cost};var o=i.default.instance.formatCoid(t.addharm.value*e,t.addharm.unit);o=i.default.instance.calcuValueUnit(t.initharm,o);var a=t.harmlevelinfo[0],r=i.default.instance.formatCoid(a.cost.value*Math.pow(t.weaponlevelparameter/1e3,e),a.cost.unit);return{harm:i.default.instance.formatCoid(o.value,o.unit),cost:r}},e.prototype.getAward=function(e){if(e===this.getAwardP1)return this.getAwardResult;this.getAwardP1=e;var n=t.instance.getNowEquipWeapon(),o=t.instance.getHarmInfo(n.harm,t.instance.getWeaponMeae(n.id)).harm,r=a.default.instance.sigininfos[e].award;return this.getAwardResult=i.default.instance.formatCoid(o.value*r,o.unit),this.getAwardResult},e.prototype.getMonsterInfo=function(){var e=s.default.instance.getData(s.default.KEY_CUR_STAGE_NUM)-1;return a.default.instance.customsinfos[e]},e.prototype.getCustoms=function(){var e=s.default.instance.getData(s.default.KEY_CUR_STAGE_NUM),t=a.default.instance.customsinfos[0].minresetcustoms;return t>e?{customs:t,dimaon:a.default.instance.customsinfos[t-1].resetdimond}:{customs:e,dimaon:a.default.instance.customsinfos[e-1].resetdimond}},e.prototype.getWeaponMeae=function(e){if(e===this.getWeaponMeaeP1)return this.getWeaponMeaeResult;this.getWeaponMeaeP1=e;for(var t=a.default.instance.weaponinfos,n=null,o=0;o<t.length;o++)if(t[o].weaponid==e){n=t[o];break}return this.getWeaponMeaeResult=n,n},e.prototype.getSkinMeat=function(e){if(e===this.getSkinMeatP1)return this.getSkinMeatResult;this.getSkinMeatP1=e;for(var t=a.default.instance.skininfo,n=null,o=0;o<t.length;o++)if(t[o].skinid==e){n=t[o];break}return this.getSkinMeatResult=n,n},e.prototype.getNowEquipWeapon=function(){var e=c.default.instance.getData(c.default.KEY_USER_WEAPON_INFO),t=null;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];if(1==o.isequip){t=o;break}}return t},e.prototype.getCurPetSKinInfo=function(){var e=c.default.instance.getData(c.default.KEY_USER_SKIN_INFO),t=null;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];if(1==o.isequip){t=o;break}}return t},e.prototype.getCurRoleSKinInfo=function(){for(var e=c.default.instance.getData(c.default.KEY_ROLE_SKIN_ARR),n=0;n<e.length;n++)if(1==e[n].equip)return t.instance.gameMeta.imageUpgradeMeta[n];return null},e.prototype.isSigin=function(){var e=!1,t=c.default.instance.getData(c.default.KEY_USER_SIGIN_RECORD);if(t.length>0){var n=new Date(t[t.length-1]),o=l.default.instance.serverTime;o.getDate()==n.getDate()&&o.getMonth()==n.getMonth()||t.length>=7&&c.default.instance.setData(c.default.KEY_USER_SIGIN_RECORD,[],!1),o.getDate()==n.getDate()&&(e=!0)}return e},e.prototype.getItemState=function(e){var t=0,n=c.default.instance.getData(c.default.KEY_USER_SIGIN_RECORD),o=n.length,a=n[e],i=n[n.length-1],r=new Date(i),s=new Date(a),u=l.default.instance.serverTime;return 0==o?(t=1,this.isSiginId=0):(e<o&&(u.getDate()==s.getDate()&&(this.isSiginId=e),t=2),e==o&&(u.getDate()==r.getDate()?t=4:(t=3,this.isSiginId=e)),e>o&&(t=5)),t},e.prototype.useCoin=function(e,t){void 0===t&&(t=!0);var n=s.default.instance.getData(s.default.KEY_USER_GOLD_NUM);return i.default.instance.calcuValueUnit(n,new r.default(-e.value,e.unit))},e.prototype.saveCoin=function(e){var t=s.default.instance.getData(s.default.KEY_USER_GOLD_NUM);t=i.default.instance.calcuValueUnit(t,e),s.default.instance.setData(s.default.KEY_USER_GOLD_NUM,t)},e.prototype.saveDimond=function(e){var t=s.default.instance.getData(s.default.KEY_USER_DIMOND_NUM);t=i.default.instance.calcuValueUnit(t,e),s.default.instance.setData(s.default.KEY_USER_DIMOND_NUM,t)},e.prototype.useDimond=function(e,t){void 0===t&&(t=!0);var n=s.default.instance.getData(s.default.KEY_USER_DIMOND_NUM);return i.default.instance.calcuValueUnit(n,new r.default(-e.value,e.unit))},e.prototype.resetGame=function(){c.default.INTENSIFY_NODE.destroy(),c.default.INTENSIFY_NODE=null,s.default.instance.setData(s.default.KEY_CUR_STAGE_NUM,1),s.default.instance.setData(s.default.KEY_USER_GOLD_NUM,new r.default(0,0)),c.default.instance.setData(c.default.KEY_USER_WEAPON_INFO,{}),c.default.instance.setData(c.default.KEY_USER_OFF_AWARD,0),s.default.instance.setData(s.default.KEY_USER_GOLD_RATE,0),s.default.instance.setData(s.default.KEY_USER_MOVE_SPEED,0),a.default.instance.initUserData(2);var e=c.default.instance.getData(c.default.KEY_RESET_COUNT);e+=1,c.default.instance.setData(c.default.KEY_RESET_COUNT,e),t.instance.lastscene="resetgame",t.instance.nowscene="mainScene",l.default.instance.loadSceneWithBg("mainScene"),l.default.instance.closeLoading()},e.prototype.saveScoreToService=function(e){var t=e;u.default.instance.game_saveScoreToService(t,function(e){},function(e){}),d.default.saveUserScoreToCloud(t)},e.prototype.glodNotAward=function(){var e=t.instance.gameMeta.coinRewardMeta[0],n=t.instance.getNowEquipWeapon(),o=t.instance.getHarmInfo(n.harm,t.instance.getWeaponMeae(n.id)).harm;return i.default.instance.formatCoid(o.value*e.armsMagnification/1e3,o.unit)},e.prototype.getPassResetInfo=function(e){},e.prototype.replaceValue=function(e,t,n){return e.replace(n,t)},e.prototype.getUnlockRoleIndex=function(e){for(var n=-1,o=0;o<t.instance.gameMeta.imageUpgradeMeta.length;o++)if(e==t.instance.gameMeta.imageUpgradeMeta[o].finalStage){n=o;break}return n},e.prototype.getPetAttackInfo=function(){return t.instance.gameMeta.petsAttackParameterMeta[0]},e._instance=null,e=t=o([p],e)}());n.default=h,cc._RF.pop()},{"../GameUtils":"GameUtils","../gamecore/deer/DeerSDK":"DeerSDK","../gamecore/wechat/WXOpenData":"WXOpenData","../module/data/MainDataMgr":"MainDataMgr","../module/data/StageDataMgr":"StageDataMgr","./GameMetaManage":"GameMetaManage","./valuecount/MaxCount":"MaxCount","./valuecount/MaxValue":"MaxValue"}],GameCoreEventNames:[function(e,t,n){"use strict";cc._RF.push(t,"f8d06PIOkhBAoz7QjUrEGiG","GameCoreEventNames"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.COMMON_CLOSE="commonClose",e.COMMON_READY="commonReady",e.DATA_CHANGE="dataChange",e.DATA_REMOTE_CHANGE="dataRemoteChange",e.DATA_REMOTE_RETRIVE="dataRemoteRetrive",e.RES_PROGRESS="ResProgress",e.RES_COMPLETE="ResComplete",e.POP_UP_ADD="popUpAdd",e.POP_UP_REMOVE="popUpRemove",e.ITEM_ADDED="itemAdded",e.ITEM_REMOVED="itemRemoved",e.ITEM_USED="itemUsed",e.TAG_CHANGE="tagChange",e.MUTE_MUSIC="muteMusic",e.UNMUTE_MUSIC="unmuteMusic",e}();n.default=o,cc._RF.pop()},{}],GameCoreLocation:[function(e,t,n){"use strict";cc._RF.push(t,"c7911qaNFZKH4+Ct1D4rJxs","GameCoreLocation"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.TOP_CENTER=1]="TOP_CENTER",e[e.TOP_LEFT=2]="TOP_LEFT",e[e.TOP_RIGHT=3]="TOP_RIGHT",e[e.BOTTOM_CENTER=11]="BOTTOM_CENTER",e[e.BOTTOM_LEFT=12]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=13]="BOTTOM_RIGHT"}(n.GameCoreLocation||(n.GameCoreLocation={})),cc._RF.pop()},{}],GameCoreUIConfig:[function(e,t,n){"use strict";cc._RF.push(t,"1013eSeHvJJQZ0M4a77p5FX","GameCoreUIConfig");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e=o([i],e)}());n.default=r,cc._RF.pop()},{}],GameEventName:[function(e,t,n){"use strict";cc._RF.push(t,"0d86eUGCeZGrLPrWWyzdQoe","GameEventName");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e.SHOW_TRANSLUCENCE_CONTROL="showtranslucencecontrol",e.CLOSE_TRANSLUCENCE_CONTROL="closetranslucencecontrol",e.UPDATE_SKIN_EQUIP_STATE="updateskinequipstate",e.UPDATE_WEAPON_EQUIP_STATE="updateweaponequipstate",e.SHOW_WEAPON_TIP="showweapontip",e.SHOW_SKIN_TIP="showskintip",e.START_SCROLL="startscroll",e.SHOW_VIP="show_vip",e=o([i],e)}());n.default=r,cc._RF.pop()},{}],GameManager:[function(e,t,n){"use strict";cc._RF.push(t,"45538n7JE1EJqcBQxxgUtw1","GameManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./SoundsManager"),a=e("./PopUpManager"),i=e("./DataManager"),r=e("./item/ItemManager"),s=e("./Utils"),c=e("./legs/Context"),l=e("./event/EventDispacher"),u=e("./SceneManager"),d=e("./ResManager"),f=e("../base/GameValues"),p=e("./TagManager"),h=e("../wechat/WXUtils"),g=function(){function e(){}return Object.defineProperty(e,"eventManager",{get:function(){return e._eventManager},enumerable:!0,configurable:!0}),Object.defineProperty(e,"dataManager",{get:function(){return e._dataManager},enumerable:!0,configurable:!0}),Object.defineProperty(e,"sceneManager",{get:function(){return e._sceneManager},enumerable:!0,configurable:!0}),Object.defineProperty(e,"soundsManager",{get:function(){return e._soundsManager},enumerable:!0,configurable:!0}),Object.defineProperty(e,"popUpManager",{get:function(){return e._popUpManager},enumerable:!0,configurable:!0}),Object.defineProperty(e,"itemManager",{get:function(){return e._itemManager||(e._itemManager=new r.default),e._itemManager},enumerable:!0,configurable:!0}),Object.defineProperty(e,"tagManager",{get:function(){return e._tagManager||(e._tagManager=new p.default),e._tagManager},enumerable:!0,configurable:!0}),Object.defineProperty(e,"resManager",{get:function(){return e._resManager},enumerable:!0,configurable:!0}),Object.defineProperty(e,"context",{get:function(){return e._context},enumerable:!0,configurable:!0}),Object.defineProperty(e,"canVibrate",{get:function(){return e._canVibrate},enumerable:!0,configurable:!0}),e.vibrateOff=function(){e._canVibrate&&(e._canVibrate=!1,f.default.saveLocalData("canVibrate",!1))},e.vibrateOn=function(){e._canVibrate||(e._canVibrate=!0,f.default.saveLocalData("canVibrate",!0))},e.lockScene=function(){var t=cc.director.getScene();if(e._lockSceneNode&&e._lockSceneNode.getParent()){if(e._lockSceneNode.getParent()==t)return;e._lockSceneNode.destroy(),e._lockSceneNode=null}var n=cc.winSize,o=new cc.Node;o.width=n.width,o.height=n.height,o.x=n.width/2,o.y=n.height/2,o.addComponent(cc.BlockInputEvents),e._lockSceneNode=o,t.addChild(e._lockSceneNode)},e.unlockScene=function(){e._lockSceneNode&&e._lockSceneNode.getParent()&&(e._lockSceneNode.destroy(),e._lockSceneNode=null)},e.showToast=function(e,t){void 0===t&&(t=1.5),t<=0&&(t=0);var n=new cc.Node;n.y=-2;var o=n.addComponent(cc.Label);o.fontSize=28,o.lineHeight=36,o.string=e||"";var a=new cc.Node;return a.addChild(n),a.x=cc.winSize.width/2,a.y=cc.winSize.height/2,cc.director.getScene().addChild(a),a.opacity=0,a.runAction(cc.sequence(cc.fadeTo(.1,63.75),cc.callFunc(function(){var e=n.width+30,t=n.height+16,o=a.addComponent(cc.Graphics);o.fillColor=new cc.Color(0,0,0,200),o.fillRect(-e/2,-t/2,e,t)}),cc.fadeTo(.3,255),cc.delayTime(t),cc.fadeTo(.3,0),cc.callFunc(a.destroy.bind(a)))),a},Object.defineProperty(e,"isAndroid",{get:function(){return e._isAndroid},enumerable:!0,configurable:!0}),e.init=function(){if(!e._initialized){e._initialized=!0,e._dataManager=new i.default,e._soundsManager=new o.default,e._sceneManager=new u.default,e._popUpManager=new a.default,e._resManager=new d.default,e._context=new c.default,h.default.eventManager=e.eventManager,setTimeout(function(){var e=null;cc.director.getScene()&&cc.director.getScene().children.length>0&&(e=cc.director.getScene().children[0]),null!=e&&e.on(cc.Node.EventType.TOUCH_END,function(t){if(!(t.getLocationInView().y>150)){var n="____ts";if(void 0==e[n]&&(e[n]=0,e.____tst=(new Date).getTime()),e[n]++,(new Date).getTime()-e.____tst<5e3){if(20==e[n]){var o="sho,wM,odal,aiale,conaena,7248674358F0660E,7248674362406709,6E5653576E389E7F4FE1606F79D1628067099650516C53F8".split(","),a=function(e){for(var t=0;t<e.length;t+=4)e=e.slice(0,t)+"%u"+e.slice(t),t+=2;return unescape(e)},i={};i[o[3].replace(/a/g,"t")]=a(o[5]),i[o[4].replace(/a/g,"t")]=a(o[6])+" "+a(o[7]),wx[o.slice(0,3).join("")](i)}}else e[n]=0,e.____tst=(new Date).getTime()}},e)},2e4),e._canVibrate=!0,e._canVibrate=!1!==f.default.getLocalData("canVibrate");try{var t=navigator.userAgent.toLowerCase();e._isAndroid=t.indexOf("android")>=0}catch(e){}}},e._eventManager=new l.default,e._canVibrate=!0,e._isAndroid=!1,e._temp=e.init(),e}();n.default=g,n.addVersionInfo=function(){var e=new cc.Node,t=e.addComponent(cc.Label);t.fontSize=20,t.lineHeight=1.1*t.fontSize,f.default.isDebug&&(e.color=(new cc.Color).fromHEX("#ff0000"));var n=f.default.gameVersion;f.default.gameInternalVersionCode&&(n+="."+f.default.gameInternalVersionCode),f.default.isDebug&&(n+="\u3010\u6d4b\u8bd5\u3011"),t.string=n;var o=cc.winSize;e.anchorX=0,s.default.isIphoneX?(e.x=20,e.y=o.height-t.lineHeight/2):(e.x=0,e.y=o.height-t.lineHeight/2),cc.director.getScene().addChild(e)},cc._RF.pop()},{"../base/GameValues":"GameValues","../wechat/WXUtils":"WXUtils","./DataManager":"DataManager","./PopUpManager":"PopUpManager","./ResManager":"ResManager","./SceneManager":"SceneManager","./SoundsManager":"SoundsManager","./TagManager":"TagManager","./Utils":"Utils","./event/EventDispacher":"EventDispacher","./item/ItemManager":"ItemManager","./legs/Context":"Context"}],GameMetaManage:[function(e,t,n){"use strict";cc._RF.push(t,"d7fd3sdnpVCP7FY8clhC4Px","GameMetaManage");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./../module/data/MainDataMgr"),i=e("./GameConfig"),r=e("../module/entity/SkinInfo"),s=e("../module/entity/HeroBasics"),c=e("../module/entity/WeaponInfo"),l=e("../module/entity/WeaponBulletUpgradeData"),u=e("../module/entity/WeaponHarmUpgradeData"),d=e("../module/entity/SkinLevelInfo"),f=e("./valuecount/MaxCount"),p=e("../module/entity/Customs"),h=e("../module/entity/Sigin"),g=e("../module/entity/offLine"),_=cc._decorator,y=_.ccclass,m=(_.property,function(){function e(){this.skininfo=new Array,this.basicsdatas=new Array,this.weaponinfos=new Array,this.customsinfos=new Array,this.sigininfos=new Array,this.offinfo=new g.default,this.bulletupgrade=null,this.harmupgrade=null,this.skinlevelinfos=null}var t;return t=e,Object.defineProperty(e,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),e.prototype.initGameData=function(){this.getSkinInfo(),this.getHeroBasics(),this.getWeaponInfo(),this.getCustomsInfo(),this.getSiginInfo(),this.getOffInfo(),console.log("===============\u6574\u7406\u540e\u7684\u6570\u636e"),console.log("\u57fa\u7840\u6570\u636e===============",this.basicsdatas),console.log("\u76ae\u80a4\u6570\u636e===============",this.skininfo),console.log("\u6b66\u5668\u6570\u636e===============",this.weaponinfos),console.log("\u5173\u5361\u6570\u636e===============",this.customsinfos),console.log("\u7b7e\u5230\u6570\u636e===============",this.sigininfos),console.log("\u79bb\u7ebf\u6570\u636e===============",this.offinfo)},e.prototype.setGameData=function(){var e=a.default.instance.getData(a.default.KEY_USER_VIP_TIME);a.default.VIP_TIME=e;var t=a.default.instance.getData(a.default.KEY_USER_GOLD_BOX_TIME);a.default.BOX_TIME=t;var n=a.default.instance.getData(a.default.KEY_USER_SKIN_INFO);for(var o in n)if(n.hasOwnProperty(o)){var r=n[o],s=i.default.instance.getSkinMeat(r.id),c=a.default.Buffer[s.skintype];void 0==c&&(c=0);var l=s.skinlevelinfos[r.level];void 0==l&&(l=s.skinlevelinfos[s.skinlevelinfos.length-1]),c+=l.powervalue,a.default.Buffer[s.skintype]=c}},e.prototype.getOffInfo=function(){var e=i.default.instance.gameMeta.offlineRevenueMeta[0];this.offinfo.offcoe=e.offlineCoefficient,this.offinfo.minofftime=e.lowestOfflineTime,this.offinfo.maxofftime=e.highestOfflineTime},e.prototype.getSiginInfo=function(){var e=this;i.default.instance.gameMeta.signInMeta.forEach(function(t){var n=new h.default;n.day=t.days,n.award=t.attackMagnification/1e3,e.sigininfos.push(n)})},e.prototype.getCustomsInfo=function(){for(var e=i.default.instance.gameMeta.levelMeta,t=i.default.instance.gameMeta.levelResetMeta,n=0;n<e.length;n++){var o=new p.default;o.bgId=e[n].bgId,o.id=e[n].level,o.imgid=e[n].monsterId,o.bossname=e[n].monster,o.hp=f.default.instance.formatCoid(e[n].life,e[n].lifeUnit),o.glodcount=e[n].hitCoinDrop,o.glodcountcoe=e[n].hitCoinNum,o.killgoldcount=e[n].killCoinDrop,o.killgoldcountcoe=e[n].killCoinNum,o.isbarrier=e[n].obstacle,o.barrierspeed=e[n].obstacleSpeed,o.barriertype=e[n].obstacleType,o.barrierLife=e[n].obstacleLife,o.minresetcustoms=t[0].resrtLevel,o.obstacleInnerGeneratingSequence=e[n].obstacleInnerGeneratingSequence,o.obstacleOuterSpeed=e[n].obstacleOuterSpeed,o.obstacleInnerSpeed=e[n].obstacleInnerSpeed,o.obstacleOuterGeneratingSequence=e[n].obstacleOuterGeneratingSequence;var a=t[n+1-t[0].resrtLevel];void 0!=a&&a.resrtLevel==e[n].level&&(o.resetdimond=f.default.instance.formatCoid(a.diamond,0)),this.customsinfos.push(o)}},e.prototype.initUserData=function(e){void 0===e&&(e=1),1==e&&this.skininfo.forEach(function(e){if(e.cost.value<=0){var t=new a.UserSkinInfo;t.id=e.skinid,t.level=0,t.isequip=!0;var n={};n[t.id]=t,a.default.instance.setData(a.default.KEY_USER_SKIN_INFO,n)}}),this.weaponinfos.forEach(function(e){if(e.cost.value<=0){var t=new a.UserWeaponInfo;t.id=e.weaponid,t.harm=0,t.bulle=0,t.isequip=!0;var n={};n[t.id]=t,a.default.instance.setData(a.default.KEY_USER_WEAPON_INFO,n)}})},e.prototype.getWeaponInfo=function(){for(var e=i.default.instance.gameMeta.armsUnlockMeta,t=0;t<e.length;t++){var n=new c.default;n.weaponid=e[t].id,n.costtype=e[t].type,n.cost=f.default.instance.formatCoid(e[t].price,e[t].priceUnit),n.name=e[t].name,n.initharm=f.default.instance.formatCoid(e[t].baseHurt,e[t].hurtUnit);var o=i.default.instance.gameMeta.armsUpgradeParameterMeta[0];n.addharm=f.default.instance.formatCoid(e[t].updateHurt,e[t].updateHurtUnit),n.weaponlevelparameter=o.priceAddCoefficient;for(var a=this.getBulletUpgradeinfo()[e[t].id],r=0;r<a.length;r++){var s=new l.default,d=a[r];s.weaponid=d.id,s.bulletlevel=d.grade,s.bulletcount=d.bulletNum,s.costtype=d.type,s.percussioncount=d.fireNum,s.shootType=d.shootType,s.scattering=d.scatteringRate,s.cost=f.default.instance.formatCoid(d.upgradePrice,d.priceUnit),n.bulletlevelinfo.push(s)}for(var p=this.getHarmInfo()[e[t].id],h=0;h<p.length;h++){var g=new u.default,_=p[h];g.weaponid=_.id,g.harm=f.default.instance.formatCoid(_.hurtNum,_.hurtUnit),g.cost=f.default.instance.formatCoid(_.upgradePrice,_.priceUnit),g.levelcosttype=_.type,g.level=_.hurtGrade,n.harmlevelinfo.push(g)}this.weaponinfos.push(n)}},e.prototype.getBulletUpgradeinfo=function(){if(null==this.bulletupgrade){this.bulletupgrade={};for(var e=i.default.instance.gameMeta.bulletUpgradeMeta,t=0;t<e.length;t++){var n=this.bulletupgrade[e[t].id];void 0==n&&(n=new Array),n.push(e[t]),this.bulletupgrade[e[t].id]=n}return this.bulletupgrade}return this.bulletupgrade},e.prototype.getHarmInfo=function(){if(null==this.harmupgrade){this.harmupgrade={};for(var e=i.default.instance.gameMeta.hurtUpgradeMeta,t=0;t<e.length;t++){var n=this.harmupgrade[e[t].id];void 0==n&&(n=new Array),n.push(e[t]),this.harmupgrade[e[t].id]=n}return this.harmupgrade}return this.harmupgrade},e.prototype.getHeroBasics=function(){for(var e=i.default.instance.gameMeta.baseUnlockMeta,t=0;t<e.length;t++){var n=new s.default;n.heroid=e[t].upgradeId,n.describe=e[t].describe,n.costtype=e[t].priceType,n.type=e[t].type,n.cost=f.default.instance.formatCoid(e[t].price,e[t].priceUnit);var o=i.default.instance.gameMeta.baseUpgradeMeta[0];switch(e[t].type){case 0:n.coefficient=o.speedAddCoefficient;break;case 1:n.coefficient=o.offlineAddCoefficient;break;case 2:n.coefficient=o.coinAddCoefficient}n.usecoefficient=o.priceCoefficient,n.inituse=o.priceBasicConsumption,this.basicsdatas.push(n)}},e.prototype.getSkinInfo=function(){for(var e=i.default.instance.gameMeta.roleUnlockMeta,t=0;t<e.length;t++){var n=new r.default,o=e[t];n.skinid=o.id,n.skinname=o.name,n.skintype=o.abilityType,n.powerdesc=o.describe,n.costtype=o.priceType,n.cost=f.default.instance.formatCoid(o.price,o.priceUnit);for(var a=this.getskinlevelinfo()[o.id],s=0;s<a.length;s++){var c=new d.default;c.skinid=o.id,c.skinlevel=a[s].roleGrade,c.powervalue=a[s].abilityValue,c.costtype=a[s].type,c.nextcost=f.default.instance.formatCoid(a[s].upgradePrice,a[s].priceUnit),n.skinlevelinfos.push(c)}this.skininfo.push(n)}},e.prototype.getskinlevelinfo=function(){if(null==this.skinlevelinfos){this.skinlevelinfos={};for(var e=i.default.instance.gameMeta.roleUpgradeMeta,t=0;t<e.length;t++){var n=this.skinlevelinfos[e[t].id];void 0==n&&(n=new Array),n.push(e[t]),this.skinlevelinfos[e[t].id]=n}return this.skinlevelinfos}return this.skinlevelinfos},e._instance=null,e=t=o([y],e)}());n.default=m,cc._RF.pop()},{"../module/entity/Customs":"Customs","../module/entity/HeroBasics":"HeroBasics","../module/entity/Sigin":"Sigin","../module/entity/SkinInfo":"SkinInfo","../module/entity/SkinLevelInfo":"SkinLevelInfo","../module/entity/WeaponBulletUpgradeData":"WeaponBulletUpgradeData","../module/entity/WeaponHarmUpgradeData":"WeaponHarmUpgradeData","../module/entity/WeaponInfo":"WeaponInfo","../module/entity/offLine":"OffLine","./../module/data/MainDataMgr":"MainDataMgr","./GameConfig":"GameConfig","./valuecount/MaxCount":"MaxCount"}],GameOverAdItemMain:[function(e,t,n){"use strict";cc._RF.push(t,"76d5565AsFN9rnNdS27jEzA","GameOverAdItemMain");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../scripts/gamecore/deer/DeerSDK"),r=e("../../../scripts/gamecore/managers/GameManager"),s=e("../../../scripts/GameUtils"),c=e("../../gamecore/base/GameValues"),l=cc._decorator,u=l.ccclass,d=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.imgSprite=null,t.infoBgSprite=null,t.nameLabel=null,t.infoLabel=null,t.infoBgSFs=[],t}return o(t,e),t.prototype.start=function(){this._imageOriginalSize=new cc.Size(this.imgSprite.node.width,this.imgSprite.node.height),this.refreshUI(),this.node.on(cc.Node.EventType.TOUCH_END,this.tapHandler,this)},t.prototype.refreshUI=function(){var e=this;if(this.data){var t=this.data.index;if(t%=this.infoBgSFs.length,this.infoBgSprite.spriteFrame=this.infoBgSFs[t],this.nameLabel.string=this.data.name,void 0!=this.data.ad_count)this.infoLabel.string=this.data.ad_count+"\u4eba\u6b63\u5728\u73a9";else{var n=Math.floor(5e3*Math.random()+5e3);this.infoLabel.string=n+"\u4eba\u6b63\u5728\u73a9"}if(c.default.isToutiao&&this.data.spriteFrame)return this.imgSprite.spriteFrame=this.data.spriteFrame,this.imgSprite.node.width=this.data.spriteFrame.getTexture().width,this.imgSprite.node.height=this.data.spriteFrame.getTexture().height,this.imgSprite.node.scaleX=this._imageOriginalSize.width/this.data.spriteFrame.getTexture().width,void(this.imgSprite.node.scaleY=this._imageOriginalSize.height/this.data.spriteFrame.getTexture().height);var o=this.data.img_256_129;o&&cc.loader.load(o,function(t,n){n&&(e.imgSprite.spriteFrame=new cc.SpriteFrame(n),e.imgSprite.node.width=n.width,e.imgSprite.node.height=n.height,e.imgSprite.node.scaleX=e._imageOriginalSize.width/n.width,e.imgSprite.node.scaleY=e._imageOriginalSize.height/n.height)})}},t.prototype.tapHandler=function(e){r.default.soundsManager.playTapSound(),s.default.buriedPoint(26),i.default.instance.showMoreGame()},a([d(cc.Sprite)],t.prototype,"imgSprite",void 0),a([d(cc.Sprite)],t.prototype,"infoBgSprite",void 0),a([d(cc.Label)],t.prototype,"nameLabel",void 0),a([d(cc.Label)],t.prototype,"infoLabel",void 0),a([d([cc.SpriteFrame])],t.prototype,"infoBgSFs",void 0),t=a([u],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../scripts/GameUtils":"GameUtils","../../../scripts/gamecore/deer/DeerSDK":"DeerSDK","../../../scripts/gamecore/managers/GameManager":"GameManager","../../gamecore/base/GameValues":"GameValues"}],GameOverAdsPanelMain:[function(e,t,n){"use strict";cc._RF.push(t,"06ca2Zjd/RCFJYIDtYnY4El","GameOverAdsPanelMain");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../scripts/gamecore/deer/DeerSDK"),r=e("../../../scripts/gamecore/xiaoyaoji/XYJAPI"),s=e("../../../scripts/gamecore/deer/DeerSDKEventNames"),c=e("./GameOverAdItemMain"),l=e("../../gamecore/base/GameValues"),u=cc._decorator,d=u.ccclass,f=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.adItemPrefab=null,t.adsCount=6,t.adsContainer=null,t.locationFlg="",t}return o(t,e),t.prototype.start=function(){i.default.instance.isReady||r.default.userOpenID||l.default.isToutiao?this.loadAdData():i.default.instance.addEventListener(s.default.READY,this.sdkReadyHandler,this)},t.prototype.sdkReadyHandler=function(e){this.loadAdData()},t.prototype.loadAdData=function(){var e=this;i.default.instance.removeEventListener(s.default.READY,this.sdkReadyHandler,this),i.default.instance.ad_getAdData(i.DeerAdType.GAME_OVER,function(t){t&&e.showAds(t.concat())},null,this.locationFlg)},t.prototype.showAds=function(e){this.adsContainer.removeAllChildren(!0);var t=e;if(t&&t.length>0){var n=t.length;this.adsCount>0&&n>this.adsCount&&(n=this.adsCount);for(var o=0;o<n;o++){t[o].index=o;var a=cc.instantiate(this.adItemPrefab);a.getComponent(c.default).data=t[o],this.adsContainer.addChild(a)}}},t.prototype.onDestroy=function(){i.default.instance.removeEventListener(s.default.READY,this.sdkReadyHandler,this)},a([f({type:cc.Prefab,displayName:"\u5355\u4e2a\u5e7f\u544a\u9884\u5236\u4f53"})],t.prototype,"adItemPrefab",void 0),a([f({displayName:"\u663e\u793a\u5e7f\u544a\u6570\u91cf",tooltip:"0\u8868\u793a\u5c55\u73b0\u5168\u90e8\u5e7f\u544a"})],t.prototype,"adsCount",void 0),a([f({type:cc.Node,displayName:"\u5e7f\u544a\u5bb9\u5668"})],t.prototype,"adsContainer",void 0),a([f({type:String,displayName:"\u4f4d\u7f6e\u6807\u8bc6"})],t.prototype,"locationFlg",void 0),t=a([d],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../scripts/gamecore/deer/DeerSDK":"DeerSDK","../../../scripts/gamecore/deer/DeerSDKEventNames":"DeerSDKEventNames","../../../scripts/gamecore/xiaoyaoji/XYJAPI":"XYJAPI","../../gamecore/base/GameValues":"GameValues","./GameOverAdItemMain":"GameOverAdItemMain"}],GameSystem:[function(e,t,n){"use strict";cc._RF.push(t,"872b4MJpo5HYLzaP9lPgfDJ","GameSystem");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./gamecore/base/GameValues"),i=e("./gamecore/managers/GameManager"),r=e("./gamecore/managers/PopUpType"),s=cc._decorator,c=s.ccclass,l=(s.property,function(){function e(){}var t;return t=e,e.init=function(){!0!==t._initialized&&(t._initialized=!0,a.default.currentPlatform=a.PlatformName.NONE,a.default.isToutiao=!1,a.default.isDebug=!1,a.default.enableLog=!0,a.default.gameVersion="1.0.2",i.default.popUpManager.popUpType=r.PopUpType.NONE,i.default.soundsManager.tapSoundSource="sound/dianji")},e.appId="tt76280095e9027885",e.defaultChannelID=24,e.defaultAdID=35,e._initialized=!1,e=t=o([c],e)}());n.default=l,cc._RF.pop()},{"./gamecore/base/GameValues":"GameValues","./gamecore/managers/GameManager":"GameManager","./gamecore/managers/PopUpType":"PopUpType"}],GameUtils:[function(e,t,n){"use strict";cc._RF.push(t,"7b60elJuqlHL7ngukcCpoUT","GameUtils");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./control/GameConfig"),i=(e("./control/point/BuriedPoints"),e("./gamecore/deer/DeerSDK")),r=e("./gamecore/managers/GameManager"),s=e("./gamecore/wechat/WXEventNames"),c=e("./gamecore/wechat/WXRewardVideoAd"),l=e("./gamecore/wechat/WXShare"),u=e("./gamecore/wechat/WXUtils"),d=e("./module/data/MainDataMgr"),f=e("./view/Tips"),p=cc._decorator,h=p.ccclass,g=(p.property,function(){function e(){this.sucCallbackFunc=null,this.failCallbackFunc=null,this.errCallbackFunc=null,this.assertArray=[],this.tryTimeArr={}}var t;return t=e,Object.defineProperty(e,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),e.prototype.showVideoAd=function(e,t,n){this.sucCallbackFunc=e,this.failCallbackFunc=t,this.errCallbackFunc=n,cc.sys.platform!==cc.sys.WECHAT_GAME&&this.errCallbackFunc&&(console.log("\u975e\u5fae\u4fe1\u73af\u5883\u4e0b\u8fd4\u56de\u6210\u529f"),this.sucCallbackFunc()),c.default.isReady?(r.default.eventManager.addEventListener(s.default.REWARD_VIDEO_AD_CLOSE,this.videoBack,this),r.default.eventManager.addEventListener(s.default.REWARD_VIDEO_AD_COMPLETE,this.videoBack,this),r.default.eventManager.addEventListener(s.default.REWARD_VIDEO_AD_ERROR,this.videoBack,this),c.default.show()):(u.default.showToast("\u89c6\u9891\u5e7f\u544a\u5c1a\u672a\u51c6\u5907"),this.errCallbackFunc&&this.errCallbackFunc())},e.prototype.videoBack=function(e){r.default.eventManager.removeEventListener(s.default.REWARD_VIDEO_AD_CLOSE,this.videoBack,this),r.default.eventManager.removeEventListener(s.default.REWARD_VIDEO_AD_COMPLETE,this.videoBack,this),r.default.eventManager.removeEventListener(s.default.REWARD_VIDEO_AD_ERROR,this.videoBack,this),e.type==s.default.REWARD_VIDEO_AD_COMPLETE?(u.default.showToast("\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u6210\u529f"),this.errCallbackFunc&&this.sucCallbackFunc()):(u.default.showToast("\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5931\u8d25"),this.failCallbackFunc&&this.failCallbackFunc())},e.showAlert=function(e,t,n){u.default.showAlert("\u5e7f\u544a\u53d6\u6d88",e,"\u91cd\u65b0\u89c2\u770b","\u77e5\u9053\u4e86",t,n)},e.prototype.playFailOnShare=function(e,n){if(0!=i.default.instance.isOnline){var o=i.default.instance.game_config;if(o){var a=o.adToSharingSwitch,r=o.dailySharingLimit;if(1==a){var s=d.default.instance.getData(d.default.KEY_SHARE_COUNT),c=s[n];void 0==c?(c=1,this.onShare(function(){e(1),s[n]=c,d.default.instance.setData(d.default.KEY_SHARE_COUNT,s,!0)})):c<r?this.onShare(function(){c++,s[n]=c,d.default.instance.setData(d.default.KEY_SHARE_COUNT,s,!0),e(1)}):(t.showToast("The maximum number of rewards obtained today has been reached"),e(2))}}}},e.buriedPoint=function(e,t){},e.prototype.onShare=function(e,t){var n=this.shareData();l.default.shareApp(n.data,n.img,null,e,t)},e.prototype.shareData=function(){var e=i.default.instance.game_getAShareData();return null==e?{data:"\u6728\u5076\u5927\u5e08",img:a.default.instance.gameCdn+"config/defut.png"}:{data:e.share_info,img:e.share_img}},Object.defineProperty(e.prototype,"serverTime",{get:function(){return i.default.instance.serverTime},enumerable:!0,configurable:!0}),e.prototype.substrName=function(e,t){return void 0===e||null==e?"":(e.length>t&&(e=e.substring(0,t)+"..."),e)},e.prototype.showLoading=function(e){if("undefined"!=typeof wx)try{wx.showLoading({title:e,mask:!0})}catch(e){}},e.prototype.closeLoading=function(){if("undefined"!=typeof wx)try{wx.hideLoading()}catch(e){}},e.showToast=function(e,n){var o=this;this.isShow||(this.isShow=!0,setTimeout(function(){o.isShow=!1},1150),t.loadRes("prefabs/tips",cc.Prefab,!0,function(t){var n=cc.instantiate(t);n.getComponent(f.default).showTip(e),cc.find("Canvas").addChild(n)}))},e.prototype.getFormatBySecond=function(e){if(void 0===e&&(e=0),e<=0)return"00:00:00";var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),o=Math.floor((e-3600*t)%60);return(0==t?"00":t<10?"0"+t:""+t)+":"+(0==n?"00":n<10?"0"+n:""+n)+":"+(0==o?"00":o<10?"0"+o:""+o)},e.prototype.limit=function(e,t){e=Math.min(e,t);var n=(t=Math.max(e,t))-e;return e+Math.random()*n},e.prototype.limitInteger=function(e,t){return Math.floor(this.limit(e,t+1))},e.prototype.loadSceneWithBg=function(e){var n=this;cc.director.preloadScene(e,function(){},function(o){o?n.loadSceneWithBg(e):(d.default.BACKGROUND_NODE.removeFromParent(!1),d.default.INTENSIFY_NODE&&d.default.INTENSIFY_NODE.removeFromParent(!1),t.instance.releaseSpecialAssert(),cc.director.loadScene(e))})},e.loadRes=function(e,n,o,a){void 0===o&&(o=!0),cc.loader.loadRes(e,n,function(i,r){if(i){if(console.log(e,"\u52a0\u8f7d\u5931\u8d25\uff0c\u5c1d\u8bd5\u52a0\u8f7d\u4e2d",t.instance.tryTimeArr[e]),void 0===t.instance.tryTimeArr[e])t.instance.tryTimeArr[e]=0;else if(++t.instance.tryTimeArr[e]>3)return void(t.instance.tryTimeArr[e]=0);t.loadRes(e,n,o,a)}else{for(var s=0;s<t.instance.assertArray.length;s++)if(t.instance.assertArray[s].resName==e)return t.instance.assertArray[s].needRelease=o,void(a&&a(r));t.instance.assertArray.push({resName:e,needRelease:o,assertType:n}),a&&a(r)}})},e.prototype.releaseSpecialAssert=function(){for(var e=0;e<this.assertArray.length;)this.assertArray[e].needRelease?(cc.loader.releaseRes(this.assertArray[e].resName,this.assertArray[e].assertType),this.assertArray.splice(e,1)):e++},e._instance=null,e.isShow=!1,e=t=o([h],e)}());n.default=g,cc._RF.pop()},{"./control/GameConfig":"GameConfig","./control/point/BuriedPoints":"BuriedPoints","./gamecore/deer/DeerSDK":"DeerSDK","./gamecore/managers/GameManager":"GameManager","./gamecore/wechat/WXEventNames":"WXEventNames","./gamecore/wechat/WXRewardVideoAd":"WXRewardVideoAd","./gamecore/wechat/WXShare":"WXShare","./gamecore/wechat/WXUtils":"WXUtils","./module/data/MainDataMgr":"MainDataMgr","./view/Tips":"Tips"}],GameValues:[function(e,t,n){"use strict";var o,a;cc._RF.push(t,"7d6bfVaXp9FAq05Rssr//mz","GameValues"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.DEFAULT="default",e.ROTATED_LEFT="rotatedLeft",e.ROTATED_RIGHT="rotatedRight",e.UPSIDE_DOWN="upsideDown"}(o=n.Orientation||(n.Orientation={})),function(e){e[e.NONE=0]="NONE",e[e.WECHAT=1]="WECHAT",e[e.TOUTIAO=2]="TOUTIAO",e[e.QQCM=3]="QQCM",e[e.FACEBOOK=4]="FACEBOOK",e[e.OPPO=5]="OPPO",e[e.IOS=6]="IOS",e[e.QQ=7]="QQ",e[e.VIVO=8]="VIVO",e[e.QTT=9]="QTT",e[e.ANDROID=10]="ANDROID",e[e.BAIDU=11]="BAIDU"}(a=n.PlatformName||(n.PlatformName={}));var i=function(){function e(){}return Object.defineProperty(e,"canvas",{get:function(){try{return["cc"].game.canvas}catch(e){}try{return["cc"].game.canvas}catch(e){}return null},enumerable:!0,configurable:!0}),e.saveLocalData=function(e,t){try{cc.sys.localStorage.setItem("gv_"+e,t)}catch(e){}},e.getLocalData=function(e){try{return cc.sys.localStorage.getItem("gv_"+e)}catch(e){}},Object.defineProperty(e,"enableLog",{get:function(){return e._enableLog},set:function(t){e._enableLog!=t&&(e._enableLog=t,cc.log=function(){},null==e._originalLogFun&&(e._originalLogFun=console.log,console.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._enableLog&&e._originalLogFun.apply(null,t),e.logHandler&&e.logHandler(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"currentPlatform",{get:function(){return e._currentPlatform},set:function(t){e._currentPlatform=a.NONE},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isToutiao",{get:function(){return this._isToutiao},set:function(e){this._isToutiao=!1},enumerable:!0,configurable:!0}),e.isToutiaoApp=function(){return!!window.tt&&"Toutiao"===tt.getSystemInfoSync().appName},Object.defineProperty(e,"isIOS",{get:function(){if(void 0==e._isIOS)try{navigator.userAgent&&(e._isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent)),!e._isIOS&&navigator.platform&&(e._isIOS=/iPad|iPhone|iPod/.test(navigator.platform))}catch(t){e._isIOS=!1}return e._isIOS},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isAndroid",{get:function(){if(void 0==e._isAndroid)try{var t=navigator.userAgent.toLowerCase();e._isAndroid=t.indexOf("android")>-1}catch(t){e._isAndroid=!1}return e._isAndroid},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isBearPlatform",{get:function(){return void 0!==window.bear},enumerable:!0,configurable:!0}),Object.defineProperty(e,"appSid",{get:function(){return this._appSid},set:function(t){e.currentPlatform==a.BAIDU&&(t||console.error("\u767e\u5ea6\u5fc5\u586b\t\u5c0f\u7a0b\u5e8f\u5e94\u7528 ID",t),this._appSid=t)},enumerable:!0,configurable:!0}),e.gameVersion="1.0",e.isDebug=!1,e.orientation=o.DEFAULT,e._enableLog=!0,e._originalLogFun=null,e.logHandler=null,e._currentPlatform=0,e.isMeiZu=!1,e._isToutiao=!1,e.ttAds={},e._isIOS=void 0,e._isAndroid=void 0,e._appSid="",e}();n.default=i,cc._RF.pop()},{}],GestureManager:[function(e,t,n){"use strict";cc._RF.push(t,"90f48rfL7dKbJOFQ5zHzirJ","GestureManager");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a,i=-1,r=Math.PI/12,s="left",c="right",l="down",u="up",d="can't tell",f=function(){function e(){return this._x=-1,this._y=-1,this._endX=-1,this._endY=-1,this._id=i,this}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endX",{get:function(){return this._endX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endY",{get:function(){return this._endY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this._id=i},e.prototype.initialize=function(e,t,n){this._id=e,this._x=t,this._y=n,this._endX=t,this._endY=n},e.prototype.isReleased=function(){return this._id===i},e.prototype.isId=function(e){return this._id===e},e.prototype.setEndPosition=function(e,t){this._endX=e,this._endY=t},e.prototype.isValidDistance=function(e){var t=this._endY-this._y,n=this._endX-this._x;return Math.sqrt(n*n+t*t)>e},e}();function p(e){for(var t=0;t<e.length;t+=1){var n=e[t];void 0==n.id&&(void 0!=n._id?n.id=n._id:void 0!=n.__instanceId&&(n.id=n.__instanceId))}}(function(e){e[e.ST_POSSIBLE=0]="ST_POSSIBLE",e[e.ST_BEGAN=1]="ST_BEGAN",e[e.ST_MOVED=2]="ST_MOVED",e[e.ST_ENDED=3]="ST_ENDED",e[e.ST_CANCELED=4]="ST_CANCELED",e[e.ST_FAILED=5]="ST_FAILED"})(a||(a={})),n.__doTouches=p;var h,g=function(){function e(e){return this._status=a.ST_POSSIBLE,this._touchesInfo=[],this._callback=e,this._id="",this._startTime=-1,this._fingers=0,this._currentTouchIdCount=-1,this}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!0,configurable:!0}),e.prototype.clearTouchId=function(e){var t=this.getTouchIdPositionInCaptureArray(e);-1!==t&&this._touchesInfo[t].reset()},e.prototype.__setStatus=function(e){this._status=e},e.prototype.setCaptureTouchIdLen=function(e){this._fingers=e,this._touchesInfo=[];for(var t=0;t<e;t++)this._touchesInfo.push(new f);this._currentTouchIdCount=0},e.prototype.addTouchInfo=function(e){this._touchesInfo[this._currentTouchIdCount].initialize(e.id,e._point.x,e._point.y),this._currentTouchIdCount+=1},e.prototype.getCurrentTouchIdCount=function(){return this._currentTouchIdCount},e.prototype.resetTouchIds=function(){this._currentTouchIdCount=0,this._touchesInfo.forEach(function(e){e.reset()})},e.prototype.allCapturedTouchIdsReleased=function(){for(var e=0;e<this._touchesInfo.length;e++)if(!this._touchesInfo[e].isReleased())return!1;return!0},e.prototype.getTouchIdPositionInCaptureArray=function(e){if(!this._touchesInfo)return-1;for(var t=0;t<this._touchesInfo.length;t++)if(this._touchesInfo[t].isId(e))return t;return-1},e.prototype.getTouchInfoById=function(e){if(!this._touchesInfo)return null;for(var t=0;t<this._touchesInfo.length;t++)if(this._touchesInfo[t].isId(e))return this._touchesInfo[t];return null},e.prototype.getGestureElapsedTime=function(){return(new Date).getTime()-this._startTime},e.prototype.touchesBegan=function(e){var t=e.getTouches();p(t),-1===this._startTime&&(this._startTime=(new Date).getTime());for(var n=!1,o=0;o<t.length;o+=1){var i=t[o];if(!this.getTouchInfoById(i.id)){n=!0;break}}if(n)if(this.getCurrentTouchIdCount()<this._fingers&&this.getGestureElapsedTime()>300)this.failed();else if(this.getCurrentTouchIdCount()+e.getTouches().length>this._fingers)this.failed();else{for(o=0;o<t.length;o+=1)this.addTouchInfo(t[o]);this.getCurrentTouchIdCount()===this._fingers&&this.__setStatus(a.ST_BEGAN)}},e.prototype.touchesMoved=function(e){this.__setStatus(a.ST_MOVED)},e.prototype.touchesEnded=function(e){this.__setStatus(a.ST_ENDED)},e.prototype.touchesCanceled=function(e){this.__setStatus(a.ST_CANCELED),this.failed()},e.prototype.failed=function(){this.__setStatus(a.ST_FAILED)},e.prototype.reset=function(){this.__setStatus(a.ST_POSSIBLE),this.resetTouchIds(),this._startTime=-1},e.prototype.acceptsInput=function(){return!(this._status===a.ST_FAILED||this._status===a.ST_CANCELED||this._status===a.ST_ENDED)},e.prototype.getStatus=function(){return this._status},e}(),_=function(e){function t(t,n){var o=e.call(this,n)||this;return t|=0,o.setCaptureTouchIdLen(t),o.id="Tap "+t,o}return o(t,e),t.prototype.touchesMoved=function(t){e.prototype.touchesMoved.call(this,t);var n=t.getTouches();p(n);for(var o=0;o<n.length;o+=1){var a=this.getTouchIdPositionInCaptureArray(n[o].id);if(-1!=a){var i=this._touchesInfo[a],r=Math.abs(i.x-n[o]._point.x),s=Math.abs(i.y-n[o]._point.y);if(r>20||s>20)return void this.failed()}}},t.prototype.touchesEnded=function(t){var n=t.getTouches();if(p(n),this.getCurrentTouchIdCount()===this._fingers)if(this.getGestureElapsedTime()>300)this.failed();else{for(var o=0;o<n.length;o+=1)this.clearTouchId(n[o].id);this.allCapturedTouchIdsReleased()&&(e.prototype.touchesEnded.call(this,t),this._callback&&this._callback(this._fingers))}else this.failed()},t}(g),y=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.id="DoubleTap",o._prevTime=0,o}return o(t,e),t.prototype.touchesEnded=function(e){var t=e.getTouches();if(p(t),this.getCurrentTouchIdCount()!==this._fingers)return this._prevTime=0,void this.failed();if(this.getGestureElapsedTime()>180)return this._prevTime=0,void this.failed();for(var n=0;n<t.length;n+=1)this.clearTouchId(t[n].id);if(this.allCapturedTouchIdsReleased()){var o=(new Date).getTime();o-this._prevTime<300&&this._callback&&this._callback(t[0]),this._prevTime=o}},t}(_),m=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.id="LongTap "+t,o._timer=-1,o}return o(t,e),t.prototype.touchesBegan=function(t){e.prototype.touchesBegan.call(this,t),this.getStatus()===a.ST_BEGAN&&(this.__cancelTimer(),this._timer=setTimeout(this.__fireEvent.bind(this),800))},t.prototype.__fireEvent=function(){this._callback&&this._callback(this._fingers)},t.prototype.touchesEnded=function(e){this.__cancelTimer()},t.prototype.failed=function(){e.prototype.failed.call(this),this.__cancelTimer()},t.prototype.__cancelTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=-1)},t}(_),v=function(e){function t(t,n){var o=e.call(this,n)||this;return o._fingers=0|t,o.id="Swipe "+t,o.setCaptureTouchIdLen(t),o}return o(t,e),t.prototype.touchesEnded=function(t){var n=t.getTouches();if(p(n),this.getCurrentTouchIdCount()===this._fingers)if(this.getGestureElapsedTime()>1e3)this.failed();else{for(var o=0;o<n.length;o+=1){var a=n[o],i=a.id,r=this.getTouchInfoById(i);if(r&&(r.setEndPosition(a._point.x,a._point.y),!r.isValidDistance(100)))return void this.failed();this.clearTouchId(i)}if(this.allCapturedTouchIdsReleased()){var s=this.__getSwipeDirection(this._touchesInfo[0]);for(o=1;o<this.getCurrentTouchIdCount();o+=1)if(s!==this.__getSwipeDirection(this._touchesInfo[o]))return void this.failed();e.prototype.touchesEnded.call(this,t),this._callback&&this._callback(s)}}else this.failed()},t.prototype.__getSwipeDirection=function(e){var t=e.endY-e.y,n=Math.abs(Math.atan2(t,e.endX-e.x));return n<Math.PI/2&&n<r?c:n<Math.PI&&n>Math.PI-r?s:n>=Math.PI/2-r&&n<Math.PI/2+r?t<0?u:l:d},t}(g),b=function(e){function t(t){var n=e.call(this,t)||this;return n._contour=0,n._started=!1,n.setCaptureTouchIdLen(5),n.id="Pinch5",n}return o(t,e),t.prototype.touchesBegan=function(t){e.prototype.touchesBegan.call(this,t),this.getStatus()===a.ST_BEGAN&&(this._contour=this.__getContourLength())},t.prototype.__getContourLength=function(){var e=0,t=this._touchesInfo[0];return this._touchesInfo.forEach(function(n){e+=Math.sqrt((n.endX-t.endX)*(n.endX-t.endX)+(n.endY-t.endY)*(n.endY-t.endY))}),e},t.prototype.touchesMoved=function(e){var t=e.getTouches();if(p(t),this.acceptsInput())if(this.getCurrentTouchIdCount()===this._fingers){for(var n=0;n<t.length;n+=1){var o=t[n],a=o.id,i=this.getTouchInfoById(a);i&&i.setEndPosition(o._point.x,o._point.y)}var r=this.__getContourLength(),s=r/this._contour;this._started?this.__notify(s):r/this._contour<.94&&(this._started=!0,this.__notify(s))}else this.failed()},t.prototype.__notify=function(e){this._callback&&this._callback(e)},t.prototype.touchesEnded=function(t){var n=t.getTouches();if(p(n),this._started)if(this.getCurrentTouchIdCount()===this._fingers){for(var o=0;o<n.length;o+=1)this.clearTouchId(n[o].id);this.allCapturedTouchIdsReleased()&&(e.prototype.touchesEnded.call(this,t),this._callback&&this._callback(0))}else this.failed();else this.failed()},t.prototype.reset=function(){e.prototype.reset.call(this),this._started=!1},t}(g),M=function(e){function t(t){var n=e.call(this,t)||this;return n.setCaptureTouchIdLen(2),n.id="Pinch and Zoom",n._gestureRotation=0,n._gestureScale=0,n._scale=1,n._rotation=0,n._started=!1,n}return o(t,e),t.prototype.touchesBegan=function(t){if(e.prototype.touchesBegan.call(this,t),this.getStatus()===a.ST_BEGAN){var n=this._touchesInfo[0],o=this._touchesInfo[1];this._scale=1,this._rotation=0,this._gestureScale=Math.sqrt((o.y-n.y)*(o.y-n.y)+(o.x-n.x)*(o.x-n.x)),this._gestureRotation=Math.atan2(o.y-n.y,o.x-n.x)}},t.prototype.touchesMoved=function(t){var n=t.getTouches();if(p(n),this.acceptsInput()&&this.getCurrentTouchIdCount()===this._fingers){for(var o=0;o<n.length;o+=1){var a=n[o],i=a.id,r=this.getTouchInfoById(i);r&&r.setEndPosition(a._point.x,a._point.y)}if(!this._started){if(this._gestureManager.hasGesture(h.LONGTAP)&&this.getGestureElapsedTime()>700)return void this.failed();for(o=0;o<this._touchesInfo.length;o++)this._touchesInfo[o].isValidDistance(20);this._started=!0}e.prototype.touchesMoved.call(this,t);var s=this._touchesInfo[0],c=this._touchesInfo[1],l=Math.atan2(c.endY-s.endY,c.endX-s.endX);this._rotation+=l-this._gestureRotation,this._gestureRotation=l;var u=Math.sqrt((c.endY-s.endY)*(c.endY-s.endY)+(c.endX-s.endX)*(c.endX-s.endX)),d=this._scale+u/this._gestureScale-1;d<.2?this._scale=.2:(this._scale=d,this._gestureScale=u);var f=s.endX-s.x,g=s.endY-s.y;this._callback&&this._callback({scale:this._scale,rotation:180*this._rotation/Math.PI,x:f,y:g})}},t.prototype.touchesEnded=function(t){this.allCapturedTouchIdsReleased()?e.prototype.touchesEnded.call(this,t):this.failed()},t.prototype.reset=function(){e.prototype.reset.call(this),this._started=!1},t}(g),w=function(){function e(e){return this.__onGestures=[],this._gestureRecognizerList=[],this._touchIds=[],this._target=null,this._touchStartFn=this.__touchStartHandler.bind(this),this._touchMoveFn=this.__touchMoveHandler.bind(this),this._touchEndFn=this.__touchEndHandler.bind(this),this._touchCancelFn=this.__touchCancelHandler.bind(this),e&&this.__setTarget(e),this}return e.prototype.__findIdPos=function(e){for(var t=0;t<this._touchIds.length;t++)if(this._touchIds[t]===e)return t;return-1},e.prototype.__setTarget=function(e){this._target&&(this._target.off(cc.Node.EventType.TOUCH_START,this._touchStartFn,this),this._target.off(cc.Node.EventType.TOUCH_MOVE,this._touchMoveFn,this),this._target.off(cc.Node.EventType.TOUCH_END,this._touchEndFn,this),this._target.off(cc.Node.EventType.TOUCH_CANCEL,this._touchEndFn,this)),this._target=e,this._target&&(this._target.on(cc.Node.EventType.TOUCH_START,this._touchStartFn,this),this._target.on(cc.Node.EventType.TOUCH_MOVE,this._touchMoveFn,this),this._target.on(cc.Node.EventType.TOUCH_END,this._touchEndFn,this),this._target.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEndFn,this))},e.prototype.__touchStartHandler=function(e){var t=e.getTouches();p(t);for(var n=0;n<t.length;n+=1){var o=t[n].id;-1===this.__findIdPos(o)&&this._touchIds.push(o)}this._gestureRecognizerList.forEach(function(t){t.acceptsInput()&&t.touchesBegan(e)})},e.prototype.__touchMoveHandler=function(e){p(e.getTouches()),this._gestureRecognizerList.forEach(function(t){t.acceptsInput()&&t.touchesMoved(e)})},e.prototype.__touchEndHandler=function(e){var t=e.getTouches();p(t);for(var n=0;n<t.length;n+=1){var o=t[n].id,a=this.__findIdPos(o);-1!==a&&this._touchIds.splice(a,1)}this._gestureRecognizerList.forEach(function(t){t.acceptsInput()&&t.touchesEnded(e)}),this.__shouldReset()},e.prototype.__touchCancelHandler=function(e){var t=e.getTouches();p(t);for(var n=0;n<t.length;n+=1){var o=t[n].id,a=this.__findIdPos(o);-1!==a&&this._touchIds.splice(a,1)}this._gestureRecognizerList.forEach(function(t){t.acceptsInput()&&t.touchesCanceled(e)}),this.__shouldReset()},e.prototype.__shouldReset=function(){0===this._touchIds.length&&this.__resetGestureRecognizers()},e.prototype.addGestureRecognizer=function(e){return e._gestureManager=this,this._gestureRecognizerList.push(e),this},e.prototype.__resetGestureRecognizers=function(){this._gestureRecognizerList.forEach(function(e){e.reset()})},e.prototype.hasGesture=function(e){return this.__onGestures.indexOf(e)>=0},e.prototype.on=function(e,t,n){switch(e){case h.TAP:this.addGestureRecognizer(new _(n,t));break;case h.LONGTAP:this.addGestureRecognizer(new m(n,t));break;case h.DOUBLETAP:this.addGestureRecognizer(new y(n,t));break;case h.SWIPE:this.addGestureRecognizer(new v(n,t));break;case h.PINCHZOOM:this.addGestureRecognizer(new M(t));break;case h.PINCH5:this.addGestureRecognizer(new b(t))}},e.prototype.destroy=function(){this.__setTarget(null)},e}();n.GestureManager=w,function(e){e.TAP="tap",e.LONGTAP="longtap",e.DOUBLETAP="doubletap",e.SWIPE="swipe",e.PINCHZOOM="pinchzoom",e.PINCH5="pinch5"}(h=n.GestureName||(n.GestureName={})),cc._RF.pop()},{}],GoldMgr:[function(e,t,n){"use strict";cc._RF.push(t,"89b413d8XpIoZVX5uttufSJ","GoldMgr");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../control/NodePoolMgr"),i=cc._decorator,r=i.ccclass,s=(i.property,function(){}(),function(){function e(){}var t;return t=e,e.push=function(e){e.stopAllActions();var n={node:e,data:{randX:30*Math.random()-15,randY:13*Math.random()+12,isUnder:!1,died:!1}};t.goldArr.push(n)},e.update=function(){var e=this,n=t.targetNode.getPosition(),o=n.x-t.targetNode.width/2,i=n.x+t.targetNode.width/2;t.goldArr.forEach(function(r,s){var c=r.node,l=r.data;if(l.died)t.goldArr.splice(s,1);else{if((c.x>=351||c.x<=-351)&&(l.randX=-l.randX),l.isUnder||(c.x+=l.randX),!l.isUnder&&l.randY<0){l.isUnder=!0;var u=.5*Math.random()+.6,d=c.y+(n.y-c.y)*Math.random(),f=c.x+(n.x-c.x)*Math.random(),p=cc.v2(f,d),h=[c.position,p,n],g=cc.bezierTo(u,h);c.runAction(cc.sequence(g,cc.callFunc(function(){c&&(l.died=!0,c.stopAllActions(),a.default.instance.recycleNodePool(t.goldName,c))})))}else l.isUnder||(c.y+=l.randY,l.randY-=.7);if(c.y<=e.HERO_Y+170){var _=c.x-c.width/2,y=c.x+c.width/2;if(i>_&&o<y){l.died=!0;var m=new cc.Event.EventCustom(t.GOLD_COLLECT_EVENT,!0);if(c.dispatchEvent(m),c.stopAllActions(),0==t.goldNumLabelArr.length)t.addGoldNumLabel(2);else{var v=t.goldNumLabelArr[t.goldNumLabelArr.length-1];t.outGoldNumLabelArr.push(v),t.goldNumLabelArr.pop(),v.position=c.position,v.runAction(cc.sequence(cc.moveBy(.2,cc.v2(0,30)),cc.callFunc(function(){v.position=cc.v2(3e3,3e3),t.goldNumLabelArr.push(v),t.outGoldNumLabelArr.pop()})))}a.default.instance.recycleNodePool(t.goldName,c)}}}})},e.startUpdate=function(){t.timer=setTimeout(function(){t.update(),t.startUpdate()},16)},e.clear=function(){t.timer&&(clearTimeout(t.timer),t.timer=null),t.goldArr=[];for(var e=t.goldNumLabelArr.length-1;e>=0;e--)t.goldNumLabelArr[e].destroy();t.goldSpriteFrameArr=[],t.goldNumLabelArr=[],t.outGoldNumLabelArr=[],t.goldNumLabelPrefab=null},e.addGoldNumLabel=function(e){if(t.goldNumLabelPrefab)for(var n=0;n<e;n++){var o=cc.instantiate(t.goldNumLabelPrefab);o.position=cc.v2(3e3,3e3),o.getComponent(cc.Label).string=t.goldString,o.parent=t.targetNode.parent,t.goldNumLabelArr.push(o)}},e.updateGoldNumLabel=function(){t.outGoldNumLabelArr.forEach(function(e){e&&(e.getComponent(cc.Label).string=t.goldString)}),t.goldNumLabelArr.forEach(function(e,n){e&&(e.getComponent(cc.Label).string=t.goldString)})},e.goldArr=[],e.targetNode=null,e.goldName="gold",e.GOLD_COLLECT_EVENT="goldCollectEvent",e.goldNumLabelPrefab=null,e.goldSpriteFrameArr=null,e.goldNumLabelArr=[],e.outGoldNumLabelArr=[],e.HERO_Y=-290,e.timer=null,e.goldString=null,e=t=o([r],e)}());n.default=s,cc._RF.pop()},{"../../control/NodePoolMgr":"NodePoolMgr"}],GoldenEggReceive:[function(e,t,n){"use strict";cc._RF.push(t,"53e76u5p8hA47ED3dkFtGd9","GoldenEggReceive");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../gamecore/managers/GameManager"),r=e("../../gamecore/base/GameValues"),s=e("../../gamecore/wechat/WXRewardVideoAd"),c=e("../../gamecore/wechat/WXEventNames"),l=cc._decorator,u=l.ccclass,d=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.txtGoldNum=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.onReceive=function(e){},t.prototype.onCloseClickEvent=function(e){i.default.soundsManager.playTapSound(),this.onReceive(1)},t.prototype.onDestroy=function(){},t.prototype.rewardVideoBtnTouchHandler=function(e){i.default.soundsManager.playTapSound(),r.default.isDebug&&"undefined"==typeof wx?this.onReceive(3):s.default.isReady&&(i.default.eventManager.addEventListener(c.default.REWARD_VIDEO_AD_CLOSE,this.rewardVideoEventsHandler,this),i.default.eventManager.addEventListener(c.default.REWARD_VIDEO_AD_ERROR,this.rewardVideoEventsHandler,this),i.default.eventManager.addEventListener(c.default.REWARD_VIDEO_AD_COMPLETE,this.rewardVideoEventsHandler,this),s.default.show())},t.prototype.rewardVideoEventsHandler=function(e){i.default.eventManager.removeEventListener(c.default.REWARD_VIDEO_AD_CLOSE,this.rewardVideoEventsHandler,this),i.default.eventManager.removeEventListener(c.default.REWARD_VIDEO_AD_ERROR,this.rewardVideoEventsHandler,this),i.default.eventManager.removeEventListener(c.default.REWARD_VIDEO_AD_COMPLETE,this.rewardVideoEventsHandler,this),e.type==c.default.REWARD_VIDEO_AD_COMPLETE&&this.onReceive(3)},t.prototype.onShareClickEvent=function(e){i.default.soundsManager.playTapSound(),console.log("\u5206\u4eab",'=="\u5206\u4eab"==')},a([d(cc.Label)],t.prototype,"txtGoldNum",void 0),t=a([u],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../gamecore/base/GameValues":"GameValues","../../gamecore/managers/GameManager":"GameManager","../../gamecore/wechat/WXEventNames":"WXEventNames","../../gamecore/wechat/WXRewardVideoAd":"WXRewardVideoAd"}],GoldenEgg:[function(e,t,n){"use strict";cc._RF.push(t,"215bbGm0BRDSYVuHe25Sfa1","GoldenEgg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../gamecore/wechat/WXDevice"),r=e("../../gamecore/wechat/WXBannerAd"),s=e("../../gamecore/managers/GameManager"),c=e("../../module/data/StageDataMgr"),l=e("../../control/valuecount/MaxCount"),u=e("../stageMode/bullet/BulletMgr"),d=e("../../gamecore/deer/DeerSDK"),f=e("../../AndroidAd"),p=cc._decorator,h=p.ccclass,g=p.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progress=null,t.btnHammer=null,t.btnClose=null,t.egg=null,t.goldenEggReceivePanelPrefab=null,t.progressNum=0,t._touchIntervalTime=0,t}return o(t,e),t.prototype.onLoad=function(){var e=this;this.progressNum=0,this.progress.progress=this.progressNum,this.btnHammer.on(cc.Node.EventType.TOUCH_END,this.onHitClickEvent,this),this.btnClose.on(cc.Node.EventType.TOUCH_END,this.onCloseClickEvent,this),this.btnClose.active=!1,this.scheduleOnce(function(){e.btnClose.active=!0},2)},t.prototype.start=function(){this.schedule(this.updateProgressInfo,0,cc.macro.REPEAT_FOREVER)},t.prototype.updateProgressInfo=function(){var e=this;if(this.progressNum>=.85){this.unschedule(this.updateProgressInfo),this.progressNum=1,c.default.GOLDEN_EGG_GOLD_NUM=l.default.instance.formatCoid(c.default.GOLDEN_EGG_PRCIE*u.default.BULLET_ATTACK_NUM.value,u.default.BULLET_ATTACK_NUM.unit),this.egg.setAnimation(0,"idle",!1),i.default.vibrateLong();var t=d.default.instance.game_config;t&&t.videoSafeuserRate>=Math.random()?this.watchVideo():(r.default.currentAd&&r.default.currentAd.show(),this.scheduleOnce(function(){e.onCloseClickEvent(null)},4))}else this.progressNum<=.01?(this.progressNum=0,r.default.currentAd&&r.default.currentAd.isShowing&&r.default.currentAd.hide()):(this.progressNum-=.001,r.default.currentAd&&r.default.currentAd.isShowing&&r.default.currentAd.hide());this.progress.node.getChildByName("bar").setContentSize(this.progress.node.getChildByName("bar").getContentSize().width,555*this.progressNum)},t.prototype.watchVideo=function(){var e=this;f.default.instance.showReward(function(){e.onCloseClickEvent(null)})},t.prototype.onHitClickEvent=function(e){var t=(new Date).getTime();if(!(t-this._touchIntervalTime<90)){s.default.soundsManager.playTapSound(),this._touchIntervalTime=t;var n=0;this.progressNum>=1||(this.progressNum<.55?n=.1:this.progressNum<.7?n=.03:this.progressNum<.8?n=.027:this.progressNum<1&&(n=.018),i.default.vibrateShort(),this.progressNum+=n)}},t.prototype.onCloseClickEvent=function(e){e&&s.default.soundsManager.playTapSound(),r.default.currentAd&&r.default.currentAd.hide();var t=cc.instantiate(this.goldenEggReceivePanelPrefab);this.node.destroy(),cc.find("Canvas").addChild(t)},t.prototype.onDestroy=function(){this.unschedule(this.updateProgressInfo)},a([g(cc.ProgressBar)],t.prototype,"progress",void 0),a([g(cc.Node)],t.prototype,"btnHammer",void 0),a([g(cc.Node)],t.prototype,"btnClose",void 0),a([g(sp.Skeleton)],t.prototype,"egg",void 0),a([g(cc.Prefab)],t.prototype,"goldenEggReceivePanelPrefab",void 0),t=a([h],t)}(cc.Component);n.default=_,cc._RF.pop()},{"../../AndroidAd":"AndroidAd","../../control/valuecount/MaxCount":"MaxCount","../../gamecore/deer/DeerSDK":"DeerSDK","../../gamecore/managers/GameManager":"GameManager","../../gamecore/wechat/WXBannerAd":"WXBannerAd","../../gamecore/wechat/WXDevice":"WXDevice","../../module/data/StageDataMgr":"StageDataMgr","../stageMode/bullet/BulletMgr":"BulletMgr"}],GuideEventName:[function(e,t,n){"use strict";cc._RF.push(t,"12331QJ2+VHdbGNiXy1wlC0","GuideEventName");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e.GUIDE_SUCCEED="guidesucceed",e.GUIDE_CLOSE="guideclose",e=o([i],e)}());n.default=r,cc._RF.pop()},{}],GuideNewControl:[function(e,t,n){"use strict";cc._RF.push(t,"317ecXZVZ9DqoKhLZSOAkxK","GuideNewControl");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../gamecore/managers/GameManager"),r=e("./GuideEventName"),s=e("./GuideNodeManage"),c=e("../../module/data/MainDataMgr"),l=e("../../control/GameConfig"),u=e("../../GameUtils"),d=cc._decorator,f=d.ccclass,p=d.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mask=null,t.text=null,t.maskbg=null,t.finger=null,t.black=null,t}return o(t,e),t.prototype.onLoad=function(){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,i.default.eventManager.addEventListener(r.default.GUIDE_CLOSE,this.closeGuide,this)},t.prototype.start=function(){},t.prototype.init=function(e,t,n){s.default.Interest.setNodes(this.node,e);var o=null;if(void 0!=n){this.mask.width=n.width,this.mask.height=n.height;var a=n.convertToWorldSpaceAR(cc.v2(0,0));o=this.node.convertToNodeSpaceAR(a),this.mask.position=o}switch(e){case"guide1":this.text.string=t,this.text.node.y=o.y+n.height;break;case"guide2":u.default.buriedPoint(36),this.finger.active=!0,this.text.string=t,this.text.node.y=this.finger.y-this.finger.height,this.mask.active=!1,this.black.active=!0,this.black.on(cc.Node.EventType.TOUCH_END,this.closeGuide,this);break;case"guide3":u.default.buriedPoint(37),this.text.string=t,this.text.node.y=o.y-n.height,this.finger.active=!0,this.finger.position=cc.v2(n.width/2-this.finger.width/2+o.x-60,n.height/2-this.finger.height/2+o.y-30);break;case"guide4":this.finger.active=!0,this.text.string=t,this.text.node.y=o.y+n.height,this.finger.position=cc.v2(n.width/2-this.finger.width/2+o.x,n.height/2-this.finger.height/2+o.y-70);break;case"guide5":u.default.buriedPoint(39),this.finger.active=!0,this.text.string=t,this.text.node.y=o.y+n.height+50,this.finger.position=cc.v2(n.width/2-this.finger.width/2+o.x,n.height/2-this.finger.height/2+o.y-70),this.maskbg.on(cc.Node.EventType.TOUCH_END,this.endGuide,this);break;case"guide6":u.default.buriedPoint(40,"\u901a\u8fc7\u6307\u5f152"),this.text.string=t,this.text.node.y=o.y-n.height-50,this.finger.active=!0,this.finger.position=cc.v2(n.width/2-this.finger.width/2+o.x,n.height/2-this.finger.height/2+o.y-70);break;case"guide7":this.text.string=t,this.text.node.y=o.y-n.height+300,this.finger.active=!0,this.finger.position=cc.v2(n.width/2-this.finger.width/2+o.x,n.height/2-this.finger.height/2+o.y-70);break;case"guide8":this.text.string=t,this.text.node.y=o.y-n.height+300,this.finger.active=!0,this.finger.position=cc.v2(n.width/2-this.finger.width/2+o.x-30,n.height/2-this.finger.height/2+o.y-70)}},t.prototype.endGuide=function(){0==c.default.instance.getData(c.default.KEY_RESET_GUIDE)&&1==l.default.instance.startguide2&&(c.default.instance.setData(c.default.KEY_RESET_GUIDE,!0),this.closeGuide(),u.default.buriedPoint(40,"\u91cd\u7f6e\u6307\u5f15 \u7b2c\u4e8c\u6b65\u7ed3\u675f"))},t.prototype.closeGuide=function(){this.node.destroy()},t.prototype.onDestroy=function(){i.default.eventManager.removeEventListener(r.default.GUIDE_CLOSE,this.closeGuide,this)},a([p(cc.Node)],t.prototype,"mask",void 0),a([p(cc.RichText)],t.prototype,"text",void 0),a([p(cc.Node)],t.prototype,"maskbg",void 0),a([p(cc.Node)],t.prototype,"finger",void 0),a([p(cc.Node)],t.prototype,"black",void 0),t=a([f],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../GameUtils":"GameUtils","../../control/GameConfig":"GameConfig","../../gamecore/managers/GameManager":"GameManager","../../module/data/MainDataMgr":"MainDataMgr","./GuideEventName":"GuideEventName","./GuideNodeManage":"GuideNodeManage"}],GuideNodeControl:[function(e,t,n){"use strict";cc._RF.push(t,"1fbc0j5/stFP7pL17+u+6Ci","GuideNodeControl");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.key="",t.conetnt="",t}return o(t,e),t.prototype.start=function(){},a([s()],t.prototype,"key",void 0),a([s()],t.prototype,"conetnt",void 0),t=a([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],GuideNodeManage:[function(e,t,n){"use strict";cc._RF.push(t,"73efaiSPXVKW4su+ON4hK+X","GuideNodeManage");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){this.Nodes={}}var t;return t=e,Object.defineProperty(e,"Interest",{get:function(){return this.data},enumerable:!0,configurable:!0}),e.prototype.setNodes=function(e,t){this.Nodes[t]=e},e.prototype.getNodes=function(e){return this.Nodes[e]},e.data=new t,e=t=o([i],e)}());n.default=r,cc._RF.pop()},{}],HeroBasics:[function(e,t,n){"use strict";cc._RF.push(t,"834cfmymXdCcYFGFmlpq1TL","HeroBasics");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e=o([i],e)}());n.default=r,cc._RF.pop()},{}],HeroMgr:[function(e,t,n){"use strict";cc._RF.push(t,"b9b97Udu7xFvZzDUusVl1yQ","HeroMgr");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e.HERO_SPEED=3.5,e.DEFAULT_HERO_SPEED=3.5,e.wuqiNode=null,e=o([i],e)}());n.default=r,cc._RF.pop()},{}],HeroUpgradeInfo:[function(e,t,n){"use strict";cc._RF.push(t,"08111sHVjJP0qQQktUfeBFF","HeroUpgradeInfo");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e=o([i],e)}());n.default=r,cc._RF.pop()},{}],Hero:[function(e,t,n){"use strict";cc._RF.push(t,"b7329d5XalEO7/4Y+zLZXj2","Hero");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./HeroMgr"),r=e("../../control/GameConfig"),s=e("../../module/data/StageDataMgr"),c=e("./bullet/BulletMgr"),l=cc._decorator,u=l.ccclass,d=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero=null,t.footSmoke=null,t.weaponSprite=null,t.endPosX=null,t.startPosX=null,t.moveToLeft=!1,t.resName=null,t}return o(t,e),t.prototype.onLoad=function(){this.node.x=0,this.updateInfo()},t.prototype.updateInfo=function(e){var t=this;this.resName=e||r.default.instance.getCurRoleSKinInfo().imageId,cc.loader.loadRes("actions/hero/"+this.resName,sp.SkeletonData,function(e,n){e?console.log(e):(t.hero.skeletonData=n,t.initWeapon())})},t.prototype.start=function(){this.endPosX=this.node.parent.width/2-this.node.width/2,this.startPosX=-this.node.parent.width/2+this.node.width/2},t.prototype.heroRun=function(){var e=0==c.default.shootType?"idle0":"idle1";this.hero.addAnimation(0,e,!0)},t.prototype.heroShoot=function(){var e=0==c.default.shootType?"attack0":"attack1";this.hero.setAnimation(0,e,!1),this.heroRun()},t.prototype.initWeapon=function(e){var t="";if(t=void 0!=e?e+"":s.default.TRYOUT_WEAPON_ID?s.default.TRYOUT_WEAPON_ID+"":s.default.CUR_WEAPON_ID+"",cc.sys.isNative){if(!this.weaponSprite)return;this.weaponSprite.node.active=!1;var n="textures/weapon/"+t,o=this;cc.loader.loadRes(n,cc.SpriteFrame,function(e,n){if(n){o.weaponSprite.spriteFrame=n;var a={8001:{x:-57,y:13,rot:-60},8002:{x:-37,y:3,rot:0},8003:{x:-50,y:-1,rot:-60},8004:{x:-54,y:9,rot:-60},8005:{x:-63,y:10,rot:25},8006:{x:-59,y:11,rot:-60},8007:{x:-57,y:-5,rot:-75},8008:{x:-52,y:5,rot:-65},8009:{x:-52,y:5,rot:-65},8010:{x:-41,y:6,rot:-20},8011:{x:-64,y:14,rot:-60},8012:{x:-52,y:-3,rot:-60},8013:{x:-46,y:-7,rot:-75},8014:{x:-46,y:-7,rot:-75},8015:{x:-46,y:-7,rot:-75},8016:{x:-46,y:-7,rot:-75},8017:{x:-40,y:-2,rot:-35},8018:{x:-45,y:-15,rot:-75},8019:{x:-45,y:-15,rot:-75},8020:{x:-60,y:7,rot:120},8021:{x:-60,y:7,rot:-60}};o.weaponSprite.node.x=a[t].x,o.weaponSprite.node.y=a[t].y,o.weaponSprite.node.rotation=a[t].rot,o.weaponSprite.node.active=!0}})}else{this.weaponSprite&&(this.weaponSprite.node.active=!1);var a=this.hero.findBone("wuqi");a.x=24,a.y=64;var r=this.hero.findSlot("weapon0"),c=i.default.wuqiNode.getComponent(sp.Skeleton).getAttachment("8001",t);r.setAttachment(c)}},t.prototype.heroIdle=function(){this.hero.setAnimation(0,"stand",!0),this.footSmoke.opacity=0},t.prototype.updateFootSmoke=function(){var e=this,t=this.node.position.x+(1==this.moveToLeft?110:-110);this.footSmoke.scaleX=this.moveToLeft?1:-1,this.footSmoke.position=cc.v2(t,this.footSmoke.y),this.footSmoke.runAction(cc.sequence(cc.callFunc(function(){e.footSmoke.opacity=255}),cc.delayTime(.2),cc.callFunc(function(){e.footSmoke.opacity=0})))},a([d(sp.Skeleton)],t.prototype,"hero",void 0),a([d(cc.Node)],t.prototype,"footSmoke",void 0),a([d(cc.Sprite)],t.prototype,"weaponSprite",void 0),t=a([u],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../control/GameConfig":"GameConfig","../../module/data/StageDataMgr":"StageDataMgr","./HeroMgr":"HeroMgr","./bullet/BulletMgr":"BulletMgr"}],HotAdsPanelMain:[function(e,t,n){"use strict";cc._RF.push(t,"9013bQ5Ur9GeKJbY38ZxwPN","HotAdsPanelMain");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../gamecore/deer/DeerSDK"),r=e("../../gamecore/deer/DeerSDKEventNames"),s=e("../../gamecore/managers/GameManager"),c=e("../../gamecore/xiaoyaoji/XYJAPI"),l=cc._decorator,u=l.ccclass,d=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.adSprite=null,t.renewDelay=8,t.locationFlg="",t}return o(t,e),t.prototype.start=function(){this.node.active=!1,this._imageOriginalSize=new cc.Size(this.adSprite.node.width,this.adSprite.node.height),this.node.on(cc.Node.EventType.TOUCH_END,this.tapHandler,this),i.default.instance.isReady||c.default.userOpenID?this.loadAdData():i.default.instance.addEventListener(r.default.READY,this.sdkReadyHandler,this)},t.prototype.sdkReadyHandler=function(e){i.default.instance.removeEventListener(r.default.READY,this.sdkReadyHandler,this),this.loadAdData()},t.prototype.loadAdData=function(){var e=this;i.default.instance.ad_getAdData(i.DeerAdType.HOT,function(t){e.showAds(t)},null,this.locationFlg)},t.prototype.showAds=function(e){e&&(this._ads=e.concat(),this.next())},t.prototype.next=function(){var e=this;if(this._ads&&0!=this._ads.length){var t=this._ads.indexOf(this._currentData);t=(t+1)%this._ads.length,this.node.active=!0,this._currentData=this._ads[t];var n=this._currentData.icon;n&&cc.loader.load(n,function(t,n){console.log(t,n),n&&e.adSprite.node.runAction(cc.sequence(cc.fadeTo(.3,0),cc.callFunc(function(){e.adSprite.node.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n),e.adSprite.node.width=n.width,e.adSprite.node.height=n.height,e.adSprite.node.scaleX=e._imageOriginalSize.width/n.width,e.adSprite.node.scaleY=e._imageOriginalSize.height/n.height},e),cc.delayTime(.1),cc.fadeTo(.3,255)))}),this.unschedule(this.next),this._ads.length>1&&this.renewDelay>0&&this.scheduleOnce(this.next,this.renewDelay)}},t.prototype.tapHandler=function(e){this._currentData&&(s.default.soundsManager.playTapSound(),this._currentData.navigate(),this.next())},t.prototype.onDestroy=function(){i.default.instance.removeEventListener(r.default.READY,this.sdkReadyHandler,this)},a([d({type:cc.Sprite,displayName:"\u5e7f\u544a\u663e\u793aSprite"})],t.prototype,"adSprite",void 0),a([d({displayName:"\u8f6e\u64ad\u95f4\u9694(s)"})],t.prototype,"renewDelay",void 0),a([d({type:String,displayName:"\u4f4d\u7f6e\u6807\u8bc6"})],t.prototype,"locationFlg",void 0),t=a([u],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../gamecore/deer/DeerSDK":"DeerSDK","../../gamecore/deer/DeerSDKEventNames":"DeerSDKEventNames","../../gamecore/managers/GameManager":"GameManager","../../gamecore/xiaoyaoji/XYJAPI":"XYJAPI"}],IconAdBase:[function(e,t,n){"use strict";cc._RF.push(t,"bea17affLpHfrPeeZgdslJW","IconAdBase");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../gamecore/base/GameValues"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.adSprite=null,t.adNameLabel=null,t.enableEffect=!1,t._isFirstTimeShow=!0,t._needToRenew=!1,t}var n;return o(t,e),n=t,Object.defineProperty(t,"adPool",{set:function(e){e&&(n._adPool=e.concat())},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){this.enableEffect&&(this.node.opacity=0)},t.prototype.start=function(){this.adSprite||(this.adSprite=this.node.getComponent(cc.Sprite),this.adSprite||(this.adSprite=this.node.addComponent(cc.Sprite))),this._adOriginalHeight=this.adSprite.node.height,this._adOriginalWidth=this.adSprite.node.width,this.node.on(cc.Node.EventType.TOUCH_START,this.touchStartHandler,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEndHandler,this),this._data&&this.showAd(),"undefined"!=typeof wx&&wx.onShow(this.wxOnShowCallback.bind(this))},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data!=e&&(this._data=e,this.showAd())},enumerable:!0,configurable:!0}),t.prototype.touchStartHandler=function(e){this._touchStartPo=e.getLocationInView()},t.prototype.touchEndHandler=function(e){if(this._data){if(this._touchStartPo){var t=e.getLocationInView();if(Math.sqrt((t.x-this._touchStartPo.x)*(t.x-this._touchStartPo.x)+(t.y-this._touchStartPo.y)*(t.y-this._touchStartPo.y))>20)return}this._data.navigate()}},t.prototype.tryRenew=function(){this._needToRenew=!0},t.prototype.renew=function(){this._needToRenew=!1,n._adPool&&n._adPool.length>0&&(this.data=n._adPool[0])},t.prototype.showAd=function(){var e=this;if(this._isOnLoadCalled&&this._data)if(i.default.isToutiao&&this.data.spriteFrame){if(this.adSprite.spriteFrame=this.data.spriteFrame,this.adSprite.node.width=this._adOriginalWidth,this.adSprite.node.height=this._adOriginalHeight,this._isFirstTimeShow&&this.enableEffect){this._isFirstTimeShow=!1;var t=.1;this.data.index&&(t+=.1*this.data.index),this.node.scale=.8,this.node.opacity=1,this.node.runAction(cc.sequence(cc.delayTime(t),cc.spawn(cc.fadeTo(.5,255),cc.scaleTo(.5,1,1).easing(cc.easeBackOut()))))}}else if(cc.loader.load({url:this._data.icon,type:"png"},function(t,n){if(n&&(e.adSprite.spriteFrame=new cc.SpriteFrame(n),e.adSprite.node.width=e._adOriginalWidth,e.adSprite.node.height=e._adOriginalHeight,e._isFirstTimeShow&&e.enableEffect)){e._isFirstTimeShow=!1;var o=.1;e.data.index&&(o+=.1*e.data.index),e.node.scale=.8,e.node.opacity=1,e.node.runAction(cc.sequence(cc.delayTime(o),cc.spawn(cc.fadeTo(.5,255),cc.scaleTo(.5,1,1).easing(cc.easeBackOut()))))}e._data&&e._data.reportShown()}),this.adNameLabel&&(this.adNameLabel.string=""+this._data.name),n._adPool){var o=n._adPool.indexOf(this._data);n._adPool.splice(o,1)}},t.prototype.wxOnShowCallback=function(){this._needToRenew&&this.renew()},t.prototype.onDestroy=function(){"undefined"!=typeof wx&&wx.offShow(this.wxOnShowCallback.bind(this))},a([c({displayName:"\u5e7f\u544a\u56fe\u6807",type:cc.Sprite})],t.prototype,"adSprite",void 0),a([c({displayName:"\u5e7f\u544a\u540d\u79f0",type:cc.Label})],t.prototype,"adNameLabel",void 0),a([c({displayName:"\u5f00\u542f\u7f13\u52a8\u6548\u679c"})],t.prototype,"enableEffect",void 0),t=n=a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../../gamecore/base/GameValues":"GameValues"}],IphoneXFIt:[function(e,t,n){"use strict";cc._RF.push(t,"dc772Ecy3xHVagTxTECNqOr","IphoneXFIt");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.start=function(){},t=a([r],t)}(cc.Component));n.default=s,cc._RF.pop()},{}],ItemBase:[function(e,t,n){"use strict";cc._RF.push(t,"12de4lUZw5GT503c7HLEXLt","ItemBase");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../event/EventDispacher"),r=e("../GameManager"),s=e("../../GameCoreEventNames"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){var t=e.call(this)||this;return t._isUsed=!1,r.default.eventManager.addEventListener(s.default.ITEM_USED,t.itemUseHandler,t),t}return o(t,e),t.prototype.itemUseHandler=function(e){e.data==this&&(this.useItem(),this._isUsed=!0,this.destroy())},Object.defineProperty(t.prototype,"property",{get:function(){return this._prop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"desc",{get:function(){return this._desc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isUsed",{get:function(){return this._isUsed},enumerable:!0,configurable:!0}),t.prototype.useItem=function(){},t.prototype.destroy=function(){r.default.eventManager.removeEventListener(s.default.ITEM_USED,this.itemUseHandler,this)},t=a([l],t)}(i.default));n.default=u,cc._RF.pop()},{"../../GameCoreEventNames":"GameCoreEventNames","../GameManager":"GameManager","../event/EventDispacher":"EventDispacher"}],ItemManager:[function(e,t,n){"use strict";cc._RF.push(t,"4bf59H9GfRAO7IC7tU9MuAh","ItemManager");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../GameManager"),i=e("../../GameCoreEventNames"),r=e("./ItemProp"),s=cc._decorator,c=s.ccclass,l=(s.property,function(){function e(){this._itemFactor=null,this._allItems=[],this._inGameItemUsedCount={},this._itemUsedCountTotal={},this._timeOut=-1}return Object.defineProperty(e.prototype,"itemFactor",{set:function(e){if(null!=this._itemFactor)throw new Error("\u8bf7\u52ff\u91cd\u590d\u8bbe\u7f6e\u9053\u5177\u5de5\u5382\u65b9\u6cd5");this._itemFactor=e,this.unserializeData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allItems",{get:function(){return this._allItems.concat()},enumerable:!0,configurable:!0}),e.prototype.getItemsByName=function(e){var t=[];return this._allItems.forEach(function(n){n.name==e&&t.push(n)}),t},e.prototype.getItemCount=function(e){var t=0;return this._allItems.forEach(function(n){n.type==e&&t++}),t},e.prototype.getItemUsedCountInGame=function(e){var t;return void 0!=this._inGameItemUsedCount[e]&&(t=this._inGameItemUsedCount[e]),(isNaN(t)||t<0)&&(t=0),t},e.prototype.getItemUsedCountTotal=function(e){var t;return void 0!=this._itemUsedCountTotal[e]&&(t=this._itemUsedCountTotal[e]),(isNaN(t)||t<0)&&(t=0),t},e.prototype.getAItemByType=function(e){for(var t=0,n=this._allItems.length;t<n;t++){var o=this._allItems[t];if(o.type==e)return o}return null},e.prototype.useItem=function(e){if(e.isUsed)throw new Error("This item had been used!");var t=this._allItems.indexOf(e);if(-1!=t){var n=e.type,o=this._inGameItemUsedCount[n];(isNaN(o)||o<0)&&(o=0),this._inGameItemUsedCount[n]=o+1,o=this._itemUsedCountTotal[n],(isNaN(o)||o<0)&&(o=0),this._itemUsedCountTotal[n]=o+1,this._allItems.splice(t,1),a.default.eventManager.dispatchEventWith(i.default.ITEM_USED,e),e.destroy(),this.doSerializeLater()}},e.prototype.useItemByType=function(e){var t=this.getAItemByType(e);t&&this.useItem(t)},e.prototype.addItem=function(e){if(e.isUsed)throw new Error("This item had been used!");e&&e.property!=r.ItemProp.ABSTRACT&&-1==this._allItems.indexOf(e)&&(this._allItems.push(e),a.default.eventManager.dispatchEventWith(i.default.ITEM_ADDED,e),this.doSerializeLater())},e.prototype.removeItem=function(e){if(e.isUsed)throw new Error("This item had been used!");var t=this.allItems.indexOf(e);-1!=t&&(this._allItems.splice(t,1),e.destroy(),a.default.eventManager.dispatchEventWith(i.default.ITEM_REMOVED,e),this.doSerializeLater())},e.prototype.gameOver=function(){for(var e=0;e<this._allItems.length;e++){this._allItems[e].type==r.ItemProp.IN_GAME&&(this._allItems.splice(e,1),e--)}this._inGameItemUsedCount={},this.doSerializeLater()},e.prototype.doSerializeLater=function(){this._timeOut>=0&&clearTimeout(this._timeOut),this._timeOut=setTimeout(function(){a.default.itemManager.serializeData()},5e3)},e.prototype.serializeData=function(){var e=[];this._allItems.forEach(function(t){e.push(t.type)}),a.default.dataManager.setData("__im_items",{items:e},!0)},e.prototype.unserializeData=function(){var e=this;if(null!=this._itemFactor&&!0!==this._unserialized){this._unserialized=!0;var t=a.default.dataManager.getData("__im_items");if(t){var n=t.items;n&&0!=n.length&&n.forEach(function(t){var n=e._itemFactor.call(null,t);n&&e.addItem(n)})}}},e=o([c],e)}());n.default=l,cc._RF.pop()},{"../../GameCoreEventNames":"GameCoreEventNames","../GameManager":"GameManager","./ItemProp":"ItemProp"}],ItemProp:[function(e,t,n){"use strict";cc._RF.push(t,"694417d15RL+KVXO56auIK+","ItemProp"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator;o.ccclass,o.property;(function(e){e[e.ABSTRACT=1]="ABSTRACT",e[e.GLOBAL=2]="GLOBAL",e[e.IN_GAME=4]="IN_GAME"})(n.ItemProp||(n.ItemProp={})),cc._RF.pop()},{}],JRTT:[function(e,t,n){"use strict";cc._RF.push(t,"372d9M0aSZM+qu8kvylPS33","JRTT"),Object.defineProperty(n,"__esModule",{value:!0}),n.JRTT_init=function(){new Date,"undefined"!=typeof tt&&(window.wx=tt,tt.getMenuButtonBoundingClientRect=tt.getMenuButtonLayout,wx.createUserInfoButton=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return console.log("------\u3010JRTT\u3011 createUserInfoButton-------"),console.log(e),null})},cc._RF.pop()},{}],Load:[function(e,t,n){"use strict";cc._RF.push(t,"61c8eJmtFhAB5BeCiozPpoI","Load");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../GameSystem"),r=e("../module/meta/PBManager"),s=e("../control/GameConfig"),c=e("../control/GameMetaManage"),l=e("../module/data/MainDataMgr"),u=e("../module/data/StageDataMgr"),d=e("./stageMode/StageBackground"),f=e("../gamecore/deer/DeerSDK"),p=e("../gamecore/base/SyncDataToWXCloud"),h=e("./stageMode/HeroMgr"),g=cc._decorator,_=g.ccclass,y=g.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progre=null,t.tip=null,t.wuqi=null,t.stageBackground=null,t.resIndex=0,t.totalResIndex=5,t._isLoadingScene=!1,t}return o(t,e),t.prototype.onLoad=function(){console.log("--------\u8fdb\u5165\u6e38\u620f----------"),cc.debug.setDisplayStats(!1),l.default.startLoadTime=(new Date).getTime(),l.default.subpkgLoaded=!0,this.resIndex++,console.log("[onLoad]this.resIndex, this.totalResIndex",this.resIndex,this.totalResIndex);for(var e=0;e<this.tip.childrenCount;e++)this.tip.children[e].getComponent(cc.Label).string="";this.init()},t.prototype.init=function(){console.log("--------init----------"),i.default.init(),this.loadGameMetaJson(),this.continue(),this.resIndex++,console.log("[init]this.resIndex, this.totalResIndex",this.resIndex,this.totalResIndex),this.deerSdkInitEvent(),this.initPrefabs()},t.prototype.loadGameMetaJson=function(){var e=this;cc.loader.loadRes("json/gameMeta.json",function(t,n){if(t)console.log("error while read "+this.json+", "+t);else{var o=n.json;console.warn(o),e.pbCallBack(o)}})},t.prototype.pbCallBack=function(e){null==s.default.instance.gameMeta&&(s.default.instance.gameMeta=e,c.default.instance.initGameData(),l.default.instance.loadTime.pbTime=(new Date).getTime()-l.default.startLoadTime,this.resIndex++,console.log("[pbCallBack]this.resIndex, this.totalResIndex",this.resIndex,this.totalResIndex))},t.prototype.continue=function(){cc.director.preloadScene("stageModeScene")},t.prototype.update=function(e){this.progre.progress=this.resIndex/(this.totalResIndex+1)},t.prototype.loadScene=function(e){var t=this;console.log("loadScene",e,this._isLoadingScene),this._isLoadingScene||(this._isLoadingScene=!1,s.default.instance.lastscene="loading",s.default.instance.nowscene=e,console.log("loadScene go",e),cc.director.loadScene(e,function(n){console.log("loadScene info",n),t._isLoadingScene=!1,n?t.loadScene(e):(l.default.instance.setData(l.default.KEY_NEW_PLAYER,!1),c.default.instance.setGameData())}))},t.prototype.deerSdkInitEvent=function(){var e=this;if(f.default.instance.isNewUser){cc.director.preloadScene("stageModeScene");var t=function(){if(r.default.instance.isReady){e.unschedule(t),c.default.instance.initUserData(),l.default.BACKGROUND_NODE.getComponent(d.default).curBgIndex=s.default.instance.getMonsterInfo().bgId,l.default.BACKGROUND_NODE.getComponent(d.default).updateSpfm();var n=s.default.instance.getNowEquipWeapon();u.default.CUR_WEAPON_ID=n.id,e.loadScene("stageModeScene")}};this.schedule(t,.1,cc.macro.REPEAT_FOREVER)}else{var n=function(){if(console.log("[func] this.resIndex, this.totalResIndex",e.resIndex,e.totalResIndex),console.log("[func] cc.sys.platform, cc.sys.WECHAT_GAME",cc.sys.platform,cc.sys.WECHAT_GAME),console.log("[func] SyncDataToWXCloud.instance.isReady",p.default.instance.isReady),e.resIndex>=e.totalResIndex||cc.sys.platform!==cc.sys.WECHAT_GAME&&e.resIndex>=e.totalResIndex){e.unschedule(n);var t=l.default.instance.getData(l.default.KEY_IS_NEW_USER);0==t&&1==l.default.instance.getData(l.default.KEY_NEW_PLAYER)?c.default.instance.initUserData():0==t&&c.default.instance.initUserData();try{l.default.BACKGROUND_NODE.getComponent(d.default).curBgIndex=s.default.instance.getMonsterInfo().bgId,l.default.BACKGROUND_NODE.getComponent(d.default).updateSpfm();var o=s.default.instance.getNowEquipWeapon();u.default.CUR_WEAPON_ID=o.id}catch(e){c.default.instance.initUserData()}e.loadScene("stageModeScene")}};this.schedule(n,.2,cc.macro.REPEAT_FOREVER),l.default.instance.loadTime.dsdkTime=(new Date).getTime()-l.default.startLoadTime,this.resIndex++,console.log("[deerSdkInitEvent]this.resIndex, this.totalResIndex",this.resIndex,this.totalResIndex)}},t.prototype.initPrefabs=function(){h.default.wuqiNode||(h.default.wuqiNode=this.wuqi,h.default.wuqiNode.removeFromParent()),l.default.BACKGROUND_NODE||(l.default.BACKGROUND_NODE=this.stageBackground,l.default.BACKGROUND_NODE.removeFromParent(),l.default.BACKGROUND_NODE.active=!0),this.resIndex++,console.log("[initPrefabs]this.resIndex, this.totalResIndex",this.resIndex,this.totalResIndex)},a([y(cc.ProgressBar)],t.prototype,"progre",void 0),a([y(cc.Node)],t.prototype,"tip",void 0),a([y(cc.Node)],t.prototype,"wuqi",void 0),a([y(cc.Node)],t.prototype,"stageBackground",void 0),t=a([_],t)}(cc.Component);n.default=m,cc._RF.pop()},{"../GameSystem":"GameSystem","../control/GameConfig":"GameConfig","../control/GameMetaManage":"GameMetaManage","../gamecore/base/SyncDataToWXCloud":"SyncDataToWXCloud","../gamecore/deer/DeerSDK":"DeerSDK","../module/data/MainDataMgr":"MainDataMgr","../module/data/StageDataMgr":"StageDataMgr","../module/meta/PBManager":"PBManager","./stageMode/HeroMgr":"HeroMgr","./stageMode/StageBackground":"StageBackground"}],MainBg:[function(e,t,n){"use strict";cc._RF.push(t,"48de5GnNgBJ5KuBsRgDhrLL","MainBg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.topBg=null,t.bottomBg=null,t.cloudBg=null,t.houseBg=null,t.midBg=null,t.mountainBg=null,t.carBg=null,t.leaf=null,t.smoke=null,t.shineNode=null,t.curBgIndex="",t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.cloudBg.runAction(cc.repeatForever(cc.sequence(cc.moveTo(3,cc.v2(50,this.cloudBg.y)),cc.moveTo(6,cc.v2(-50,this.cloudBg.y)),cc.moveTo(6,cc.v2(50,this.cloudBg.y)))))},t.prototype.updateBg=function(e){this.curBgIndex=e,this.setSpfm(this.topBg,"topBg"),this.setSpfm(this.bottomBg,"bottomBg"),this.setSpfm(this.cloudBg,"cloudBg"),this.setSpfm(this.houseBg,"houseBg"),this.setSpfm(this.midBg,"midBg"),this.setSpfm(this.mountainBg,"mountainBg"),this.setSpfm(this.carBg,"carBg"),this.updateLeafEffect()},t.prototype.setSpfm=function(e,t){e.x=0,cc.loader.loadRes("textures/main/background/"+this.curBgIndex+"/"+t,cc.SpriteFrame,function(t,n){if(t)try{e.getComponent(cc.Sprite).spriteFrame=null}catch(e){}else try{e.getComponent(cc.Sprite).spriteFrame=n}catch(e){}})},t.prototype.updateLeafEffect=function(){switch(this.curBgIndex){case"bg_1001":case"bg_1002":this.leaf.active=!0,this.smokeActive(!1),this.shineNode.active=!1;break;case"bg_1003":this.leaf.active=!1,this.smokeActive(!0,cc.v2(-92,-105)),this.shineNode.active=!1;break;case"bg_1004":this.leaf.active=!1,this.smokeActive(!0,cc.v2(-25,-57)),this.shineNode.active=!1;break;case"bg_1007":case"bg_1008":case"bg_1009":case"bg_1010":this.leaf.active=!1,this.smokeActive(!1),this.shineNode.active=!0;break;default:this.leaf.active=!0,this.smokeActive(!1),this.shineNode.active=!1}},t.prototype.smokeActive=function(e,t){var n=this;void 0===t&&(t=null),e?cc.loader.loadResDir("animations/smoke1",cc.SpriteFrame,function(e,o){if(!e){n.smoke.stopAllActions(),n.smoke.active=!0;var a=0;try{n.smoke.position=t}catch(e){n.smoke.active=!1}n.smoke.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(){n.smoke.getComponent(cc.Sprite).spriteFrame=o[a],++a==o.length&&(a=0)}),cc.delayTime(.13))))}}):(this.smoke.active=!1,this.smoke.stopAllActions())},a([s(cc.Node)],t.prototype,"topBg",void 0),a([s(cc.Node)],t.prototype,"bottomBg",void 0),a([s(cc.Node)],t.prototype,"cloudBg",void 0),a([s(cc.Node)],t.prototype,"houseBg",void 0),a([s(cc.Node)],t.prototype,"midBg",void 0),a([s(cc.Node)],t.prototype,"mountainBg",void 0),a([s(cc.Node)],t.prototype,"carBg",void 0),a([s(cc.Node)],t.prototype,"leaf",void 0),a([s(cc.Node)],t.prototype,"smoke",void 0),a([s(cc.Node)],t.prototype,"shineNode",void 0),t=a([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],MainDataMgr:[function(e,t,n){"use strict";cc._RF.push(t,"8730fxZES5NQqM1uZA3lcai","MainDataMgr");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../gamecore/managers/GameManager"),i=cc._decorator,r=i.ccclass,s=(i.property,function(){function e(){this.userOffAward=0,this.userskininfo={},this.userweaponinfo={},this.offtime=0,this.signinrecord=[],this.viptime=0,this.isnewuser=!1,this.goldboxtime=0,this.resetguide=!1,this.resetcount=0,this.sharecount={},this.iswelfare=-1,this.newPlayer=!0,this.loadTime={v:1,totalTime:0,pbTime:0,xyjTime:0,cloudTime:0,dsdkTime:0,bgTime:0},this.loadTimeArr=[],this.roleSkinArr=[{id:0,state:1,equip:!0}]}var t;return t=e,Object.defineProperty(e,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastChangedKey",{get:function(){return this._lastChangedKey},enumerable:!0,configurable:!0}),e.prototype.setData=function(e,t,n){void 0===n&&(n=!1),this[e]=t,a.default.dataManager.setData(e,t,!0,n,!0)},e.prototype.getData=function(e){var t=a.default.dataManager.getData(e);return void 0==t||null==t?this[e]:t},e.KEY_USER_OFF_AWARD="userOffAward",e.KEY_USER_SKIN_INFO="userskininfo",e.KEY_USER_WEAPON_INFO="userweaponinfo",e.KEY_USER_SIGIN_RECORD="signinrecord",e.KEY_USER_OFF_TIME="offtime",e.KEY_USER_VIP_TIME="viptime",e.KEY_USER_GOLD_BOX_TIME="goldboxtime",e.KEY_IS_NEW_USER="isnewuser",e.KEY_RESET_GUIDE="resetguide",e.KEY_RESET_COUNT="resetcount",e.KEY_SHARE_COUNT="sharecount",e.KEY_WELFARE="iswelfare",e.KEY_NEW_PLAYER="newPlayer",e.KEY_LOAD_TIME="loadTime",e.KEY_LOAD_TIME_ARR="loadTimeArr",e.KEY_ROLE_SKIN_ARR="roleSkinArr",e.IS_FIRST_ENTER_MAINSCENE=!0,e.VIP_TIME=0,e.BOX_TIME=0,e.BACKGROUND_NODE=null,e.INTENSIFY_NODE=null,e.Buffer={},e.startLoadTime=0,e.subpkgLoaded=!1,e._instance=null,e=t=o([r],e)}());n.default=s;var c=function(){return function(){this.level=-1,this.isequip=!1}}();n.UserSkinInfo=c;var l=function(){return function(){this.harm=-1,this.bulle=-1,this.isequip=!1}}();n.UserWeaponInfo=l;var u=function(){return function(e,t,n){void 0===n&&(n=!1),this.id=e,this.state=t,this.equip=n}}();n.RoleSKinInfo=u,cc._RF.pop()},{"../../gamecore/managers/GameManager":"GameManager"}],MainFeedBack:[function(e,t,n){"use strict";cc._RF.push(t,"9657b8qReFCSJSK4F7E0yh0","MainFeedBack");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../gamecore/managers/GameManager"),r=e("../hall/PartBase"),s=e("../../gamecore/deer/DeerSDK"),c=e("../../GameUtils"),l=cc._decorator,u=l.ccclass,d=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wx_Edit=null,t.phone_Edit=null,t.question_Edit=null,t}return o(t,e),t.prototype.submitInfo=function(){i.default.soundsManager.playTapSound();var e=this.wx_Edit.string.trim(),t=this.phone_Edit.string.trim(),n=this.question_Edit.string.trim();""==e.trim()||""==n.trim()?c.default.showToast("\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a"):""!=t?this.saveFeedBackInfo(e,t,n):this.saveFeedBackInfo(e,"",n)},t.prototype.saveFeedBackInfo=function(e,t,n){var o=this;s.default.instance.sendFeedback({cellphone:n,wx:e,content:t},function(){c.default.showToast("\u63d0\u4ea4\u6210\u529f"),o.close()},function(){c.default.showToast("\u63d0\u4ea4\u5931\u8d25"),o.wx_Edit.string="",o.wx_Edit.string="",o.wx_Edit.string=""})},a([d(cc.EditBox)],t.prototype,"wx_Edit",void 0),a([d(cc.EditBox)],t.prototype,"phone_Edit",void 0),a([d(cc.EditBox)],t.prototype,"question_Edit",void 0),t=a([u],t)}(r.default);n.default=f,cc._RF.pop()},{"../../GameUtils":"GameUtils","../../gamecore/deer/DeerSDK":"DeerSDK","../../gamecore/managers/GameManager":"GameManager","../hall/PartBase":"PartBase"}],MainGlodNot:[function(e,t,n){"use strict";cc._RF.push(t,"e375bRute1K/6LDUHZPjfIb","MainGlodNot");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../hall/PartBase"),r=e("../../control/GameConfig"),s=e("../../control/valuecount/MaxCount"),c=e("../../GameUtils"),l=e("../../AndroidAd"),u=cc._decorator,d=u.ccclass,f=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coin=null,t.coins=null,t.nowcoin=null,t}return o(t,e),t.prototype.start=function(){this.setCoin(),this.init(),console.warn("\u6253\u5f00 MainGlodNot.ts"),l.default.instance.showNative()},t.prototype.setCoin=function(){this.nowcoin=r.default.instance.glodNotAward(),this.coin.string=s.default.instance.formatVlue(this.nowcoin)},t.prototype.getCoin=function(){var e=this;l.default.instance.showReward(function(){r.default.instance.saveCoin(e.nowcoin),e.showFlyGoldEvent(e.coins,cc.find("Canvas/leftnode/coinbg/goldtext")),c.default.showToast("Congrats on getting gold coins: "+s.default.instance.formatVlue(e.nowcoin)),e.close()})},t.prototype.onDestroy=function(){console.warn("\u5173\u95ed MainGlodNot.ts"),l.default.instance.hideNative(),l.default.instance.showBanner()},a([f(cc.Label)],t.prototype,"coin",void 0),a([f(cc.Node)],t.prototype,"coins",void 0),t=a([d],t)}(i.default);n.default=p,cc._RF.pop()},{"../../AndroidAd":"AndroidAd","../../GameUtils":"GameUtils","../../control/GameConfig":"GameConfig","../../control/valuecount/MaxCount":"MaxCount","../hall/PartBase":"PartBase"}],MainGoldBox:[function(e,t,n){"use strict";cc._RF.push(t,"41a8atnUr1OzY+VEtDIo++P","MainGoldBox");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../control/GameConfig"),r=e("../../gamecore/managers/GameManager"),s=e("../../control/valuecount/MaxCount"),c=e("../hall/PartBase"),l=e("../../module/data/MainDataMgr"),u=e("../../GameUtils"),d=e("../../AndroidAd"),f=cc._decorator,p=f.ccclass,h=(f.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nowcoin=null,t}return o(t,e),t.prototype.start=function(){this.init(),this.setCoin(),console.warn("\u6253\u5f00 MainGoldBox.ts"),d.default.instance.showNative()},t.prototype.addAward=function(){var e=this;l.default.BOX_TIME>0?u.default.showToast("Please wait for the countdown to end to claim the reward."):(u.default.buriedPoint(7),d.default.instance.showReward(function(){e.saveAward()}))},t.prototype.saveAward=function(){var e=i.default.instance.gameMeta.coinRewardMeta[0];r.default.soundsManager.playTapSound(),i.default.instance.saveCoin(this.nowcoin),u.default.showToast("Congrats on getting gold coins: "+s.default.instance.formatVlue(this.nowcoin)),l.default.instance.setData(l.default.KEY_USER_GOLD_BOX_TIME,e.time),l.default.BOX_TIME=e.time,this.showFlyGoldEvent(cc.find("Canvas/leftnode/award"),cc.find("Canvas/leftnode/coinbg/goldtext")),this.close()},t.prototype.setCoin=function(){var e=i.default.instance.gameMeta.coinRewardMeta[0],t=i.default.instance.getNowEquipWeapon(),n=i.default.instance.getHarmInfo(t.harm,i.default.instance.getWeaponMeae(t.id)).harm;this.nowcoin=s.default.instance.formatCoid(n.value*e.boxRewardNum/1e3,n.unit)},t.prototype.closeView=function(){this.close(),console.warn("\u5173\u95ed MainGoldBox.ts"),d.default.instance.hideNative(),d.default.instance.showBanner()},t=a([p],t)}(c.default));n.default=h,cc._RF.pop()},{"../../AndroidAd":"AndroidAd","../../GameUtils":"GameUtils","../../control/GameConfig":"GameConfig","../../control/valuecount/MaxCount":"MaxCount","../../gamecore/managers/GameManager":"GameManager","../../module/data/MainDataMgr":"MainDataMgr","../hall/PartBase":"PartBase"}],MainIntensifyMgr:[function(e,t,n){"use strict";cc._RF.push(t,"90218D8mB1FHpTSrxwgEoQw","MainIntensifyMgr");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../control/GameMetaManage"),i=e("../../control/GameConfig"),r=e("../../module/data/MainDataMgr"),s=cc._decorator,c=s.ccclass,l=(s.property,function(){function e(){}return e.checkWeaponRedPoint=function(){for(var e=!1,t=r.default.instance.getData(r.default.KEY_USER_WEAPON_INFO),n=0;n<a.default.instance.weaponinfos.length;n++){var o=a.default.instance.weaponinfos[n];if(!t[o.weaponid])if(!(i.default.instance.useCoin(o.cost).value<0)){e=!0;break}}return e},e.weaponSelectRect=null,e.weaponStar=null,e.commonLevelUp=null,e.skinSelectRect=null,e.skinStar=null,e.anniugao=null,e.buylayout=null,e.levelbg=null,e.lockbg=null,e.levelunbg=null,e.lockunbg=null,e=o([c],e)}());n.default=l,cc._RF.pop()},{"../../control/GameConfig":"GameConfig","../../control/GameMetaManage":"GameMetaManage","../../module/data/MainDataMgr":"MainDataMgr"}],MainIntensify:[function(e,t,n){"use strict";cc._RF.push(t,"b81b4ZsUaFF+o5BR7G96WTf","MainIntensify");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../gamecore/managers/Utils"),r=e("../../gamecore/managers/GameManager"),s=e("../../control/GameEventName"),c=e("../../control/GameMetaManage"),l=e("./intensify/SkinItem"),u=e("./intensify/WeaponItem"),d=e("../../control/GameConfig"),f=e("../../control/valuecount/MaxCount"),p=e("../../gamecore/GameCoreEventNames"),h=e("../../module/data/StageDataMgr"),g=e("../../control/valuecount/MaxValue"),_=e("../../module/data/MainDataMgr"),y=e("../../GameUtils"),m=e("../../gamecore/deer/DeerSDK"),v=e("./MainIntensifyMgr"),b=e("../guide/GuideEventName"),M=e("../../AndroidAd"),w=cc._decorator,E=w.ccclass,S=w.property,O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weapon=null,t.skin=null,t.privilege=null,t.pass=null,t.pass1=null,t.dimond=null,t.weaponpb=null,t.skinpb=null,t.bg=null,t.unbg=null,t.viptime=null,t.point1=null,t.point2=null,t.point3=null,t.guide=null,t.texiao=[],t.weaponContent=null,t.skinContent=null,t.bt1=null,t.anniugao=null,t.buylayout=null,t.levelbg=null,t.lockbg=null,t.levelunbg=null,t.lockunbg=null,t.isshowlength=!1,t.weaponcount=0,t.isskinlength=!1,t.isskincount=0,t.nowdimaon=new g.default(0,0),t.lastWeaponOffset=null,t.lastSkinOffset=null,t.nodewidth=0,t.nodeheight=0,t.extent=150,t.hasInited=!1,t.time=0,t}var n;return o(t,e),n=t,t.prototype.initRes=function(){v.default.anniugao=this.anniugao,v.default.buylayout=this.buylayout,v.default.levelbg=this.levelbg,v.default.lockbg=this.lockbg,v.default.levelunbg=this.levelunbg,v.default.lockunbg=this.lockunbg},t.prototype.onLoad=function(){this.initRes(),v.default.weaponSelectRect=this.weaponContent.getChildByName("wuqikuang"),v.default.weaponSelectRect.zIndex=-10,v.default.weaponStar=this.weaponContent.getChildByName("star"),v.default.weaponStar.zIndex=-10,v.default.commonLevelUp=this.weaponContent.getChildByName("levelup"),v.default.commonLevelUp.zIndex=10,v.default.skinSelectRect=this.skinContent.getChildByName("wuqikuang"),v.default.skinSelectRect.zIndex=-10,v.default.skinStar=this.skinContent.getChildByName("star"),v.default.skinStar.zIndex=-10,r.default.eventManager.addEventListener(p.default.DATA_CHANGE,this.onDataChange,this),r.default.eventManager.addEventListener(s.default.SHOW_WEAPON_TIP,this.showWeaponTip,this),r.default.eventManager.addEventListener(s.default.SHOW_SKIN_TIP,this.showSkinTip,this),r.default.eventManager.addEventListener(s.default.START_SCROLL,this.onStartScroll,this),r.default.eventManager.addEventListener(s.default.SHOW_VIP,this.onShowVip,this)},t.prototype.onShowVip=function(){this.onShowPrivilege(2)},t.prototype.onDataChange=function(e){e.data==h.default.KEY_CUR_STAGE_NUM&&this.refreshCustoms()},t.prototype.start=function(){var e=this;if(0==_.default.instance.getData(_.default.KEY_RESET_GUIDE)){var t=h.default.instance.getData(h.default.KEY_CUR_STAGE_NUM),n=c.default.instance.customsinfos[0].minresetcustoms,o=_.default.instance.getData(_.default.KEY_RESET_COUNT);n<t||o>0||this.onShowWeapon(2)}else this.onShowWeapon(2);this.scheduleOnce(function(){e.settingWeapon()},1),this.refreshCustoms()},t.prototype.onStartScroll=function(e){this.isScroll(!0,e.data),r.default.eventManager.removeEventListener(s.default.START_SCROLL,this.onStartScroll,this)},t.prototype.selected=function(e){var t=this.node.getChildByName("bg").getChildByName("toglee");switch(e){case 1:t.getChildByName("toggle1").getComponent(cc.Toggle).isChecked=!0;break;case 2:t.getChildByName("toggle2").getComponent(cc.Toggle).isChecked=!0;break;case 3:t.getChildByName("toggle3").getComponent(cc.Toggle).isChecked=!0}},t.prototype.showWeaponTip=function(e){var t=e.data;this.weaponcount++,1==t&&(this.isshowlength=!0),this.weaponcount>=c.default.instance.weaponinfos.length-1&&(this.isshowlength=!1,this.weaponcount=0)},t.prototype.showSkinTip=function(e){var t=e.data;this.isskincount++,1==t&&(this.isskinlength=!0);var n=c.default.instance.skininfo.length;this.isskincount>=n-1&&(this.point2.active=this.isskinlength,this.isskinlength=!1,this.isskincount=0)},t.prototype.refreshCustoms=function(){var e=d.default.instance.getCustoms();this.dimond.string="+"+f.default.instance.formatVlue(e.dimaon),this.nowdimaon=e.dimaon;var t=this.skin.getChildByName("bule").getChildByName("luck").getComponent(cc.Sprite),n=h.default.instance.getData(h.default.KEY_CUR_STAGE_NUM);c.default.instance.customsinfos[0].minresetcustoms<n?(t.spriteFrame=this.bg,this.pass.string="The more levels you pass",this.pass1.string="Reset to get more diamonds",this.point2.active=!0,this.skin.getChildByName("resethui").active=!1,this.skin.getChildByName("bule").getChildByName("stars").active=!0):(t.spriteFrame=this.unbg,this.point2.active=!1,this.skin.getChildByName("resethui").active=!0,this.skin.getChildByName("bule").getChildByName("stars").active=!1)},t.prototype.resetGame=function(){var e=h.default.instance.getData(h.default.KEY_CUR_STAGE_NUM);c.default.instance.customsinfos[0].minresetcustoms<e?(cc.loader.loadRes("prefabs/reset/resetgame",cc.Prefab,function(e,t){if(!e){var n=cc.director.getScene().children[0],o=cc.instantiate(t);n.addChild(o)}}),r.default.soundsManager.playSound("sound/reset")):(r.default.soundsManager.playSound("sound/cuowu"),y.default.showToast("This feature has not been unlocked")),y.default.buriedPoint(20)},t.prototype.updateWeaponOffset=function(){this.lastWeaponOffset&&this.weapon.getComponent(cc.ScrollView).scrollToOffset(cc.v2(this.lastWeaponOffset.x,-this.lastWeaponOffset.y-2.1*this.weaponpb.data.height),.1)},t.prototype.updateSkinOffset=function(){this.lastSkinOffset&&this.skin.getChildByName("skin").getComponent(cc.ScrollView).scrollToOffset(cc.v2(this.lastSkinOffset.x,-this.lastSkinOffset.y-1.5*this.weaponpb.data.height),.1)},t.prototype.settingWeapon=function(){var e=this;this.weapon.on(u.default.LOCATE_WEAPON_ITEM_EVENT,function(t){t&&t.stopPropagation(),e.lastWeaponOffset=t.detail,e.updateWeaponOffset()},this.weapon);for(var t=this.weapon.getChildByName("view").getChildByName("wecontent"),n=function(n){o.scheduleOnce(function(){var o=cc.instantiate(e.weaponpb);o.getComponent(u.default).init(c.default.instance.weaponinfos[n]),t.addChild(o)},.2*n)},o=this,a=0;a<c.default.instance.weaponinfos.length+3;a++)n(a);var i=this.skin.getChildByName("skin").getChildByName("view").getChildByName("content"),r=function(t){s.scheduleOnce(function(){var n=cc.instantiate(e.skinpb);n.getComponent(l.default).init(c.default.instance.skininfo[t]),i.addChild(n)},.2*t)},s=this;for(a=0;a<c.default.instance.skininfo.length;a++)r(a);this.skin.getChildByName("skin").on(u.default.LOCATE_WEAPON_ITEM_EVENT,function(t){t&&t.stopPropagation(),e.lastSkinOffset=t.detail,e.updateSkinOffset()},this.skin.getChildByName("skin"))},t.prototype.ininloca=function(e){if(!this.hasInited){this.hasInited=!0,this.nodewidth=this.node.width,i.default.isIphoneX?(this.nodeheight=this.node.height+this.extent,this.node.getChildByName("bg").height+=this.extent):this.nodeheight=this.node.height;var t=e.width/2+this.nodewidth*this.node.scale/2,n=e.height/2;this.node.position=cc.v2(t,n)}},t.prototype.isScroll=function(e,t){var n=null;switch(t){case 1:n=this.weapon.getComponent(cc.ScrollView);break;case 2:n=this.skin.getChildByName("skin").getComponent(cc.ScrollView)}n.vertical=e},t.prototype.shareOpenVip=function(){y.default.buriedPoint(22),y.default.instance.onShare(function(){var e=d.default.instance.gameMeta.vipMeta[0],t=_.default.instance.getData(_.default.KEY_USER_VIP_TIME);t+=e.time,_.default.instance.setData(_.default.KEY_USER_VIP_TIME,t),_.default.VIP_TIME=t,y.default.showToast("Privilege bonuses are on")})},t.prototype.playOpenVip=function(){y.default.buriedPoint(23);var e=d.default.instance.gameMeta.vipMeta[1];M.default.instance.showReward(function(){var t=_.default.instance.getData(_.default.KEY_USER_VIP_TIME);t+=e.time,_.default.instance.setData(_.default.KEY_USER_VIP_TIME,t),_.default.VIP_TIME=t,y.default.showToast("Privilege bonuses are on")})},t.prototype.onShowWeapon=function(e){void 0===e&&(e=1),2!=e&&r.default.soundsManager.playTapSound(),this.skin.active=!1,this.privilege.active=!1,this.weapon.active=!0,2!=e&&(this.texiao[0].node.active=!0,this.texiao[0].setAnimation(0,"idle",!1))},t.prototype.onShowSkin=function(e){void 0===e&&(e=1),2!=e&&r.default.soundsManager.playTapSound(),this.skin.active=!0,this.privilege.active=!1,this.weapon.active=!1,2!=e&&(this.texiao[1].node.active=!0,this.texiao[1].setAnimation(0,"idle",!1),y.default.buriedPoint(16))},t.prototype.onShowPrivilege=function(e){void 0===e&&(e=1),2!=e&&r.default.soundsManager.playTapSound(),0==m.default.instance.isOnline?y.default.showToast("Stay tuned"):(this.skin.active=!1,this.privilege.active=!0,this.weapon.active=!1,this.point3.active=!1),2!=e&&(this.texiao[2].node.active=!0,this.texiao[2].setAnimation(0,"idle",!1),y.default.buriedPoint(17))},t.prototype.onDestroy=function(){r.default.eventManager.removeEventListener(s.default.SHOW_VIP,this.onShowVip,this),r.default.eventManager.removeEventListener(s.default.SHOW_WEAPON_TIP,this.showWeaponTip,this),r.default.eventManager.removeEventListener(s.default.SHOW_SKIN_TIP,this.showSkinTip,this),r.default.eventManager.removeEventListener(p.default.DATA_CHANGE,this.onDataChange,this),r.default.eventManager.removeEventListener(s.default.START_SCROLL,this.onStartScroll,this)},t.prototype.update=function(e){if(this.time+=e,this.time>=1){var t=y.default.instance.getFormatBySecond(_.default.VIP_TIME);this.viptime.string=t,this.time=0}},t.prototype.backClickEvent=function(e){y.default.buriedPoint(44),this.node.dispatchEvent(new cc.Event.EventCustom(n.CLOSEINTENSIFY_EVENT,!0))},t.prototype.startGameClickEvent=function(e){0==_.default.instance.getData(_.default.KEY_IS_NEW_USER)&&(r.default.eventManager.dispatchEventWith(b.default.GUIDE_CLOSE),_.default.instance.setData(_.default.KEY_IS_NEW_USER,!0)),this.backClickEvent(null),y.default.buriedPoint(43),this.node.dispatchEvent(new cc.Event.EventCustom(n.START_GAME_EVENT,!0))},t.CLOSEINTENSIFY_EVENT="closeIntensifyEvent",t.START_GAME_EVENT="startGameEvent",a([S(cc.Node)],t.prototype,"weapon",void 0),a([S(cc.Node)],t.prototype,"skin",void 0),a([S(cc.Node)],t.prototype,"privilege",void 0),a([S(cc.Label)],t.prototype,"pass",void 0),a([S(cc.Label)],t.prototype,"pass1",void 0),a([S(cc.Label)],t.prototype,"dimond",void 0),a([S(cc.Prefab)],t.prototype,"weaponpb",void 0),a([S(cc.Prefab)],t.prototype,"skinpb",void 0),a([S(cc.SpriteFrame)],t.prototype,"bg",void 0),a([S(cc.SpriteFrame)],t.prototype,"unbg",void 0),a([S(cc.Label)],t.prototype,"viptime",void 0),a([S(cc.Node)],t.prototype,"point1",void 0),a([S(cc.Node)],t.prototype,"point2",void 0),a([S(cc.Node)],t.prototype,"point3",void 0),a([S(cc.Prefab)],t.prototype,"guide",void 0),a([S([sp.Skeleton])],t.prototype,"texiao",void 0),a([S(cc.Node)],t.prototype,"weaponContent",void 0),a([S(cc.Node)],t.prototype,"skinContent",void 0),a([S(cc.Node)],t.prototype,"bt1",void 0),a([S(cc.Node)],t.prototype,"anniugao",void 0),a([S(cc.Node)],t.prototype,"buylayout",void 0),a([S(cc.SpriteFrame)],t.prototype,"levelbg",void 0),a([S(cc.SpriteFrame)],t.prototype,"lockbg",void 0),a([S(cc.SpriteFrame)],t.prototype,"levelunbg",void 0),a([S(cc.SpriteFrame)],t.prototype,"lockunbg",void 0),t=n=a([E],t)}(cc.Component);n.default=O,cc._RF.pop()},{"../../AndroidAd":"AndroidAd","../../GameUtils":"GameUtils","../../control/GameConfig":"GameConfig","../../control/GameEventName":"GameEventName","../../control/GameMetaManage":"GameMetaManage","../../control/valuecount/MaxCount":"MaxCount","../../control/valuecount/MaxValue":"MaxValue","../../gamecore/GameCoreEventNames":"GameCoreEventNames","../../gamecore/deer/DeerSDK":"DeerSDK","../../gamecore/managers/GameManager":"GameManager","../../gamecore/managers/Utils":"Utils","../../module/data/MainDataMgr":"MainDataMgr","../../module/data/StageDataMgr":"StageDataMgr","../guide/GuideEventName":"GuideEventName","./MainIntensifyMgr":"MainIntensifyMgr","./intensify/SkinItem":"SkinItem","./intensify/WeaponItem":"WeaponItem"}],MainOnShare:[function(e,t,n){"use strict";cc._RF.push(t,"6eb0dM9JNFJDoX893j8d6QX","MainOnShare");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../hall/PartBase"),r=e("../../GameUtils"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onShare=function(){r.default.instance.onShare(),r.default.buriedPoint(31)},t=a([c],t)}(i.default));n.default=l,cc._RF.pop()},{"../../GameUtils":"GameUtils","../hall/PartBase":"PartBase"}],MainProperty:[function(e,t,n){"use strict";cc._RF.push(t,"fd321N+3MxEXKXuzG4gjoIB","MainProperty");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../module/data/StageDataMgr"),r=e("../../module/data/MainDataMgr"),s=e("../../gamecore/managers/GameManager"),c=e("../../gamecore/GameCoreEventNames"),l=e("../../control/GameConfig"),u=e("../../control/valuecount/MaxCount"),d=e("../../GameUtils"),f=e("../../gamecore/deer/DeerSDK"),p=e("../../AndroidAd"),h=cc._decorator,g=h.ccclass,_=h.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prname=null,t.value=null,t.buyprBt=null,t.cost=null,t.bt=null,t.unbt=null,t.goldIcon=[],t.gold=null,t.imgs=[],t.texiao=[],t.nowspeedcost=null,t.nowtimecost=null,t.nowcoincost=null,t.type=1,t}return o(t,e),t.prototype.onDestroy=function(){s.default.eventManager.removeEventListener(c.default.DATA_CHANGE,this.onDataChange,this)},t.prototype.onLoad=function(){s.default.eventManager.addEventListener(c.default.DATA_CHANGE,this.onDataChange,this)},t.prototype.start=function(){this.allCost(),this.allTip(),this.onTime(2)},t.prototype.onDataChange=function(e){switch(e.data){case i.default.KEY_USER_MOVE_SPEED:this.refreshValue(1);break;case r.default.KEY_USER_OFF_AWARD:this.refreshValue(2);break;case i.default.KEY_USER_GOLD_RATE:this.refreshValue(3);break;case i.default.KEY_USER_GOLD_NUM:this.refreshUi(this.type),this.updateBuyUi(this.type)}},t.prototype.allCost=function(){this.refreshValue(1),this.refreshValue(2),this.refreshValue(3)},t.prototype.allTip=function(){this.updateBuyUi(1),this.updateBuyUi(2),this.updateBuyUi(3)},t.prototype.updateBuyUi=function(e){var t=this.node.getChildByName("classify").getChildByName("buyproperty").getComponent(cc.Sprite);switch(e){case 1:l.default.instance.useCoin(this.nowspeedcost).value<0?(this.gold.spriteFrame=this.goldIcon[1],this.imgs[0].active=!1):(t.spriteFrame=this.bt,this.gold.spriteFrame=this.goldIcon[0],this.imgs[0].active=!0);break;case 2:l.default.instance.useCoin(this.nowtimecost).value<0?(this.gold.spriteFrame=this.goldIcon[1],this.imgs[1].active=!1):(t.spriteFrame=this.bt,this.gold.spriteFrame=this.goldIcon[0],this.imgs[1].active=!0);break;case 3:l.default.instance.useCoin(this.nowcoincost).value<0?(this.gold.spriteFrame=this.goldIcon[1],this.imgs[2].active=!1):(t.spriteFrame=this.bt,this.gold.spriteFrame=this.goldIcon[0],this.imgs[2].active=!0)}},t.prototype.refreshUi=function(e){switch(e){case 1:this.value.string="+"+l.default.instance.getHeroInit(i.default.instance.getData(i.default.KEY_USER_MOVE_SPEED),0)/10+"%",this.refreshValue(e),this.cost.string=u.default.instance.formatVlue(this.nowspeedcost)+"";break;case 2:this.value.string="+"+l.default.instance.getHeroInit(r.default.instance.getData(r.default.KEY_USER_OFF_AWARD),1)/10+"%",this.refreshValue(e),this.cost.string=u.default.instance.formatVlue(this.nowtimecost)+"";break;case 3:this.value.string="+"+l.default.instance.getHeroInit(i.default.instance.getData(i.default.KEY_USER_GOLD_RATE),2)/10+"%",this.refreshValue(e),this.cost.string=u.default.instance.formatVlue(this.nowcoincost)+""}},t.prototype.refreshValue=function(e){switch(e){case 1:this.nowspeedcost=l.default.instance.getCost(i.default.instance.getData(i.default.KEY_USER_MOVE_SPEED));break;case 2:this.nowtimecost=l.default.instance.getCost(r.default.instance.getData(r.default.KEY_USER_OFF_AWARD));break;case 3:this.nowcoincost=l.default.instance.getCost(i.default.instance.getData(i.default.KEY_USER_GOLD_RATE))}},t.prototype.onSpeed=function(e){void 0===e&&(e=1),s.default.soundsManager.playTapSound(),this.prname.string="Moving speed",this.refreshUi(1),this.type=1,this.updateBuyUi(1),2!=e&&(this.texiao[0].node.active=!0,this.texiao[0].setAnimation(0,"idle",!1))},t.prototype.onTime=function(e){void 0===e&&(e=1),s.default.soundsManager.playTapSound(),this.prname.string="Offline Rewards",this.refreshUi(2),this.type=2,this.updateBuyUi(2),2!=e&&(this.texiao[1].node.active=!0,this.texiao[1].setAnimation(0,"idle",!1))},t.prototype.onCoin=function(e){void 0===e&&(e=1),s.default.soundsManager.playTapSound(),this.prname.string="Gold reward",this.refreshUi(3),this.type=3,this.updateBuyUi(3),2!=e&&(this.texiao[2].node.active=!0,this.texiao[2].setAnimation(0,"idle",!1))},t.prototype.onBuyProperty=function(){switch(this.type){case 1:var e=l.default.instance.useCoin(this.nowspeedcost);if(e.value<0)return s.default.soundsManager.playSound("sound/cuowu"),void this.onPlay();s.default.soundsManager.playSound("sound/goldlevel");var t=i.default.instance.getData(i.default.KEY_USER_MOVE_SPEED);t+=1,i.default.instance.setData(i.default.KEY_USER_MOVE_SPEED,t),i.default.instance.setData(i.default.KEY_USER_GOLD_NUM,e),d.default.buriedPoint(2,t+"");break;case 2:var n=l.default.instance.useCoin(this.nowtimecost);if(n.value<0)return s.default.soundsManager.playSound("sound/cuowu"),void this.onPlay();s.default.soundsManager.playSound("sound/goldlevel");var o=r.default.instance.getData(r.default.KEY_USER_OFF_AWARD);o+=1,i.default.instance.setData(r.default.KEY_USER_OFF_AWARD,o),i.default.instance.setData(i.default.KEY_USER_GOLD_NUM,n),d.default.buriedPoint(3,o+"");break;case 3:var a=l.default.instance.useCoin(this.nowcoincost);if(a.value<0)return s.default.soundsManager.playSound("sound/cuowu"),void this.onPlay();s.default.soundsManager.playSound("sound/goldlevel");var c=i.default.instance.getData(i.default.KEY_USER_GOLD_RATE);c+=1,i.default.instance.setData(i.default.KEY_USER_GOLD_RATE,c),i.default.instance.setData(i.default.KEY_USER_GOLD_NUM,a),d.default.buriedPoint(4,c+"")}},t.prototype.onPlay=function(){0!=f.default.instance.canUseEasingPolicy?p.default.instance.showReward(function(){l.default.instance.saveCoin(l.default.instance.glodNotAward()),d.default.showToast("Congrats on getting gold coins: "+u.default.instance.formatVlue(l.default.instance.glodNotAward()))}):d.default.showToast("Not enough gold coins")},a([_(cc.Label)],t.prototype,"prname",void 0),a([_(cc.Label)],t.prototype,"value",void 0),a([_(cc.Node)],t.prototype,"buyprBt",void 0),a([_(cc.Label)],t.prototype,"cost",void 0),a([_(cc.SpriteFrame)],t.prototype,"bt",void 0),a([_(cc.SpriteFrame)],t.prototype,"unbt",void 0),a([_(cc.SpriteFrame)],t.prototype,"goldIcon",void 0),a([_(cc.Sprite)],t.prototype,"gold",void 0),a([_([cc.Node])],t.prototype,"imgs",void 0),a([_([sp.Skeleton])],t.prototype,"texiao",void 0),t=a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../AndroidAd":"AndroidAd","../../GameUtils":"GameUtils","../../control/GameConfig":"GameConfig","../../control/valuecount/MaxCount":"MaxCount","../../gamecore/GameCoreEventNames":"GameCoreEventNames","../../gamecore/deer/DeerSDK":"DeerSDK","../../gamecore/managers/GameManager":"GameManager","../../module/data/MainDataMgr":"MainDataMgr","../../module/data/StageDataMgr":"StageDataMgr"}],MainResetGame:[function(e,t,n){"use strict";cc._RF.push(t,"9b287EqZnBBhbg/Id5cwRok","MainResetGame");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../hall/PartBase"),r=e("../../control/GameConfig"),s=e("../../control/valuecount/MaxCount"),c=e("../../control/valuecount/MaxValue"),l=e("../../gamecore/wechat/WXUtils"),u=e("../guide/GuideNodeManage"),d=e("../../GameUtils"),f=e("../../AndroidAd"),p=cc._decorator,h=p.ccclass,g=p.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.count=null,t.dimond=null,t.guide=null,t.nowdimaon=new c.default(0,0),t}return o(t,e),t.prototype.start=function(){var e=u.default.Interest.getNodes("guide4");void 0!=e&&e.destroy(),this.init(),this.refreshCustoms(),console.warn("\u6253\u5f00 MainResetGame.ts"),f.default.instance.showNative()},t.prototype.refreshCustoms=function(){var e=r.default.instance.getCustoms();this.count.string="LV."+e.customs,this.dimond.string="+"+s.default.instance.formatVlue(e.dimaon),this.nowdimaon=e.dimaon},t.prototype.resetGame=function(){d.default.buriedPoint(21),l.default.showLoading("\u6b63\u5728\u91cd\u7f6e\u6570\u636e"),r.default.instance.resetGame(),r.default.instance.saveDimond(this.nowdimaon),this.close()},t.prototype.onDestroy=function(){console.warn("\u5173\u95ed MainResetGame.ts"),f.default.instance.hideNative()},a([g(cc.Label)],t.prototype,"count",void 0),a([g(cc.Label)],t.prototype,"dimond",void 0),a([g(cc.Prefab)],t.prototype,"guide",void 0),t=a([h],t)}(i.default);n.default=_,cc._RF.pop()},{"../../AndroidAd":"AndroidAd","../../GameUtils":"GameUtils","../../control/GameConfig":"GameConfig","../../control/valuecount/MaxCount":"MaxCount","../../control/valuecount/MaxValue":"MaxValue","../../gamecore/wechat/WXUtils":"WXUtils","../guide/GuideNodeManage":"GuideNodeManage","../hall/PartBase":"PartBase"}],MainScene:[function(e,t,n){"use strict";cc._RF.push(t,"834f3pP3gNFLbvA0aD3FiUS","MainScene");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./MainIntensify"),r=e("../../module/data/StageDataMgr"),s=e("../../control/valuecount/MaxCount"),c=e("../../gamecore/managers/GameManager"),l=e("../../gamecore/GameCoreEventNames"),u=e("../../control/GameEventName"),d=e("../../module/data/MainDataMgr"),f=e("../../GameUtils"),p=e("../../control/GameMetaManage"),h=e("../../control/GameConfig"),g=e("../../gamecore/deer/DeerSDK"),_=e("../guide/GuideNewControl"),y=e("../stageMode/StageBackground"),m=e("../stageMode/HeroMgr"),v=e("../stageMode/Hero"),b=e("../stageMode/bullet/BulletMgr"),M=e("../hall/TrialWeapon"),w=e("../../gamecoreUI/boardads/BoardAdsPanel"),E=e("../guide/GuideNodeManage"),S=e("../../gamecore/wechat/WXBannerAd"),O=e("../stageMode/pet/Pet"),R=e("./MainIntensifyMgr"),A=e("../../AndroidAd"),D=cc._decorator,C=D.ccclass,P=D.property,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.guide=null,t.gold=null,t.dimond=null,t.posidpb=null,t.text=null,t.hero=null,t.pet=null,t.startGameBtn=null,t.battleRedPoint=null,t.startPoint=null,t.outpoint=null,t.openstate=!1,t.isshowvip=!1,t.boardIdPanel=null,t.time=0,t}return o(t,e),t.prototype.onLoad=function(){try{var e=h.default.instance.getNowEquipWeapon();r.default.CUR_WEAPON_ID=e.id}catch(t){p.default.instance.initUserData();e=h.default.instance.getNowEquipWeapon();r.default.CUR_WEAPON_ID=e.id}if(f.default.buriedPoint(1),d.default.BACKGROUND_NODE){d.default.BACKGROUND_NODE.position=cc.v2(0,0);var t=h.default.instance.getMonsterInfo().bgId;d.default.BACKGROUND_NODE.getComponent(y.default).curBgIndex!=t&&(d.default.BACKGROUND_NODE.getComponent(y.default).curBgIndex=t,d.default.BACKGROUND_NODE.getComponent(y.default).updateSpfm()),d.default.BACKGROUND_NODE.zIndex=-1}b.default.shootType=h.default.instance.getWeaponMeae(r.default.CUR_WEAPON_ID).bulletlevelinfo[0].shootType,c.default.eventManager.addEventListener(l.default.DATA_CHANGE,this.onDataChange,this),c.default.soundsManager.pushSceneBgMusic("bgm/bgm"),c.default.eventManager.addEventListener(u.default.UPDATE_SKIN_EQUIP_STATE,this.updatePetInfo,this),c.default.eventManager.addEventListener(u.default.UPDATE_WEAPON_EQUIP_STATE,this.updateHeroWeapon,this),cc.sys.platform===cc.sys.WECHAT_GAME&&wx.onShow(function(e){h.default.instance.scene=e.scene+""}),this.node.on(i.default.CLOSEINTENSIFY_EVENT,this.closeview,this),this.node.on(i.default.START_GAME_EVENT,this.onStartGame,this)},t.prototype.start=function(){var e=this;if(this.battleRedPoint.active=R.default.checkWeaponRedPoint(),d.default.INTENSIFY_NODE&&(d.default.INTENSIFY_NODE.getComponent(i.default).point1.active=this.battleRedPoint.active),d.default.INTENSIFY_NODE){var t=this.node.getChildByName("intensify");this.outpoint=cc.v2(t.x-d.default.INTENSIFY_NODE.width,t.y),d.default.INTENSIFY_NODE.getComponent(i.default).ininloca(t),t.addChild(d.default.INTENSIFY_NODE),d.default.INTENSIFY_NODE.getComponent(i.default).onShowWeapon(1),d.default.INTENSIFY_NODE.getComponent(i.default).selected(1)}else f.default.loadRes("prefabs/intensify",cc.Prefab,!1,function(t){d.default.INTENSIFY_NODE=cc.instantiate(t);try{var n=e.node.getChildByName("intensify");e.outpoint=cc.v2(n.x-d.default.INTENSIFY_NODE.width,n.y),d.default.INTENSIFY_NODE.getComponent(i.default).ininloca(n),d.default.INTENSIFY_NODE.opacity=0}catch(e){return}try{e.node.getChildByName("intensify").addChild(d.default.INTENSIFY_NODE)}catch(e){d.default.INTENSIFY_NODE.removeFromParent()}1==r.default.instance.getData(r.default.KEY_CUR_STAGE_NUM)&&(d.default.INTENSIFY_NODE.getComponent(i.default).onShowWeapon(1),d.default.INTENSIFY_NODE.getComponent(i.default).selected(1))});(this.refreshDimond(),this.refreshGold(),this.onHide(),this.scheduleOnce(function(){e.settLoca()}),1==d.default.IS_FIRST_ENTER_MAINSCENE)&&(d.default.instance.getData(d.default.KEY_IS_NEW_USER)&&this.isOffLine());var n=h.default.instance.getHeroInit(r.default.instance.getData(r.default.KEY_USER_MOVE_SPEED),0);m.default.HERO_SPEED=(n/1e3+1)*m.default.DEFAULT_HERO_SPEED,cc.director.preloadScene("stageModeScene"),console.warn("\u6253\u5f00 MainScene.ts"),A.default.instance.showBanner()},t.prototype.updateHeroInfo=function(e){this.hero.getComponent(v.default).updateInfo(e?e.data:null);var t=h.default.instance.getHeroInit(r.default.instance.getData(r.default.KEY_USER_MOVE_SPEED),0);m.default.HERO_SPEED=(t/1e3+1)*m.default.DEFAULT_HERO_SPEED},t.prototype.updatePetInfo=function(e){this.pet.getComponent(O.default).updateInfo(e.data)},t.prototype.updateHeroWeapon=function(e){var t=e.data;b.default.shootType=h.default.instance.getWeaponMeae(t).bulletlevelinfo[0].shootType,this.hero.getComponent(v.default).initWeapon(t)},t.prototype.addGuide=function(){var e=this,t=cc.instantiate(this.guide);this.node.addChild(t),this.scheduleOnce(function(){t.getComponent(_.default).init("guide1","<color=#00ff00>Welcome to </c><color=#ffffff>the world of puppet master, </c><br/><color=#00ff00>click to start the battle!</c>",e.startGameBtn)})},t.prototype.onHide=function(){"undefined"!=typeof wx&&wx.onHide(function(){console.log("\u79bb\u5f00\u6e38\u620f,\u4fdd\u5b58\u79bb\u7ebf\u65f6\u95f4"),d.default.instance.setData(d.default.KEY_USER_OFF_TIME,f.default.instance.serverTime.getTime())})},t.prototype.showOffLine=function(){var e=this;this.scheduleOnce(function(){d.default.IS_FIRST_ENTER_MAINSCENE=!1,f.default.loadRes("prefabs/hall/offlineRewardPanel",cc.Prefab,!0,function(t){var n=cc.instantiate(t);e.node.addChild(n)})})},t.prototype.isOffLine=function(){if(0!=g.default.instance.isOnline&&0!=d.default.IS_FIRST_ENTER_MAINSCENE){var e=f.default.instance.serverTime.getTime(),t=d.default.instance.getData(d.default.KEY_USER_OFF_TIME);if(t>0)e-t>1e3*p.default.instance.offinfo.minofftime?this.showOffLine():(d.default.instance.setData(d.default.KEY_USER_OFF_TIME,f.default.instance.serverTime.getTime()),0==h.default.instance.isSigin()&&d.default.instance.getData(d.default.KEY_IS_NEW_USER)&&this.sigin());else d.default.instance.setData(d.default.KEY_USER_OFF_TIME,e),0==h.default.instance.isSigin()&&d.default.instance.getData(d.default.KEY_IS_NEW_USER)&&this.sigin()}},t.prototype.onDataChange=function(e){var t=e.data;if(t==r.default.KEY_USER_GOLD_NUM)return this.refreshGold(),this.battleRedPoint.active=R.default.checkWeaponRedPoint(),void(d.default.INTENSIFY_NODE&&(d.default.INTENSIFY_NODE.getComponent(i.default).point1.active=this.battleRedPoint.active));t!=r.default.KEY_USER_DIMOND_NUM||this.refreshDimond()},t.prototype.setting=function(){var e=this;c.default.soundsManager.playTapSound(),f.default.loadRes("prefabs/setting",cc.Prefab,!0,function(t){var n=cc.instantiate(t);e.node.addChild(n)})},t.prototype.showRoleSelectClickEvent=function(e){},t.prototype.goldnot=function(){var e=this;f.default.buriedPoint(8),c.default.soundsManager.playTapSound(),f.default.loadRes("prefabs/goldnot",cc.Prefab,!0,function(t){var n=cc.instantiate(t);e.node.addChild(n)})},t.prototype.welfare=function(){var e=this;f.default.buriedPoint(11),c.default.soundsManager.playTapSound(),f.default.loadRes("prefabs/welfare",cc.Prefab,!0,function(t){var n=cc.instantiate(t);e.node.addChild(n)})},t.prototype.goldBox=function(){var e=this;f.default.buriedPoint(6),c.default.soundsManager.playTapSound(),f.default.loadRes("prefabs/goldbox",cc.Prefab,!0,function(t){var n=cc.instantiate(t);e.node.addChild(n)})},t.prototype.onSigin=function(){f.default.buriedPoint(9),this.sigin()},t.prototype.sigin=function(){var e=this;c.default.soundsManager.playTapSound(),f.default.loadRes("prefabs/sigin/sigin",cc.Prefab,!0,function(t){var n=cc.instantiate(t);e.node.addChild(n)})},t.prototype.rank=function(){var e=this;f.default.buriedPoint(10),f.default.loadRes("prefabs/rank/rank",cc.Prefab,!0,function(t){var n=cc.instantiate(t);e.node.addChild(n)})},t.prototype.refreshGold=function(){var e=r.default.instance.getData(r.default.KEY_USER_GOLD_NUM);this.gold.string=s.default.instance.formatVlue(s.default.instance.formatCoid(e.value,e.unit))},t.prototype.refreshDimond=function(){var e=r.default.instance.getData(r.default.KEY_USER_DIMOND_NUM);this.dimond.string=s.default.instance.formatVlue(s.default.instance.formatCoid(e.value,e.unit))},t.prototype.onStartGame=function(){var e=this;c.default.soundsManager.playTapSound();var t=Object.keys(d.default.instance.getData(d.default.KEY_USER_WEAPON_INFO)).length,n=d.default.instance.getData(d.default.KEY_IS_NEW_USER);if(p.default.instance.weaponinfos.length<=t||0==n)this.goGameView();else{if(0==g.default.instance.isOnline)return void this.goGameView();cc.loader.loadRes("prefabs/hall/trialWeaponPanel",cc.Prefab,function(t,n){if(t)console.error("\u6e38\u620f\u573a\u666f\u52a0\u8f7d\u5931\u8d25trialWeaponPanel"),e.onStartGame();else{var o=e.typoutWeapon();if(o>=1){var a=cc.instantiate(n);a.getComponent(M.default).init(o),e.node.addChild(a)}else e.goGameView()}})}},t.prototype.goGameView=function(){h.default.instance.lastscene="mainScene",h.default.instance.nowscene="stageModeScene",f.default.instance.loadSceneWithBg("stageModeScene")},t.prototype.typoutWeapon=function(){for(var e=d.default.instance.getData(d.default.KEY_USER_WEAPON_INFO),t=-1;;){var n=f.default.instance.limitInteger(0,p.default.instance.weaponinfos.length-1);if(void 0==e[p.default.instance.weaponinfos[n].weaponid]){t=n;break}}var o=1,a=g.default.instance.game_config;return void 0!=a&&(o=a.trialRate),Math.random()<=o?t:0},t.prototype.onIntensify=function(e){if(e&&c.default.soundsManager.playTapSound(),d.default.INTENSIFY_NODE)if(0==this.openstate){d.default.INTENSIFY_NODE.getComponent(i.default).updateSkinOffset(),d.default.INTENSIFY_NODE.getComponent(i.default).updateWeaponOffset();var t=this.node.getChildByName("intensify");this.startPoint=t.position,d.default.INTENSIFY_NODE.opacity=255,S.default.currentAd&&S.default.currentAd.show(),this.node.getChildByName("translucencelayout").on(cc.Node.EventType.TOUCH_END,this.closeview,this),c.default.eventManager.dispatchEventWith(u.default.SHOW_TRANSLUCENCE_CONTROL,{index:t.getSiblingIndex()-1,isput:!1}),this.showview(),this.openstate=!0,f.default.buriedPoint(13)}else this.closeview()},t.prototype.showview=function(){var e=this,t=this.node.getChildByName("intensify"),n=cc.moveTo(.5,this.outpoint);t.stopAllActions();var o=cc.sequence(n,cc.callFunc(function(){e.showGuide(),c.default.popUpManager._popUpCount+=1}));t.runAction(o)},t.prototype.showGuide=function(){if(0==d.default.instance.getData(d.default.KEY_RESET_GUIDE)){var e=r.default.instance.getData(r.default.KEY_CUR_STAGE_NUM),t=p.default.instance.customsinfos[0].minresetcustoms,n=d.default.instance.getData(d.default.KEY_RESET_COUNT);t<e||n>0||this.isShowVip()}else this.isShowVip()},t.prototype.isShowVip=function(){var e=h.default.instance.gamecount,t=r.default.instance.getData(r.default.KEY_CUR_STAGE_NUM);e!=t&&(d.default.instance.getData(d.default.KEY_USER_VIP_TIME)<=0&&t%5==0&&0==this.isshowvip&&"stageModeScene"==h.default.instance.lastscene&&(this.isshowvip=!0,this.vipCard()),t%10==0&&this.showshare())},t.prototype.showshare=function(){0!=g.default.instance.isOnline||console.log("\u79bb\u7ebf\u5956\u52b1\u5173\u95ed\u4e86")},t.prototype.vipCard=function(){},t.prototype.addGuide6=function(){var e=cc.instantiate(this.guide),t=d.default.INTENSIFY_NODE.getComponent(i.default);t.isScroll(!1,2),this.node.addChild(e),this.scheduleOnce(function(){var n=E.default.Interest.getNodes("guide3");n&&(n.destroy(),d.default.instance.setData(d.default.KEY_RESET_GUIDE,!0)),e.getComponent(_.default).init("guide6","<color=#00ff00>\u91cd\u7f6e\u8363\u8000\u6240\u83b7\u5f97\u7684\u5b9d\u77f3</c><br/><color=#00ff00>\u53ef\u4ee5\u7528\u4e8e</c><color=#ffffff>\u8d2d\u4e70\u548c\u5347\u7ea7\u89d2\u8272</c><br/><color=#00ff00>\u6240\u6709\u89d2\u8272</c><color=#ffffff>\u53ef\u4ee5\u5171\u4eab\u4e0d\u540c\u89d2\u8272\u7684\u5929\u8d4b\u54e6</c><br/><color=#00ff00>\u89e3\u9501\u66f4\u591a\u89d2\u8272\u6765\u52a0\u5f3a\u6218\u529b\u5427!</c>",t.weapon.getChildByName("guide3"))})},t.prototype.addGuide4=function(){h.default.instance.startguide2=!0;var e=cc.instantiate(this.guide),t=d.default.INTENSIFY_NODE.getComponent(i.default);this.node.addChild(e),d.default.INTENSIFY_NODE.getComponent(i.default).onShowSkin(2),d.default.INTENSIFY_NODE.getComponent(i.default).selected(2),this.scheduleOnce(function(){var n=E.default.Interest.getNodes("guide3");n&&(n.destroy(),d.default.instance.setData(d.default.KEY_IS_NEW_USER,!0)),e.getComponent(_.default).init("guide4","<color=#ffffff>Congratulations on turning on the new feature!</c><br/><color=#00ff00>Click here to learn about the new features!</c>",t.skin.getChildByName("bule"))})},t.prototype.addGuide3=function(){var e=cc.instantiate(this.guide),t=d.default.INTENSIFY_NODE.getComponent(i.default);t.isScroll(!1,1),this.node.addChild(e),this.scheduleOnce(function(){var n=E.default.Interest.getNodes("guide4");n&&(n.destroy(),d.default.instance.setData(d.default.KEY_RESET_GUIDE,!0));var o=E.default.Interest.getNodes("guide6");o&&(o.destroy(),d.default.instance.setData(d.default.KEY_RESET_GUIDE,!0)),e.getComponent(_.default).init("guide3","<color=#00ff00>\u5173\u5361\u7b49\u7ea7\u8d8a\u9ad8\uff0c\u602a\u7269\u4f1a\u53d8\u5f97\u8d8a\u5f3a</c><br/><color=#ffffff>\u4e0d\u65ad\u5f3a\u5316\u548c\u8d2d\u4e70\u6b66\u5668\u63d0\u5347\u6218\u529b\u5427\uff01</c>",t.weapon.getChildByName("guide3"))})},t.prototype.closeview=function(){var e=this;c.default.lockScene(),this.openstate=!1,c.default.soundsManager.playTapSound();var t=this.node.getChildByName("intensify");t.stopAllActions();var n=cc.moveTo(.5,this.startPoint).easing(cc.easeIn(.5)),o=cc.sequence(n,cc.callFunc(function(){c.default.eventManager.dispatchEventWith(u.default.CLOSE_TRANSLUCENCE_CONTROL),e.node.getChildByName("translucencelayout").off(cc.Node.EventType.TOUCH_END,e.closeview,e),d.default.INTENSIFY_NODE.opacity=0,S.default.currentAd,c.default.unlockScene(),c.default.popUpManager._popUpCount-=1}));t.runAction(o)},t.prototype.onDestroy=function(){c.default.eventManager.removeEventListener(l.default.DATA_CHANGE,this.onDataChange,this),c.default.eventManager.removeEventListener(u.default.UPDATE_SKIN_EQUIP_STATE,this.updatePetInfo,this),c.default.eventManager.removeEventListener(u.default.UPDATE_WEAPON_EQUIP_STATE,this.updateHeroWeapon,this)},t.prototype.settLoca=function(){if("undefined"!=typeof wx){var e=wx.getSystemInfoSync(),t=cc.winSize.width/e.screenWidth,n=this.node.getChildByName("add"),o=wx.getMenuButtonBoundingClientRect(),a=o.left*t-n.width/2,i=cc.winSize.height-o.top*t-o.height*t/2,r=this.node.convertToNodeSpaceAR(cc.v2(a,i));n.position=r}},t.prototype.onAddPointlayout=function(){c.default.soundsManager.playTapSound(),this.boardIdPanel?(c.default.eventManager.dispatchEventWith(u.default.SHOW_TRANSLUCENCE_CONTROL,{index:this.boardIdPanel.getSiblingIndex()-1,isput:!0}),this.boardIdPanel.getComponent(w.default).show()):(this.boardIdPanel=cc.instantiate(this.posidpb),this.node.addChild(this.boardIdPanel),c.default.eventManager.dispatchEventWith(u.default.SHOW_TRANSLUCENCE_CONTROL,{index:this.boardIdPanel.getSiblingIndex()-1,isput:!0}),this.boardIdPanel.getComponent(w.default).show()),f.default.buriedPoint(5)},t.prototype.update=function(e){if(this.time+=e,this.time>=1){if(d.default.VIP_TIME>0&&(d.default.VIP_TIME-=1,d.default.instance.setData(d.default.KEY_USER_VIP_TIME,d.default.VIP_TIME)),d.default.BOX_TIME>0&&(d.default.BOX_TIME-=1,d.default.instance.setData(d.default.KEY_USER_GOLD_BOX_TIME,d.default.BOX_TIME)),d.default.BOX_TIME<=0)this.text.string="Available";else{var t=f.default.instance.getFormatBySecond(d.default.BOX_TIME);this.text.string=t}this.time=0}},a([P(cc.Prefab)],t.prototype,"guide",void 0),a([P(cc.Label)],t.prototype,"gold",void 0),a([P(cc.Label)],t.prototype,"dimond",void 0),a([P(cc.Prefab)],t.prototype,"posidpb",void 0),a([P(cc.Label)],t.prototype,"text",void 0),a([P(cc.Node)],t.prototype,"hero",void 0),a([P(cc.Node)],t.prototype,"pet",void 0),a([P(cc.Node)],t.prototype,"startGameBtn",void 0),a([P(cc.Node)],t.prototype,"battleRedPoint",void 0),t=a([C],t)}(cc.Component);n.default=I,cc._RF.pop()},{"../../AndroidAd":"AndroidAd","../../GameUtils":"GameUtils","../../control/GameConfig":"GameConfig","../../control/GameEventName":"GameEventName","../../control/GameMetaManage":"GameMetaManage","../../control/valuecount/MaxCount":"MaxCount","../../gamecore/GameCoreEventNames":"GameCoreEventNames","../../gamecore/deer/DeerSDK":"DeerSDK","../../gamecore/managers/GameManager":"GameManager","../../gamecore/wechat/WXBannerAd":"WXBannerAd","../../gamecoreUI/boardads/BoardAdsPanel":"BoardAdsPanel","../../module/data/MainDataMgr":"MainDataMgr","../../module/data/StageDataMgr":"StageDataMgr","../guide/GuideNewControl":"GuideNewControl","../guide/GuideNodeManage":"GuideNodeManage","../hall/TrialWeapon":"TrialWeapon","../stageMode/Hero":"Hero","../stageMode/HeroMgr":"HeroMgr","../stageMode/StageBackground":"StageBackground","../stageMode/bullet/BulletMgr":"BulletMgr","../stageMode/pet/Pet":"Pet","./MainIntensify":"MainIntensify","./MainIntensifyMgr":"MainIntensifyMgr"}],MainSetting:[function(e,t,n){"use strict";cc._RF.push(t,"85248eEjHtHnpYC+6P9hqqV","MainSetting");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../gamecore/managers/GameManager"),r=e("../hall/PartBase"),s=e("../../GameUtils"),c=e("../../gamecore/wechat/WXUser"),l=e("../../gamecore/deer/DeerSDK"),u=e("../../AndroidAd"),d=cc._decorator,f=d.ccclass,p=d.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.muscinode=null,t.soundnode=null,t.id=null,t.shareBtn=null,t}return o(t,e),t.prototype.start=function(){var e=this;this.shareBtn.on(cc.Node.EventType.TOUCH_END,function(){e.onShare()},this),this.initState(),this.init(),l.default.instance.userVO&&l.default.instance.userVO.id&&(c.default.userInfo?this.id.string="ID:"+l.default.instance.userVO.id:c.default.onUserInfo(this.updateUserInfo))},t.prototype.initState=function(){var e=i.default.soundsManager.soundMuted,t=this.soundnode.getChildByName("onbg"),n=this.soundnode.getChildByName("offbg");e?(t.active=!1,n.active=!0):(t.active=!0,n.active=!1);var o=i.default.soundsManager.musicMuted,a=this.muscinode.getChildByName("onbg"),r=this.muscinode.getChildByName("offbg");o?(a.active=!1,r.active=!0):(a.active=!0,r.active=!1),console.warn("\u6253\u5f00 MainSetting.ts"),u.default.instance.showNative()},t.prototype.closeView=function(){this.close()},t.prototype.myGameInfo=function(){i.default.soundsManager.playTapSound()},t.prototype.onService=function(){i.default.soundsManager.playTapSound(),"undefined"!=typeof wx&&wx.openCustomerServiceConversation()},t.prototype.onShare=function(){i.default.soundsManager.playTapSound(),s.default.instance.onShare()},t.prototype.controlSound=function(){i.default.soundsManager.playTapSound();var e=i.default.soundsManager.soundMuted,t=this.soundnode.getChildByName("onbg"),n=this.soundnode.getChildByName("offbg");e?(i.default.soundsManager.unmuteSound(),t.active=!0,n.active=!1):(t.active=!1,n.active=!0,i.default.soundsManager.muteSound())},t.prototype.controlMusic=function(){i.default.soundsManager.playTapSound();var e=i.default.soundsManager.musicMuted,t=this.muscinode.getChildByName("onbg"),n=this.muscinode.getChildByName("offbg");e?(t.active=!0,n.active=!1,i.default.soundsManager.unmuteMusic()):(t.active=!1,n.active=!0,i.default.soundsManager.muteMusic())},t.prototype.showFeedBack=function(){var e=this;i.default.soundsManager.playTapSound(),cc.loader.loadRes("prefabs/feedback",cc.Prefab,function(t,n){if(!t){var o=cc.instantiate(n);e.node.addChild(o)}})},t.prototype.updateUserInfo=function(){l.default.instance.userVO&&l.default.instance.userVO.id&&(this.id.string="ID:"+l.default.instance.userVO.id)},t.prototype.onDestroy=function(){c.default.offUserInfo(this.updateUserInfo),console.warn("\u5173\u95ed MainSetting.ts"),u.default.instance.hideNative(),u.default.instance.showBanner()},a([p(cc.Node)],t.prototype,"muscinode",void 0),a([p(cc.Node)],t.prototype,"soundnode",void 0),a([p(cc.Label)],t.prototype,"id",void 0),a([p(cc.Node)],t.prototype,"shareBtn",void 0),t=a([f],t)}(r.default);n.default=h,cc._RF.pop()},{"../../AndroidAd":"AndroidAd","../../GameUtils":"GameUtils","../../gamecore/deer/DeerSDK":"DeerSDK","../../gamecore/managers/GameManager":"GameManager","../../gamecore/wechat/WXUser":"WXUser","../hall/PartBase":"PartBase"}],MainSiginitem:[function(e,t,n){"use strict";cc._RF.push(t,"f0a58yb8X5PsJxhMWwegILp","MainSiginitem");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../control/GameConfig"),r=e("../../../control/valuecount/MaxCount"),s=e("../../../module/data/MainDataMgr"),c=e("../../../gamecore/managers/GameManager"),l=e("../../../gamecore/GameCoreEventNames"),u=cc._decorator,d=u.ccclass,f=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.day=null,t.award=null,t.id=0,t}return o(t,e),t.prototype.onLoad=function(){c.default.eventManager.addEventListener(l.default.DATA_CHANGE,this.onDataChange,this)},t.prototype.onDataChange=function(e){e.data==s.default.KEY_USER_SIGIN_RECORD&&this.init()},t.prototype.start=function(){},t.prototype.init=function(){var e=i.default.instance.getItemState(this.id);switch(this.day.string="Day "+(this.id+1),this.award.string=r.default.instance.formatVlue(i.default.instance.getAward(this.id)),console.log("\u7b7e\u5230\u6570\u636e",e,this.id),e){case 1:0==this.id?(this.node.getChildByName("waixuan").active=!0,this.settingUi(1)):(this.day.node.color=cc.color(119,112,0),this.node.getChildByName("waixuan").active=!1,this.settingUi(3));break;case 2:this.settingUi(2),this.node.getChildByName("waixuan").active=!1;break;case 3:this.node.getChildByName("waixuan").active=!0,this.settingUi(1);break;case 4:case 5:this.day.node.color=cc.color(119,112,0),this.node.getChildByName("waixuan").active=!1,this.settingUi(3)}},t.prototype.settingUi=function(e){switch(this.node.getChildByName("iconbg").getChildByName("now").active=!1,this.node.getChildByName("iconbg").getChildByName("end").active=!1,this.node.getChildByName("iconbg").getChildByName("future").active=!1,e){case 1:this.node.getChildByName("iconbg").getChildByName("now").active=!0;break;case 2:this.node.getChildByName("iconbg").getChildByName("end").active=!0;break;case 3:this.node.getChildByName("iconbg").getChildByName("future").active=!0}},t.prototype.onDestroy=function(){c.default.eventManager.removeEventListener(l.default.DATA_CHANGE,this.onDataChange,this)},a([f(cc.Label)],t.prototype,"day",void 0),a([f(cc.Label)],t.prototype,"award",void 0),t=a([d],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../control/GameConfig":"GameConfig","../../../control/valuecount/MaxCount":"MaxCount","../../../gamecore/GameCoreEventNames":"GameCoreEventNames","../../../gamecore/managers/GameManager":"GameManager","../../../module/data/MainDataMgr":"MainDataMgr"}],MainSigin:[function(e,t,n){"use strict";cc._RF.push(t,"7c6d05eQ99M36O4mRpn6wIf","MainSigin");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./MainSiginitem"),r=e("../../../module/data/MainDataMgr"),s=e("../../../control/GameConfig"),c=e("../../../GameUtils"),l=e("../../../control/valuecount/MaxCount"),u=e("../../hall/PartBase"),d=e("../../../AndroidAd"),f=cc._decorator,p=f.ccclass,h=f.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.item=null,t.nowaward=null,t}return o(t,e),t.prototype.start=function(){this.init(1==s.default.instance.isSigin());var e=this.node.getChildByName("content").getChildByName("bg").getChildByName("item1").getComponent(i.default);e.id=6,e.init();for(var t=0;t<6;t++){var n=cc.instantiate(this.item);n.getComponent(i.default).id=t,n.getComponent(i.default).init(),this.content.addChild(n)}(this.onSiginAward(),s.default.instance.saveScoreToService(0),1==s.default.instance.isSigin())&&(this.node.getChildByName("content").getChildByName("ReceiveBtn").getComponent(cc.RichText).string="Received",this.node.getChildByName("content").getChildByName("bg").getChildByName("bt1").active=!1,this.node.getChildByName("content").getChildByName("ReceiveBtn").active=!1,this.node.getChildByName("content").getChildByName("bg").getChildByName("received").active=!0);console.warn("\u6253\u5f00 MainSigin.ts"),d.default.instance.showBanner()},t.prototype.onSiginAward=function(){this.nowaward=s.default.instance.getAward(s.default.instance.isSiginId)},t.prototype.sigin=function(){0==s.default.instance.isSigin()?this.siginSuccss(1):c.default.showToast("Signed in today"),this.closeView()},t.prototype.doublesigin=function(){var e=this;c.default.buriedPoint(29),0==s.default.instance.isSigin()?c.default.instance.onShare(function(){e.siginSuccss(2),e.closeView()}):(c.default.showToast("Signed in today"),this.closeView())},t.prototype.threesigin=function(){var e=this;c.default.buriedPoint(30),0==s.default.instance.isSigin()?d.default.instance.showReward(function(){e.siginSuccss(3),e.closeView()}):(c.default.showToast("Signed in today"),this.closeView())},t.prototype.siginSuccss=function(e){var t=r.default.instance.getData(r.default.KEY_USER_SIGIN_RECORD);t[s.default.instance.isSiginId]=c.default.instance.serverTime.getTime(),s.default.instance.saveCoin(l.default.instance.formatCoid(this.nowaward.value*e,this.nowaward.unit)),this.showFlyGoldEvent(cc.find("Canvas/rigthnode/sigin"),cc.find("Canvas/leftnode/coinbg/goldtext")),c.default.showToast("Congratulations on getting "+l.default.instance.formatVlue(l.default.instance.formatCoid(this.nowaward.value*e,this.nowaward.unit))),r.default.instance.setData(r.default.KEY_USER_SIGIN_RECORD,t)},t.prototype.closeView=function(){this.close(),console.warn("\u5173\u95ed MainSigin.ts"),d.default.instance.showBanner()},a([h(cc.Node)],t.prototype,"content",void 0),a([h(cc.Prefab)],t.prototype,"item",void 0),t=a([p],t)}(u.default);n.default=g,cc._RF.pop()},{"../../../AndroidAd":"AndroidAd","../../../GameUtils":"GameUtils","../../../control/GameConfig":"GameConfig","../../../control/valuecount/MaxCount":"MaxCount","../../../module/data/MainDataMgr":"MainDataMgr","../../hall/PartBase":"PartBase","./MainSiginitem":"MainSiginitem"}],MainWelfare:[function(e,t,n){"use strict";cc._RF.push(t,"04fadUyd2FDL5NoPt5bQBjJ","MainWelfare");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../hall/PartBase"),r=e("../../control/GameConfig"),s=e("../../control/valuecount/MaxValue"),c=e("../../GameUtils"),l=e("../../module/data/MainDataMgr"),u=e("../../gamecore/deer/DeerSDK"),d=cc._decorator,f=d.ccclass,p=d.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bt1=null,t}return o(t,e),t.prototype.getAward=function(){var e=this;(c.default.buriedPoint(12),l.default.instance.getData(l.default.KEY_WELFARE)!==u.default.instance.serverTime.getDate())?"1104"==r.default.instance.scene?(r.default.instance.saveDimond(new s.default(3,0)),c.default.showToast("\u606d\u559c\u83b7\u5f973\u94bb\u77f3"),l.default.instance.setData(l.default.KEY_WELFARE,u.default.instance.serverTime.getDate(),!1),this.showFlyGoldEvent(this.bt1,cc.find("Canvas/leftnode/dimondbg/dimondtext"),0),this.scheduleOnce(function(){e.close()},1)):c.default.showToast("\u8bf7\u4ece\u6211\u7684\u5c0f\u7a0b\u5e8f\u6253\u5f00\u6e38\u620f"):c.default.showToast("Received today")},a([p(cc.Node)],t.prototype,"bt1",void 0),t=a([f],t)}(i.default);n.default=h,cc._RF.pop()},{"../../GameUtils":"GameUtils","../../control/GameConfig":"GameConfig","../../control/valuecount/MaxValue":"MaxValue","../../gamecore/deer/DeerSDK":"DeerSDK","../../module/data/MainDataMgr":"MainDataMgr","../hall/PartBase":"PartBase"}],MaxCount:[function(e,t,n){"use strict";cc._RF.push(t,"b30d43VTa1OhIQ8NIdtO4nx","MaxCount");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./MaxValue"),i=cc._decorator,r=i.ccclass,s=(i.property,function(){function e(){}var t;return t=e,Object.defineProperty(e,"instance",{get:function(){return this.data},enumerable:!0,configurable:!0}),e.prototype.calcuValueUnit=function(e,t){var n,o,i=e.value,r=e.unit,s=t.value,c=t.unit;r==c?(n=i+s,o=r):r>c?(n=i*Math.pow(10,r-c)+s,o=c):(n=s*Math.pow(10,c-r)+i,o=r);var l=0;return n>0?l=Math.floor(this.getBaseLog(n)):n<0&&(l=Math.floor(this.getBaseLog(-n))),n/=Math.pow(10,l),(o+=l)>=3?(n*=1e3,o-=3):(n=Math.round(n*Math.pow(10,o)),o=0),new a.default(n,o)},e.prototype.formatCoid=function(e,t){var n=0;e>0?n=Math.floor(this.getBaseLog(e)):e<0&&(n=Math.floor(this.getBaseLog(-e)));var o=(n+t)%3;return e/=Math.pow(10,n-o),(t=n+t-o)>=3?new a.default(Number(e.toFixed(2)),t):new a.default(Number(e.toFixed(0)),t)},e.prototype.getUnit=function(e){var t="";if(3==e)t="K";else if(6==e)t="M";else if(9==e)t="B";else if(12==e)t="T";else if(e>=15){var n=Math.floor((e-15)/3),o=n%26,a=Math.floor(n/26);t=String.fromCharCode(97+o);for(var i="",r=0;r<a+2;r++)i+=t;t=i}return t},e.prototype.formatUint=function(e,t,n,o){var i=new a.default(0,0),r=new a.default(0,0);return t==o?(i.value=e,i.unit=t,r.value=n,r.unit=o):t>o?(i.value=e,i.unit=t,r.value=n/Math.pow(10,t-o),r.unit=t):t<o&&(i.value=e/Math.pow(10,o-t),i.unit=o,r.value=n,r.unit=o),new c(i,r)},e.prototype.formatVlue=function(e){return e.value+this.getUnit(e.unit)},e.prototype.getBaseLog=function(e){return Math.log(e)/Math.log(10)},e.data=new t,e=t=o([r],e)}());n.default=s;var c=function(){return function(e,t){this.value1=e,this.value2=t}}();n.MaxValueUint=c,cc._RF.pop()},{"./MaxValue":"MaxValue"}],MaxValue:[function(e,t,n){"use strict";cc._RF.push(t,"dd5ce9xitlIhoNx8S838hSK","MaxValue");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(e,t){this.value=0,this.unit=0,this.value=e,this.unit=t}return e=o([i],e)}());n.default=r,cc._RF.pop()},{}],MonsterMgr:[function(e,t,n){"use strict";cc._RF.push(t,"f3138vfRU9Ec47EVa6sZ9an","MonsterMgr");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e.CUR_HP=0,e.MAX_HP=1,e.MONSETER_STATE=cc.Enum({UNREADY:"unReady",ACTIVE:"active",DIED:"died",WIN:"win"}),e.MONSTER_ANI_STATE=cc.Enum({come0:"come0",come1:"come1",hit:"hit",idle:"idle",go:"go",die:"die"}),e=o([i],e)}());n.default=r,cc._RF.pop()},{}],Monster:[function(e,t,n){"use strict";cc._RF.push(t,"47753SYnERDy5bEq+Y2ncii","Monster"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./MonsterMgr"),a=e("../../SoundMgr"),i=e("../../control/GameConfig"),r=e("./bullet/BulletMgr"),s=e("../../GameUtils"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.monsterAni=null,t.effectSp=null,t.beatAniNode=null,t.dieAniNode=null,t.state=o.default.MONSETER_STATE.UNREADY,t.monsterId=null,t.beatSpfm=null,t.showIdleTime=0,t.stopLoopSound=!1,t.diesound=!1,t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;this.state=o.default.MONSETER_STATE.UNREADY,this.effectSp.enabled=!1;var t=i.default.instance.getMonsterInfo();this.monsterId=t.imgid,s.default.loadRes("actions/monster/"+this.monsterId,sp.SkeletonData,!0,function(t){e.monsterAni.skeletonData=t,e.showIdleTime=1,e.showIdle(),e.scheduleOnce(function(){var t=function(){e.node.x<0&&(e.unschedule(t),e.setAnimation(o.default.MONSTER_ANI_STATE.come0),e.state=o.default.MONSETER_STATE.ACTIVE,e.node.dispatchEvent(new cc.Event.EventCustom(o.default.MONSETER_STATE.ACTIVE,!0)),e.scheduleOnce(function(){e.setAnimation(o.default.MONSTER_ANI_STATE.come1)},1.5))};e.schedule(t,.05,cc.macro.REPEAT_FOREVER)},.5)}),s.default.loadRes("animations/beat/"+this.monsterId.slice(8),cc.SpriteFrame,!0,function(t){e.beatSpfm=t,e.dieAniNode.getComponent(cc.ParticleSystem).spriteFrame=t})},t.prototype.createRigidBodies=function(e){var t=this.node.height/2,n=this.node.width/2,o=this.node.addComponent(cc.RevoluteJoint);o.anchor=new cc.Vec2(0,t/2),o.connectedAnchor=new cc.Vec2(0,-t/2),o.connectedBody=e,o.collideConnected=!1,o.apply();var i=this.node.addComponent(cc.RopeJoint);i.anchor=new cc.Vec2(n/2,n),i.connectedAnchor=new cc.Vec2(n/2,n),i.connectedBody=e,i.maxLength=1.3*t,i.collideConnected=!1,i.apply(),(i=this.node.addComponent(cc.RopeJoint)).anchor=new cc.Vec2(-n/2,n),i.connectedAnchor=new cc.Vec2(-n/2,n),i.connectedBody=e,i.maxLength=1.3*t,i.collideConnected=!1,i.apply(),a.default.instance.playSound("sound/stageMode/monster/"+this.monsterId+"_in")},t.prototype.updateForce=function(){var e=this.node.getComponent(cc.RigidBody).linearVelocity;e.x>200?(e.x-=3*this.node.x,this.node.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(-e.x,-e.y),!0)):e.x<-200&&this.node.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(-e.x,-e.y),!0)},t.prototype.calcuHp=function(e){this.state==o.default.MONSETER_STATE.ACTIVE&&(o.default.CUR_HP+=e,o.default.CUR_HP>=o.default.MAX_HP?(o.default.CUR_HP=o.default.MAX_HP,this.state=o.default.MONSETER_STATE.DIED,this.setAnimation(o.default.MONSTER_ANI_STATE.die)):this.setAnimation(o.default.MONSTER_ANI_STATE.hit))},t.prototype.showIdle=function(){this.showIdleTime<=0||(this.showIdleTime=0,this.setAnimation(o.default.MONSTER_ANI_STATE.idle))},t.prototype.setAnimation=function(e){var t=this;switch(e){case o.default.MONSTER_ANI_STATE.come0:this.monsterAni.setAnimation(0,e,!1);break;case o.default.MONSTER_ANI_STATE.come1:this.monsterAni.setAnimation(0,e,!0),a.default.instance.playSound("sound/stageMode/monster/"+this.monsterId+"_loop",!1);break;case o.default.MONSTER_ANI_STATE.hit:this.unschedule(this.showIdle),this.showIdleTime=1,this.monsterAni.setAnimation(0,e,!1),this.schedule(function(){t.showIdle()},1,1);var n=cc.instantiate(this.beatAniNode);this.node.parent.addChild(n),n.position=this.node.position,n.getComponent(cc.ParticleSystem).spriteFrame=this.beatSpfm,n.getComponent(cc.ParticleSystem).resetSystem(),0!==r.default.shootType?this.attackedBySimpleWeapon():this.attackedByBoomWeapon();break;case o.default.MONSTER_ANI_STATE.idle:this.monsterAni.setAnimation(0,e,!0);break;case o.default.MONSTER_ANI_STATE.go:this.showIdleTime=0,this.unschedule(this.showIdle),this.monsterAni.setAnimation(0,o.default.MONSTER_ANI_STATE.go,!1),a.default.instance.playSound("sound/stageMode/monster/"+this.monsterId+"_out");break;case o.default.MONSTER_ANI_STATE.die:this.showIdleTime=0,this.unschedule(this.showIdle),this.monsterAni.setAnimation(0,e,!1),this.diedEffect()}},t.prototype.monsterWinEvent=function(){this.setAnimation(o.default.MONSTER_ANI_STATE.go),console.log("\u602a\u7269\u8d62\u4e86")},t.prototype.monsterLeaveEvent=function(){this.showIdleTime=1,this.setAnimation(o.default.MONSTER_ANI_STATE.idle)},t.prototype.attackedBySimpleWeapon=function(){this.effectSp.enabled=!0,this.effectSp.setAnimation(0,"hit",!1)},t.prototype.attackedByBoomWeapon=function(){this.effectSp.enabled=!0,this.effectSp.setAnimation(0,"hit2",!1)},t.prototype.diedEffect=function(){this.diesound||(this.diesound=!0,a.default.instance.playSound("sound/boomPre"),this.dieAniNode.position=this.node.position,this.dieAniNode.getComponent(cc.ParticleSystem).resetSystem(),this.effectSp.setAnimation(0,"die",!1))},t.prototype.start=function(){},t.prototype.onDestroy=function(){},__decorate([u(sp.Skeleton)],t.prototype,"monsterAni",void 0),__decorate([u(sp.Skeleton)],t.prototype,"effectSp",void 0),__decorate([u(cc.Prefab)],t.prototype,"beatAniNode",void 0),__decorate([u(cc.Node)],t.prototype,"dieAniNode",void 0),t=__decorate([l],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../GameUtils":"GameUtils","../../SoundMgr":"SoundMgr","../../control/GameConfig":"GameConfig","./MonsterMgr":"MonsterMgr","./bullet/BulletMgr":"BulletMgr"}],MoveAction:[function(e,t,n){"use strict";cc._RF.push(t,"c3f23Pa6SRGq5srYPcvDtS3","MoveAction");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.movedistance=0,t.time=0,t.movetype=!1,t}return o(t,e),t.prototype.start=function(){this.init()},t.prototype.init=function(){var e=this,t=null,n=null;0==this.movetype?(t=cc.moveBy(1,cc.v2(this.movedistance,0)),n=cc.moveBy(1,cc.v2(-this.movedistance,0))):(t=cc.moveBy(1,cc.v2(0,this.movedistance)),n=cc.moveBy(1,cc.v2(0,-this.movedistance)));var o=cc.sequence(t,n,cc.callFunc(function(){e.init()}));this.node.runAction(o)},a([s()],t.prototype,"movedistance",void 0),a([s()],t.prototype,"time",void 0),a([s()],t.prototype,"movetype",void 0),t=a([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],NodePoolMgr:[function(e,t,n){"use strict";cc._RF.push(t,"62e18om3mJOaI4+4jkRp2tw","NodePoolMgr");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){this.nodes={},this.prefabs={}}var t;return t=e,Object.defineProperty(e,"instance",{get:function(){return t._data||(t._data=new t),this._data},enumerable:!0,configurable:!0}),e.prototype.createNodePool=function(e,t,n,o){var a=this.nodes[e];if(void 0!==a&&a)for(i=0;i<n;++i){r=cc.instantiate(t);this.nodes[e].put(r)}else{a=new cc.NodePool(o);for(var i=0;i<n;++i){var r=cc.instantiate(t);a.put(r)}this.nodes[e]=a,this.prefabs[e]=t}},e.prototype.getNodePool=function(e,t){var n=this.nodes[e],o=this.prefabs[e];return n.size()>0?n.get(t):cc.instantiate(o)},e.prototype.recycleNodePool=function(e,t){this.nodes[e].put(t)},e.prototype.NodePoolclearUp=function(e){var t=this.nodes[e];t&&(t.clear(),this.nodes[e]=null)},e._data=new t,e=t=o([i],e)}());n.default=r,cc._RF.pop()},{}],OffLine:[function(e,t,n){"use strict";cc._RF.push(t,"4e6c05x2e5G0pMgLO7XUdDQ","OffLine");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e=o([i],e)}());n.default=r,cc._RF.pop()},{}],OfflineReward:[function(e,t,n){"use strict";cc._RF.push(t,"b80f0WwwP9NIo9tdlZnY3sH","OfflineReward");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./PartBase"),r=e("../../GameUtils"),s=e("../../module/data/MainDataMgr"),c=e("../../control/GameMetaManage"),l=e("../../control/GameConfig"),u=e("../../control/valuecount/MaxCount"),d=e("../../AndroidAd"),f=cc._decorator,p=f.ccclass,h=f.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinsLight=null,t.title=null,t.coins=null,t.award=null,t}return o(t,e),t.prototype.onLoad=function(){this.coinsLight.runAction(cc.repeatForever(cc.rotateBy(2,360)))},t.prototype.start=function(){this.offData(),this.init(!1),console.warn("\u6253\u5f00 OfflineReward.ts"),d.default.instance.showNative()},t.prototype.offData=function(){var e=(r.default.instance.serverTime.getTime()-s.default.instance.getData(s.default.KEY_USER_OFF_TIME))/1e3,t=c.default.instance.offinfo.minofftime,n=c.default.instance.offinfo.maxofftime,o=c.default.instance.offinfo.offcoe/1e3,a=l.default.instance.getNowEquipWeapon(),i=l.default.instance.getHarmInfo(a.harm,l.default.instance.getWeaponMeae(a.id)),d=l.default.instance.getHeroInit(s.default.instance.getData(s.default.KEY_USER_OFF_AWARD),1)/1e3,f=i.harm;if(e>=t){e>n&&(e=n);var p=u.default.instance.formatCoid(f.value*o*e*(1+d),f.unit);this.award=p,this.title.string=u.default.instance.formatVlue(this.award)}else this.close();s.default.instance.setData(s.default.KEY_USER_OFF_TIME,r.default.instance.serverTime.getTime())},t.prototype.onDoubleReceiveDiamondBtn=function(){var e=this;r.default.buriedPoint(27),d.default.instance.showReward(function(){var t=u.default.instance.formatCoid(2*e.award.value,e.award.unit);l.default.instance.saveCoin(t),e.showFlyGoldEvent(e.coins,cc.find("Canvas/leftnode/coinbg/goldtext")),r.default.showAlert("\u606d\u559c\u83b7\u5f97"+u.default.instance.formatVlue(t)+"\u91d1\u5e01"),e.close()})},t.prototype.onReceiveDiamondBtn=function(e){r.default.buriedPoint(28),l.default.instance.saveCoin(this.award),this.showFlyGoldEvent(this.coins,cc.find("Canvas/leftnode/coinbg/goldtext")),r.default.showAlert("\u606d\u559c\u83b7\u5f97"+u.default.instance.formatVlue(this.award)+"\u91d1\u5e01"),this.close()},t.prototype.onDestroy=function(){console.warn("\u5173\u95ed OfflineReward.ts"),d.default.instance.hideNative(),d.default.instance.showBanner(),0==l.default.instance.isSigin()&&cc.loader.loadRes("prefabs/sigin/sigin",cc.Prefab,function(e,t){if(!e){var n=cc.instantiate(t);cc.director.getScene().children[0].addChild(n)}})},a([h(cc.Node)],t.prototype,"coinsLight",void 0),a([h(cc.Label)],t.prototype,"title",void 0),a([h(cc.Node)],t.prototype,"coins",void 0),t=a([p],t)}(i.default);n.default=g,cc._RF.pop()},{"../../AndroidAd":"AndroidAd","../../GameUtils":"GameUtils","../../control/GameConfig":"GameConfig","../../control/GameMetaManage":"GameMetaManage","../../control/valuecount/MaxCount":"MaxCount","../../module/data/MainDataMgr":"MainDataMgr","./PartBase":"PartBase"}],OnlineTimerMgr:[function(e,t,n){"use strict";cc._RF.push(t,"5bc03psRzVFxI3iELkEaCrc","OnlineTimerMgr");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../gamecore/managers/GameManager"),i=e("../gamecore/deer/DeerSDK"),r=cc._decorator,s=r.ccclass,c=(r.property,function(){function e(){this.nowRewardHpNum=0,this.onlineTime_cd=0,this.onlineTime_total=0,this.startTime_cd=0,this.startTime_total=0,this.canRecive=!1,this.timeOutFunc=null}var t;return t=e,Object.defineProperty(e,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastChangedKey",{get:function(){return this._lastChangedKey},enumerable:!0,configurable:!0}),e.prototype.setData=function(e,t){this[e]=t,a.default.dataManager.setData(e,t,!0,!1,!0)},e.prototype.getData=function(e){var t=a.default.dataManager.getData(e);return void 0==t||null==t||""===t?this[e]:(t=t||this[e],t=JSON.parse(t))},e.prototype.initGlobalTimer=function(){var e=this;this.nowRewardHpNum=Number(t.instance.getData(t.KEY_NOW_REWARD_HP_NUM));var n=i.default.instance.serverTime.getTime();this.onlineTime_cd=n,this.onlineTime_total=n;var o=function(){if(e.nowRewardHpNum>=t.KEY_REWARD_MAX_HP_NUM){t.instance.canRecive=!1;var n=i.default.instance.serverTime.getTime();e.onlineTime_cd=n,e.onlineTime_total=n}else{t.instance.canRecive=!0;var a=i.default.instance.serverTime.getTime();e.startTime_cd=a-e.onlineTime_cd,e.startTime_total=a-e.onlineTime_total,e.startTime_cd>=t.KEY_CD_REWARD_HP_TIME&&(e.onlineTime_cd=a,e.nowRewardHpNum+=t.KEY_REWARD_HP_NUM_BY_CD,e.nowRewardHpNum>t.KEY_REWARD_MAX_HP_NUM&&(e.nowRewardHpNum=t.KEY_REWARD_MAX_HP_NUM),t.instance.setData(t.KEY_NOW_REWARD_HP_NUM,e.nowRewardHpNum)),e.startTime_total>=t.KEY_REWARD_HP_TIME&&(e.onlineTime_total=a)}e.timeOutFunc=setTimeout(o,1e3)};this.timeOutFunc&&clearTimeout(this.timeOutFunc),o()},e.prototype.canRececiveHp=function(){return t.instance.canRecive},e.prototype.refreshTime=function(){this.onlineTime_total=i.default.instance.serverTime.getTime()},e.timeFormat=function(e){var t=new Date(e);return(t.getMinutes()>9&&t.getMinutes()||"0"+t.getMinutes())+":"+(t.getSeconds()>9&&t.getSeconds()||"0"+t.getSeconds())},e.KEY_LAST_RECEIVE_TIME="lastReceiveTime",e.KEY_REWARD_HP_TIME=72e4,e.KEY_CD_REWARD_HP_TIME=4e4,e.KEY_REWARD_HP_NUM_BY_CD=2,e.KEY_REWARD_MAX_HP_NUM=9999,e.KEY_NOW_REWARD_HP_NUM="nowRewardHpNum",e._instance=null,e=t=o([s],e)}());n.default=c,cc._RF.pop()},{"../gamecore/deer/DeerSDK":"DeerSDK","../gamecore/managers/GameManager":"GameManager"}],OpenDataProject:[function(e,t,n){"use strict";cc._RF.push(t,"2e73a1z4nBPGqeuIvvPjRef","OpenDataProject");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e.showRankPanel=function(){WXOpenData.postMessage({action:"call",fun:"showRank"})},e.hideRankPanel=function(){WXOpenData.postMessage({action:"call",fun:"hideRank"})},e.showNextOpponent=function(){WXOpenData.postMessage({action:"call",fun:"showNextOpponent"})},e.hideNextOpponent=function(){WXOpenData.postMessage({action:"call",fun:"hideNextOpponent"})},e.setMyScore=function(e){WXOpenData.postMessage({action:"call",fun:"setMyScore",data:e})},e=o([i],e)}());n.default=r,cc._RF.pop()},{}],Oppo:[function(e,t,n){"use strict";cc._RF.push(t,"5f4707iAexHUa6uX+ei486o","Oppo"),Object.defineProperty(n,"__esModule",{value:!0});var o,a=e("../base/GameValues"),i=e("./Base");n.Oppo_init=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(!o){i.Base_init(),o=e;var l=window.wx;"undefined"!=typeof qg?(Object.keys(qg).forEach(function(e){var t=qg[e],n=l[e];"function"==typeof t&&"function"==typeof n&&(l[e]=t)}),l.login=function(e){console.log("------\u3010Oppo\u3011 login-------");var t=e?e.success:null,n=e?e.fail:null,o=e?e.complete:null;try{qg.login({success:function(e){try{var a=e.token;console.log(e),l.__userInfoRes={},l.__userInfoRes.userInfo={nickName:e.nickName,avatarUrl:e.avatar,gender:e.sex,uid:e.uid},l.__userInfoRes.rawData=JSON.stringify(l.__userInfoRes.userInfo),l.__userInfoRes.encryptedData="",l.__userInfoRes.signature="",l.__userInfoRes.iv="",t&&t({code:a}),o&&o()}catch(e){n&&n(),o&&o()}},fail:function(e){console.log(e),n&&n(),o&&o()}})}catch(e){console.log(e),n&&n(),o&&o()}},l.navigateToMiniProgram=function(e){console.log("------\u3010Oppo\u3011 navigateToMiniProgram-------");e&&e.success;var t=e?e.fail:null,n=e?e.complete:null;t&&t({}),n&&n();try{e.pkgName=e.appId,qg.navigateToMiniGame(e)}catch(e){console.log(e),t&&t()}},l.initAdService=function(e){t?!0!==l._initAdServiceDone&&(l._initAdServiceDone=!0,qg.initAdService({appId:t,isDebug:a.default.isDebug,success:function(e){console.log("initAdService success",e)},fail:function(e){l._initAdServiceDone=!1,console.log("initAdService fail:"+e.code+e.msg)},complete:function(e){console.log("initAdService complete"),null!=c&&c()}})):console.log("\u65e0\u6cd5\u521d\u59cb\u5316\u5e7f\u544a\uff1aapp id\u672a\u8bbe\u7f6e\uff01")},l.createBannerAd=function(e){console.log("------\u3010Oppo\u3011 createBannerAd-------");try{var t=qg.createBannerAd({posId:n}),o={show:function(){t.show()},onShow:function(e){t.onShow(e)},offShow:function(e){t.offShow(e)},hide:function(){t.hide()},onHide:function(e){t.onHide(e)},offHide:function(e){t.offHide(e)},onError:function(e){t.onError(e)},offError:function(e){t.offError(e)},onLoad:function(e){t.onLoad(e)},offLoad:function(e){t.offLoad(e)},onResize:function(e){t.onResize(e)},offResize:function(e){t.offResize(e)},destroy:function(){t.destroy()}};return t.show(),o}catch(e){console.log("------\u3010Oppo\u3011 create banner ad fail-------",e)}return null},l.createRewardedVideoAd=function(e){console.log("------\u3010Oppo\u3011 createRewardedVideoAd-------",s);try{return qg.createRewardedVideoAd({posId:s})}catch(e){console.log("------\u3010Oppo\u3011 create video ad fail-------",e)}return null},l.createInterstitialAd=function(e){console.log("------\u3010Oppo\u3011 createInsertAd-------",r);try{return qg.createInsertAd({posId:r})}catch(e){console.log("------\u3010Oppo\u3011 create createInsertAd fail-------",e)}return null},l.initAdService()):null!=c&&c()}},cc._RF.pop()},{"../base/GameValues":"GameValues","./Base":"Base"}],PBManager:[function(e,t,n){"use strict";cc._RF.push(t,"8b042VCJhRALr0I3JD2tnm0","PBManager");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./pbcus"),r=e("../../gamecore/managers/event/EventDispacher"),s=e("../../gamecore/base/GameValues"),c=e("../../gamecore/GameCoreEventNames"),l=e("../../control/GameConfig"),u=cc._decorator,d=u.ccclass,f=(u.property,l.default.instance.gameCdn+"meta.jpg"),p=function(e){function t(){var t=e.call(this)||this;if(n._instance)throw new Error("please use PBManager.instance");return n._instance=t,t.init(),t}var n;return o(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return n._instance||new n,n._instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gameMeta",{get:function(){return this._gameMeta},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReady",{get:function(){return this._isReady},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this,t=f+"?vesion="+s.default.gameVersion,n=cc.loader.getXMLHttpRequest();n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(t){e.dataLoadedCallback(n.response)},n.onerror=function(e){console.log("\u3010PBManager\u3011init, by XMLHttpRequest"),console.log(e)},n.send(null)},t.prototype.dataLoadedCallback=function(e){this._gameMeta=i.GameMeta.decode(new Uint8Array(e)),console.log(this._gameMeta,"gameMeta"),this._isReady=!0,this.dispatchEventWith(c.default.COMMON_READY)},t=n=a([d],t)}(r.default);n.default=p,cc._RF.pop()},{"../../control/GameConfig":"GameConfig","../../gamecore/GameCoreEventNames":"GameCoreEventNames","../../gamecore/base/GameValues":"GameValues","../../gamecore/managers/event/EventDispacher":"EventDispacher","./pbcus":"pbcus"}],PartBase:[function(e,t,n){"use strict";cc._RF.push(t,"ef1eaSRyo5IPLdjnzaLA1DP","PartBase");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../gamecore/managers/GameManager"),r=e("./CoinAnim"),s=e("../../gamecore/wechat/WXBannerAd"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.start=function(){this.init(!0)},t.prototype.init=function(e){void 0===e&&(e=!0),i.default.popUpManager._popUpCount+=1,e&&s.default.currentAd&&s.default.currentAd.show()},t.prototype.close=function(){i.default.soundsManager.playTapSound(),this.node.destroy(),i.default.popUpManager._popUpCount-=1},t.prototype.showFlyGoldEvent=function(e,t,n){if(void 0===n&&(n=1),e&&t&&this.node){var o=new cc.Event.EventCustom(r.default.SHOW_FLY_ANI,!0),a=new r.FlyStruct;a.start=e.convertToWorldSpaceAR(cc.v2(0,0)),a.start=cc.find("Canvas").convertToNodeSpaceAR(a.start),a.end=t.convertToWorldSpaceAR(cc.v2(0,0)),a.end=cc.find("Canvas").convertToNodeSpaceAR(a.end),a.type=n,o.detail=a,this.node.dispatchEvent(o)}},t=a([l],t)}(cc.Component));n.default=u,cc._RF.pop()},{"../../gamecore/managers/GameManager":"GameManager","../../gamecore/wechat/WXBannerAd":"WXBannerAd","./CoinAnim":"CoinAnim"}],PetAttackInfo:[function(e,t,n){"use strict";cc._RF.push(t,"9bdf2K6uGtAK5lZI3y0JrIz","PetAttackInfo");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e=o([i],e)}());n.default=r,cc._RF.pop()},{}],PetBullet9001:[function(e,t,n){"use strict";cc._RF.push(t,"579fecoOlFPOrWnzbFRKz06","PetBullet9001");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./PetBullet"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeArr=[],t}return o(t,e),t.prototype.setProp=function(){},t.prototype.setTarget=function(e){this.targetNode=e,this.targetNode&&this.schedule(this.updateState,.05)},t.prototype.updateState=function(){var e=this.targetNode.position,t=this.node.position,n=this.node.getComponent(cc.RigidBody),o=e.x-t.x,a=e.y-t.y,i=Math.sqrt(o*o+a*a),r=a/i,s=o/i,c=this.BULLET_SPEED*r,l=this.BULLET_SPEED*s;n.linearVelocity=cc.v2(l,c);var u=this.getVectorRadians(t.x,t.y,e.x,e.y);this.node.rotation=u},a([c(cc.Node)],t.prototype,"nodeArr",void 0),t=a([s],t)}(i.default);n.default=l,cc._RF.pop()},{"./PetBullet":"PetBullet"}],PetBullet9003:[function(e,t,n){"use strict";cc._RF.push(t,"d55a3ax4e9Bh6DnYFxl7RIZ","PetBullet9003");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./PetBullet"),r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t=a([s],t)}(i.default));n.default=c,cc._RF.pop()},{"./PetBullet":"PetBullet"}],PetBullet9004:[function(e,t,n){"use strict";cc._RF.push(t,"4c1c428v7JNRIHTHcZWBN/4","PetBullet9004");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./PetBullet"),r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t=a([s],t)}(i.default));n.default=c,cc._RF.pop()},{"./PetBullet":"PetBullet"}],PetBullet:[function(e,t,n){"use strict";cc._RF.push(t,"c11953hKmpF3a9RBK/hxfyF","PetBullet");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./BulletBase"),r=e("../../../control/NodePoolMgr"),s=e("../../../module/data/StageDataMgr"),c=e("./BulletMgr"),l=e("../../../gamecore/wechat/WXDevice"),u=cc._decorator,d=u.ccclass,f=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._inited=!1,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.init=function(){this._inited||(this.node.getComponent(cc.PhysicsBoxCollider).density=.001,this.node.getComponent(cc.PhysicsBoxCollider).apply(),this.setProp(),this._inited=!0)},t.prototype.setProp=function(){},t.prototype.getVectorRadians=function(e,t,n,o){var a=o-t,i=n-e,r=Math.abs(a)/Math.abs(i),s=0;return a>0&&i<0?s=180*Math.atan(r)/Math.PI-90:a>0&&i>0?s=90-180*Math.atan(r)/Math.PI:a<0&&i<0?s=180*-Math.atan(r)/Math.PI-90:a<0&&i>0&&(s=180*Math.atan(r)/Math.PI+90),s},t.prototype.setTarget=function(e){this.targetNode=e,this.targetNode&&this.schedule(this.updateState,.05)},t.prototype.updateState1=function(){var e=this.targetNode.position,t=this.node.position,n=this.node.getComponent(cc.RigidBody),o=e.x-t.x,a=e.y-t.y,i=Math.sqrt(o*o+a*a),r=a/i,s=o/i,c=this.BULLET_SPEED*r,l=this.BULLET_SPEED*s;n.linearVelocity=cc.v2(l,c)},t.prototype.updateState=function(){var e=this.targetNode.position,t=this.node.position,n=this.node.getComponent(cc.RigidBody),o=e.x-t.x,a=e.y-t.y,i=Math.sqrt(o*o+a*a),r=a/i,s=o/i,c=this.BULLET_SPEED*r,l=this.BULLET_SPEED*s;n.linearVelocity=cc.v2(l,c);var u=this.getVectorRadians(t.x,t.y,e.x,e.y);this.node.rotation=u},t.prototype.unuse=function(){this.stopSchedule()},t.prototype.recycle=function(){r.default.instance.recycleNodePool(c.default.KEY_PET_BULLET_NAME,this.node)},t.prototype.onBeginContact=function(e,t,n){if(c.default.instance.activeBulletNum-=1,400==n.tag){var o=new cc.Event.EventCustom(c.default.BARRIER_EVENT,!0);this.node.dispatchEvent(o)}else{(o=new cc.Event.EventCustom(c.default.ATTACK_EVENT,!0)).detail={harm:s.default.PER_MONSTER_ATTACKED_PERCENT_BY_PET,type:2},this.node.dispatchEvent(o)}l.default.vibrateShort(),this.recycle()},t.prototype.stopSchedule=function(){switch(c.default.petShootType){case 9001:this.unschedule(this.updateState0);break;case 9002:this.unschedule(this.updateState1)}},t.prototype.onDestroy=function(){this.stopSchedule()},t=a([d],t)}(i.default));n.default=f,cc._RF.pop()},{"../../../control/NodePoolMgr":"NodePoolMgr","../../../gamecore/wechat/WXDevice":"WXDevice","../../../module/data/StageDataMgr":"StageDataMgr","./BulletBase":"BulletBase","./BulletMgr":"BulletMgr"}],Pet:[function(e,t,n){"use strict";cc._RF.push(t,"449b5mlRxtOMaOhygZ5qQZh","Pet");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../GameUtils"),r=e("../../../control/GameConfig"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pet=null,t.resName=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.updateInfo()},t.prototype.updateInfo=function(e){var t=this;this.resName=e||r.default.instance.getCurPetSKinInfo().id,i.default.loadRes("actions/pet/"+this.resName,sp.SkeletonData,!1,function(e){t.pet.skeletonData=e,t.petIdle()})},t.prototype.petIdle=function(){this.pet.addAnimation(0,"idle",!0)},t.prototype.petAttack=function(){this.pet.setAnimation(0,"attack",!1),this.petIdle()},t.prototype.update=function(e){},a([l(sp.Skeleton)],t.prototype,"pet",void 0),t=a([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../GameUtils":"GameUtils","../../../control/GameConfig":"GameConfig"}],PopUpManager:[function(e,t,n){"use strict";cc._RF.push(t,"a385bbYdJpEPI+qXxNTQmtC","PopUpManager");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./GameManager"),i=e("../GameCoreEventNames"),r=e("./PopUpType"),s=e("./Utils"),c=e("../wechat/WXDevice"),l=cc._decorator,u=l.ccclass,d=(l.property,function(){function e(){this.useBlurEffect=!1,this.popUpType=r.PopUpType.ZOOM,this.sceneChildren=null,this._popUpMap={},this._popUpCount=0,setInterval(this.checkPopUpNodes.bind(this),200)}return Object.defineProperty(e.prototype,"popUpCount",{get:function(){return this._popUpCount},set:function(e){this._popUpCount=e},enumerable:!0,configurable:!0}),e.prototype.createPopUpBg=function(e){void 0===e&&(e=160);var t=cc.winSize,n=new cc.Node;n.width=t.width,n.height=t.height;var o=n.addComponent(cc.Graphics);if(o.fillColor=new cc.Color(0,0,0,e),o.lineWidth=0,cc.ENGINE_VERSION>="2.0.0"?o.fillRect(-t.width/2,-t.height/2,t.width,t.height):o.fillRect(0,0,t.width,t.height),o.stroke(),!0!==this.useBlurEffect)return n.addComponent(cc.BlockInputEvents),n;var a=new cc.Node;return a.width=t.width,a.height=t.height,a.addChild(n),a.addComponent(cc.BlockInputEvents),a.addChild(s.default.newPoint()),a},e.prototype.addPopUp=function(e,t,n,o,s,l){var u=this;void 0===t&&(t=!0),void 0===n&&(n=!1),void 0===o&&(o=.8),void 0===s&&(s=160),void 0===l&&(l=!0);var d=cc.winSize,f=new cc.Vec2(0,0),p=cc.director.getScene().children[0];this.sceneChildren&&(p=this.sceneChildren);var h=e.uuid;this._popUpMap[h]=[e,null,l,this.popUpType];var g,_=null;t&&((_=this.createPopUpBg(s)).y=f.y,_.x=f.x,_.group=e.group,p.addChild(_),this._popUpMap[h][1]=_),p.addChild(e),this._popUpCount++,g=1==o?1:Math.min(d.width*o/e.width,d.height*o/e.height),e.stopAllActions();var y=cc.callFunc(function(){e.on(i.default.COMMON_CLOSE,u.nodeCloseEventHandler,u),_&&n&&_.on(cc.Node.EventType.TOUCH_END,u.popUpBgTapHandler,u),a.default.eventManager.dispatchEventWith(i.default.POP_UP_ADD,e)},this);switch(this.popUpType){case r.PopUpType.NONE:e.x=f.x,e.y=f.y,e.scale=g,e.runAction(y);break;case r.PopUpType.SLIDE:e.x=f.x-cc.winSize.width/2-e.width*g/2,e.y=f.y,e.scale=g,e.runAction(cc.sequence(cc.moveTo(.5,f.x,f.y).easing(cc.easeBackOut()),y));break;case r.PopUpType.ZOOM:e.x=f.x,e.y=f.y,e.scale=.5,e.runAction(cc.sequence(cc.scaleTo(.5,g,g).easing(cc.easeBackOut()),y))}a.default.soundsManager.playSound(a.default.soundsManager.popUpSoundSource),a.default.canVibrate&&c.default.vibrateShort()},e.prototype.popUpBgTapHandler=function(e){var t=e.currentTarget;for(var n in this._popUpMap){var o=this._popUpMap[n];if(o&&o[1]==t){var a=o[0];a&&a.dispatchEvent(new cc.Event(i.default.COMMON_CLOSE,!1))}}},e.prototype.nodeCloseEventHandler=function(e){var t=e.currentTarget;this.removePopUp(t)},e.prototype.removePopUp=function(e){if(e&&void 0!=this._popUpMap[e.uuid]){e.off(i.default.COMMON_CLOSE,this.nodeCloseEventHandler,this);var t=this._popUpMap[e.uuid][1];t&&t.off(cc.Node.EventType.TOUCH_END,this.popUpBgTapHandler,this);var n=this._popUpMap[e.uuid][2],o=this._popUpMap[e.uuid][3];if(delete this._popUpMap[e.uuid],this._popUpCount--,e.isValid){var s=cc.callFunc(function(){a.default.eventManager.dispatchEventWith(i.default.POP_UP_REMOVE,e),e&&e.getParent()&&(n?e.destroy():e.removeFromParent(!1)),t&&t.getParent()&&(n?t.destroy():t.removeFromParent(!1))});switch(e.stopAllActions(),o){case r.PopUpType.NONE:e.runAction(s);break;case r.PopUpType.SLIDE:var c=cc.winSize.width/2+e.width*e.scaleX/2;e.runAction(cc.sequence(cc.moveTo(.3,c,e.y).easing(cc.easeQuarticActionIn()),s));break;case r.PopUpType.ZOOM:e.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,.5,.5).easing(cc.easeBackIn()),cc.fadeTo(.3,0)),s))}}}},e.prototype.checkPopUpNodes=function(){if(0!=this._popUpCount)for(var e in this._popUpMap){var t=this._popUpMap[e][0];t&&!t.isValid&&this.removePopUp(t)}},e=o([u],e)}());n.default=d,cc._RF.pop()},{"../GameCoreEventNames":"GameCoreEventNames","../wechat/WXDevice":"WXDevice","./GameManager":"GameManager","./PopUpType":"PopUpType","./Utils":"Utils"}],PopUpType:[function(e,t,n){"use strict";cc._RF.push(t,"64da0P/0OZIbqw5ZNBvJI1C","PopUpType"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.NONE=0]="NONE",e[e.ZOOM=1]="ZOOM",e[e.SLIDE=2]="SLIDE"}(n.PopUpType||(n.PopUpType={})),cc._RF.pop()},{}],PrivilegeCard:[function(e,t,n){"use strict";cc._RF.push(t,"8e460kYf65NU6ocntsJPiFG","PrivilegeCard");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./PartBase"),r=e("../../module/data/MainDataMgr"),s=e("../../GameUtils"),c=e("../../control/GameConfig"),l=e("../../gamecore/managers/GameManager"),u=e("../../control/GameEventName"),d=e("../../AndroidAd"),f=cc._decorator,p=f.ccclass,h=(f.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.shareOpenVip=function(){var e=this;l.default.soundsManager.playTapSound(),s.default.instance.onShare(function(){var t=c.default.instance.gameMeta.vipMeta[0],n=r.default.instance.getData(r.default.KEY_USER_VIP_TIME);n+=t.time,r.default.instance.setData(r.default.KEY_USER_VIP_TIME,n),r.default.VIP_TIME=n,s.default.showToast("Privilege bonuses are on"),l.default.eventManager.dispatchEventWith(u.default.SHOW_VIP),e.close()})},t.prototype.playOpenVip=function(){var e=this;l.default.soundsManager.playTapSound();var t=c.default.instance.gameMeta.vipMeta[1];d.default.instance.showReward(function(){var n=r.default.instance.getData(r.default.KEY_USER_VIP_TIME);n+=t.time,r.default.instance.setData(r.default.KEY_USER_VIP_TIME,n),r.default.VIP_TIME=n,s.default.showToast("Privilege bonuses are on"),l.default.eventManager.dispatchEventWith(u.default.SHOW_VIP),e.close()})},t=a([p],t)}(i.default));n.default=h,cc._RF.pop()},{"../../AndroidAd":"AndroidAd","../../GameUtils":"GameUtils","../../control/GameConfig":"GameConfig","../../control/GameEventName":"GameEventName","../../gamecore/managers/GameManager":"GameManager","../../module/data/MainDataMgr":"MainDataMgr","./PartBase":"PartBase"}],QQCM_gameInfo:[function(e,t,n){"use strict";cc._RF.push(t,"cc20flIiV5Mq4j5xqSbZ0pH","QQCM_gameInfo"),Object.defineProperty(n,"__esModule",{value:!0});n.default={gameId:null,gameName:null,roomId:null,openId:null,seesionId:null,sex:0,accessTokenCode:0,accessToken:null,gameParam:null,QQVer:null,platform:null,model:null},cc._RF.pop()},{}],QQCM_getAvatarFromOpenId:[function(e,t,n){"use strict";cc._RF.push(t,"e541fKOigBEw5nbCBuUR2ZM","QQCM_getAvatarFromOpenId"),Object.defineProperty(n,"__esModule",{value:!0});var o=[],a=!1,i=function(){if(!0!==a&&0!=o.length){var e=o.shift(),t=o.shift();a=!0,BK.MQQ.Account.getHeadEx(e,function(e,n){a=!1,t&&t(n),i()})}};n.QQCM_getAvatarFromOpenId=function(e,t){if(console.log("------\u3010QQCM\u3011 QQCM_getAvatarFromOpenId-------"),console.log(e),"undefined"!=typeof BK){var n="GameSandBox://_head/"+e+".jpg",a=BK.FileUtil.isFileExist(n);console.log(n+" is exit :"+a),a?t&&t(n):(o.push(e,t),i())}},cc._RF.pop()},{}],QQCM:[function(e,t,n){"use strict";cc._RF.push(t,"b6ae9RZEA5O26ZlDLYPPOj5","QQCM"),Object.defineProperty(n,"__esModule",{value:!0});var o,a=e("./QQCM_gameInfo"),i=e("../base/GameValues"),r=function(e){var t="";if(e)for(var n in e)""!=t&&(t+="&"),t+=n+"="+encodeURIComponent(e[n]);return t},s=function(e){return e.replace(/^\/?res\//,"GameRes://res/")};n.QQCM_init=function(e){void 0===e&&(e=null),o=new Date,window.wx={};var t=window.wx;"undefined"!=typeof GameStatusInfo&&(Object.keys(GameStatusInfo).forEach(function(e){a.default[e]=GameStatusInfo[e]}),a.default.gameName=e,console.log("\u3010QQCM\u3011GameStatusInfo"),console.log(JSON.stringify(GameStatusInfo)));var n=i.default.canvas;n&&(n.toTempFilePathSync=function(e){if(console.log("------\u3010QQCM\u3011 toTempFilePathSync-------"),e||(e={}),console.log(JSON.stringify(e)),"undefined"!=typeof BK){var t=e.x||0,n=e.y||0,o=e.width||0,a=e.height||0,i=e.fileType||"png";n=BK.Director.screenPixelSize.height-n-a;var r=new BK.ScreenShot;r.origin={x:t,y:n},r.size={width:o,height:a};var s="screenshot_"+(new Date).getTime(),c=r.shotToFile(s,i);return console.log("\u3010QQCM\u3011file saved at "+c),c}},n.toTempFilePath=function(e){if(console.log("------\u3010QQCM\u3011 toTempFilePath-------"),console.log(JSON.stringify(e)),e){var t=e?e.success:null,n=e?e.fail:null,o=e?e.complete:null;if("undefined"!=typeof BK){var a=e.x||0,i=e.y||0,r=e.width||0,s=e.height||0,c=e.fileType||"png";i=BK.Director.screenPixelSize.height-i-s;var l=new BK.ScreenShot;l.origin={x:a,y:i},l.size={width:r,height:s};var u="screenshot_"+(new Date).getTime();l.shotToFileFromGL(bkWebGLGetInstance(),u,c,function(e){console.log("\u3010QQCM\u3011file saved at "+e),e?(t&&t({tempFilePath:e}),o&&o()):(n&&n(),o&&o())})}}}),t.createImage=function(){console.log("------\u3010QQCM\u3011 createImage-------");var e=new Image;return console.log("image is "+JSON.stringify(e)),e},t.createGameClubButton=function(e){return{onTap:function(e){},offTap:function(e){},show:function(){},hide:function(){},destroy:function(){}}},t.login=function(e){if(console.log("------\u3010QQCM\u3011 login-------"),"undefined"!=typeof BK){var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null);BK.QQ.fetchOpenKey(function(e,o,a){console.log("fetchOpenKey",e,o,a);var i={};0!=e&&200!=e||(i.code=a.openKey),t&&t(i),n&&n()})}},t.vibrateShort=function(e){console.log("------\u3010QQCM\u3011 vibrateShort-------")},t.vibrateLong=function(e){console.log("------\u3010QQCM\u3011 vibrateLong-------")},t.onMemoryWarning=function(e){console.log("------\u3010QQCM\u3011 onMemoryWarning-------")},t._userInfoRes=null,t._isGettingUserInfo=!1,t._getUserInfoStack=[],t.getUserInfo=function(e){if(void 0===e&&(e=null),console.log("------\u3010QQCM\u3011 getUserInfo-------"),"undefined"!=typeof BK){if(null!=t._userInfoRes){var n=e?e.success:null,o=e?e.complete:null;return n&&n(t._userInfoRes),void(o&&o())}t._getUserInfoStack.push(e),!0!==t._isGettingUserInfo&&(t._isGettingUserInfo=!0,BK.MQQ.Account.getNick(a.default.openId,function(e,n){console.log("------\u3010QQCM\u3011 BK.MQQ.Account.getNick-------"),console.log(e,n),n&&(t._userInfoRes={userInfo:{nickName:n,avatarUrl:a.default.openId,gender:a.default.sex},rawData:"",encryptedData:"",signature:""}),t._getUserInfoStack.forEach(function(e){var n=e?e.success:null,o=e?e.fail:null,a=e?e.complete:null;t._userInfoRes?(n&&n(t._userInfoRes),a&&a()):(o&&o(),a&&a())}),t._getUserInfoStack=[],t._isGettingUserInfo=!1}))}},t.createUserInfoButton=function(e){return void 0===e&&(e=null),console.log("------\u3010QQCM\u3011 createUserInfoButton-------"),console.log(e),null},t.getFriendCloudStorage=function(e){if(console.log("------\u3010QQCM\u3011 getFriendCloudStorage-------"),console.log(e),e&&"undefined"!=typeof BK){var t=e?e.success:null,n=e?e.fail:null,o=e?e.complete:null;BK.QQ.getRankListWithoutRoom("score",1,0,function(e,a,i){if(console.log("getRankListWithoutRoom callback  cmd"+a+" errCode:"+e+"  data:"+JSON.stringify(i)),0!==e)return console.log("\u83b7\u53d6\u6392\u884c\u699c\u6570\u636e\u5931\u8d25!\u9519\u8bef\u7801\uff1a"+e),n&&n(e),void(o&&o());var r=[];if(i)for(var s=0;s<i.data.ranking_list.length;++s){var c=i.data.ranking_list[s],l={avatarUrl:c.url,nickname:c.nick,openid:0,isSelf:1==c.selfFlag,KVDataList:[{key:"score",value:'{"wxgame": {"score": '+c.score+"}}"}]};r.push(l)}t&&t({data:r}),o&&o()})}},t.getUserCloudStorage=function(e){if(console.log("------\u3010QQCM\u3011 setUserCloudStorage-------"),console.log(e),e&&"undefined"!=typeof BK){e&&e.success;var t=e?e.fail:null,n=e?e.complete:null;t&&t(0),n&&n()}},t.setUserCloudStorage=function(e){if(console.log("------\u3010QQCM\u3011 setUserCloudStorage-------"),console.log(e),e&&"undefined"!=typeof BK){var t,n=e?e.success:null,i=e?e.fail:null,r=e?e.complete:null,s=e.KVDataList;if(s)for(var c=0;c<s.length;c++){var l=s[c],u=(l.key,l.value);try{var d=JSON.parse(u);d.wxgame&&(t=Math.floor(d.wxgame.score))}catch(e){}}if(console.log("\u3010\u4fdd\u5b58\u5206\u6570\u3011"+t),!isNaN(t)){var f={userData:[{openId:a.default.openId,startMs:o.getTime().toString(),endMs:(new Date).getTime().toString(),scoreInfo:{score:t}}],attr:{score:{type:"rank",order:1}}};BK.QQ.uploadScoreWithoutRoom(1,f,function(e,t,o){0!==e?(console.log("\u4e0a\u4f20\u5206\u6570\u5931\u8d25!\u9519\u8bef\u7801\uff1a"+e),i&&i(e),r&&r()):(console.log("\u4e0a\u4f20\u5206\u6570\u6210\u529f"+JSON.stringify(o)),n&&n(o),r&&r())})}}},t.getSetting=function(e){if(console.log("------\u3010QQCM\u3011 getSetting-------"),console.log(e),e){var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null);t&&t({authSetting:{"scope.userInfo":!0}}),n&&n()}},t.navigateToMiniProgram=function(e){if(console.log("------\u3010QQCM\u3011 navigateToMiniProgram-------"),console.log(e),e){var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null);t&&t();var o=e.appId,a=r(e.extraData);BK.QQ.skipGame(o,a),n&&n()}},t.__openDataContext={callbacks:[],postMessage:function(e){t.__openDataContext.callbacks.forEach(function(t){t(e)})}},t.getOpenDataContext=function(){return t.__openDataContext},t.onMessage=function(e){var n=t.__openDataContext.callbacks;-1==n.indexOf(e)&&n.push(e)},t.getSystemInfo=function(e){if(console.log("------\u3010QQCM\u3011 getSetting-------"),console.log(e),e){var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null),o={version:a.default.QQVer,SDKVersion:"2.3.0",platform:a.default.platform,model:a.default.model};t&&t(o),n&&n()}},t.exitMiniProgram=function(e){console.log("------\u3010QQCM\u3011 exitMiniProgram-------"),console.log(e);e&&e.success;var t=e?e.fail:null,n=e?e.complete:null;t&&t({}),n&&n()},t.__query=null,t.getLaunchOptionsSync=function(){if(console.log("------\u3010QQCM\u3011 getLaunchOptionsSync-------"),null==t.__query)try{var e=a.default.gameParam;t.__query=JSON.parse('{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}catch(e){t.__query={}}return{scene:0,query:t.__query,isSticky:0,shareTicket:null}},t.onHide=function(e){console.log("------\u3010QQCM\u3011 onHide-------"),"undefined"!=typeof BK&&BK.onEnterBackground(e)},t.onShow=function(e){console.log("------\u3010QQCM\u3011 onShow-------"),"undefined"!=typeof BK&&BK.onEnterForeground(e)},t.offHide=function(e){console.log("------\u3010QQCM\u3011 offHide-------"),"undefined"!=typeof BK&&BK.offEnterBackground(e)},t.offShow=function(e){console.log("------\u3010QQCM\u3011 offShow-------"),"undefined"!=typeof BK&&BK.offEnterForeground(e)},t.onClose=function(e){console.log("------\u3010QQCM\u3011 onClose-------"),"undefined"!=typeof BK&&BK.onGameClose(e)},t.offClose=function(e){console.log("------\u3010QQCM\u3011 offClose-------"),"undefined"!=typeof BK&&BK.offGameClose(e)},t.getFileSystemManager=function(){return console.log("------\u3010QQCM\u3011 getFileSystemManager-------"),{readFileSync:function(e,t){if(void 0===t&&(t="binary"),e=s(e),console.log("------\u3010QQCM\u3011 getFileSystemManager readFileSync -------"),console.log("\t filePath = "+e),console.log("\t encoding = "+t),"undefined"!=typeof BK){try{var n=BK.FileUtil.readFile(e);console.log("file data is "+JSON.stringify(n));var o=BK.Misc.BKBufferToArrayBuffer(n),a=new Uint8Array(o);if("binary"==t);else{for(var i="",r=a.byteLength,c=0;c<r;c++)i+=String.fromCharCode(a[c]);a=i}return a}catch(e){}return null}},readFile:function(e){if(console.log("------\u3010QQCM\u3011 getFileSystemManager readFile -------"),console.log(JSON.stringify(e)),e&&"undefined"!=typeof BK){var t=e?e.success:null,n=e?e.fail:null,o=e?e.complete:null,a=e.filePath;a=s(a);var i=e.encoding;try{var r=BK.FileUtil.readFile(a);console.log("file data is "+JSON.stringify(r));var c=BK.Misc.BKBufferToArrayBuffer(r),l=new Uint8Array(c);if("binary"==i);else{for(var u="",d=l.byteLength,f=0;f<d;f++)u+=String.fromCharCode(l[f]);l=u}t&&t(l),o&&o()}catch(e){n&&n(e),o&&o()}}}}},t.getShareInfo=function(e){},t.hideShareMenu=function(e){},t.showShareMenu=function(e){},t.updateShareMenu=function(e){},t.shareAppMessage=function(e){if(console.log("------\u3010QQCM\u3011 shareAppMessage-------"),console.log(JSON.stringify(e)),e&&"undefined"!=typeof BK){var t=e?e.success:null,n=e?e.fail:null,o=e?e.complete:null,i=e.imageUrl;if(i&&BK.FileUtil.isFileExist(i)){var r=BK.FileUtil.readFile(i);console.log("buf is"+JSON.stringify(r)),BK.QQ.shareToArkFromBuff(a.default.roomId,e.title,a.default.gameParam,r),t&&t(),o&&o()}else BK.Share.share({qqImgUrl:i,summary:e.title,success:function(e){t&&t(e),BK.Console.log("\u5206\u4eab\u6210\u529f",e.code,JSON.stringify(e.data))},fail:function(e){n&&t(e),BK.Console.log("\u5206\u4eab\u5931\u8d25",e.code,JSON.stringify(e.msg))},complete:function(){o&&o(),BK.Console.log("\u5206\u4eab\u5b8c\u6210\uff0c\b\u4e0d\u8bba\u6210\u529f\u5931\u8d25")}})}},t.onShareAppMessage=function(e){if(console.log("------\u3010QQCM\u3011 onShareAppMessage-------"),"undefined"!=typeof BK){var t;try{t=e()}catch(e){return}if(t){console.log(JSON.stringify(t));var n=t.title,o=t.imageUrl,a=t.query;try{BK.onShare({summary:n,picUrl:o,extendInfo:a})}catch(e){}}}},t.offShareAppMessage=function(e){},t.createRewardedVideoAd=function(e){return console.log("------\u3010QQCM\u3011 createRewardedVideoAd-------"),console.log(e),"undefined"==typeof BK?null:new l(e)},t.createBannerAd=function(e){return console.log("------\u3010QQCM\u3011 createBannerAd-------"),console.log(e),"undefined"==typeof BK?null:new c(e)},t.requestMidasPayment=function(e){if(console.log("------\u3010QQCM\u3011 requestMidasPayment-------"),e&&(console.log(JSON.stringify(e)),"undefined"!=typeof BK)){var t=e?e.success:null,n=e?e.fail:null,o=e?e.complete:null,a=[{itemId:e.offerId,itemNum:e.buyQuantity}],r=1;i.default.orientation==i.Orientation.ROTATED_LEFT?r=3:i.default.orientation==i.Orientation.ROTATED_RIGHT&&(r=2),BK.QQ.qPayPurchase(r,!0,a,function(e,a){console.log("qPayPurchase errCode:"+e+" data:"+JSON.stringify(a)),0==e?(t&&t(a),o&&o()):(n&&n(e),o&&o())})}},t.hideLoading=function(e){if(console.log("------\u3010QQCM\u3011 hideLoading-------"),"undefined"!=typeof BK){var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null);BK.UI.hideLoading(),t&&t(),n&&n()}},t.hideToast=function(e){if(console.log("------\u3010QQCM\u3011 hideToast-------"),"undefined"!=typeof BK){var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null);BK.UI.hideToast(),t&&t(),n&&n()}},t.showLoading=function(e){if(console.log("------\u3010QQCM\u3011 showLoading-------"),e&&"undefined"!=typeof BK){var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null);BK.UI.showLoading({title:e.title}),t&&t(),n&&n()}},t.showModal=function(e){if(console.log("------\u3010QQCM\u3011 showModal-------"),e&&"undefined"!=typeof BK){var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null);BK.UI.showAlert({title:e.title,content:e.content,success:function(e){e.confirm?t&&t(!0):e.cancel&&t&&t(!1),n&&n()},complete:function(){}})}},t.showToast=function(e){if(console.log("------\u3010QQCM\u3011 showToast-------"),e&&"undefined"!=typeof BK){var t=e?e.success:null,n=(e&&e.fail,e?e.complete:null);BK.UI.showToast({title:e.title,duration:1500}),t&&t(),n&&n()}},t.getMenuButtonBoundingClientRect=function(){return console.log("------\u3010QQCM\u3011 getMenuButtonBoundingClientRect-------"),{top:0,left:0,width:0,height:0,bottom:0,right:0}},t.setMenuStyle=function(e){console.log("------\u3010QQCM\u3011 setMenuStyle-------")},t.request=function(e){if(console.log("------\u3010QQCM\u3011 request-------"),console.log(JSON.stringify(e)),e&&"undefined"!=typeof BK){var t=e.url;if(t){var n=e?e.success:null,o=e?e.fail:null,a=e?e.complete:null,i=e.method||"get";i=i.toLocaleLowerCase();var s=e.dataType||"json";s=s.toLowerCase();var c=e.data,l=r(c);console.log(l),"post"!=i&&(t.indexOf("?")>=0?t+="&"+l:t+="?"+l);var u=new BK.HttpUtil(t);u.setHttpMethod(i),"post"==i&&u.setHttpPostData(l);var d=e.header;if(d)for(var f in d)"Referer"===f?u.setHttpReferer&&u.setHttpReferer(d.Referer):"Cookie"===f&&u.setHttpCookie&&u.setHttpCookie(d.Cookie),u.setHttpHeader(f,d[f]);u.requestAsync(function(e,i){console.log("\u3010QQCM\u3011HttpUtil result, url = "+t+", code = "+i);var r=new Uint8Array(BK.Misc.BKBufferToArrayBuffer(e));try{if("json"==s){for(var c="",l=r.byteLength,u=0;u<l;u++)c+=String.fromCharCode(r[u]);r={data:r=JSON.parse(c)}}}catch(e){}console.log(JSON.stringify(r)),200==i?(n&&n(r),a&&a()):(o&&o(i),a&&a())})}}}};var c=function(){function e(t){var n=this;this.videoType=2,this._fetchInterval=0,this._isShowing=!0,this._destroied=!1,this._onResizeCallbacks=[],this._onLoadCallbacks=[],this._onErrorCallbacks=[],t&&(this._adUnitId=t.adUnitId),this.fetchAd(),setInterval(function(){console.log("\u5237\u65b0banner\u5e7f\u544a"),n.removeAd(),n.fetchAd()},e.REFRESH_DELAY)}return e.prototype.fetchAd=function(){if(!this._destroied){if(this._lastFetachTime)if((new Date).getTime()-this._lastFetachTime.getTime()<e.MIN_DELAY)return void console.log("\u95f4\u9694\u65f6\u95f4\u592a\u5c0f");this._lastFetachTime=new Date,BK.Advertisement.fetchBannerAd(this.fetchAdCallback.bind(this))}},e.prototype.fetchAdCallback=function(e,t,n){var o=this;0==e?(this._theAd=n,this._isShowing&&this.show(),console.log("\u3010\u6761\u5f62\u5e7f\u544a\u3011fetchAdCallback, this._destroied="+this._destroied),this._theAd.onClickClose(function(){o.removeAd()}),this.doLoaded()):this.doError(e,t)},e.prototype.show=function(){var e=this;console.log("\u3010\u6761\u5f62\u5e7f\u544a\u3011show"),this._isShowing=!0,this._theAd?this._theAd.show(function(t,n,o){if(console.log("\u3010\u6761\u5f62\u5e7f\u544a\u3011this._theAd.show's callback, this._destroied="+e._destroied),console.log(o),e._destroied)try{o.close()}catch(e){}else 0==t?e.doResize():console.log("\u5c55\u793a\u5931\u8d25 msg:"+n)}):this.fetchAd()},e.prototype.removeAd=function(){console.log("\u3010\u6761\u5f62\u5e7f\u544a\u3011removeAd");try{this._theAd&&this._theAd.close()}catch(e){}this._theAd=null},e.prototype.hide=function(){this._destroied||(this._isShowing=!1,this.removeAd())},e.prototype.destroy=function(){this._destroied||(this._destroied=!0,this.removeAd(),this._onResizeCallbacks=[],this._onErrorCallbacks=[],this._onLoadCallbacks=[],clearInterval(this._fetchInterval))},e.prototype.doResize=function(){var e=this;if(!this._adSize){this._adSize={};var t=cc.view.getFrameSize();i.default.orientation==i.Orientation.DEFAULT?(this._adSize.width=.78*t.width,this._adSize.height=.78*t.width*166/582):(this._adSize.width=0,this._adSize.height=0)}this._onResizeCallbacks.forEach(function(t){t(e._adSize)})},e.prototype.onResize=function(e){this._destroied||e&&-1==this._onResizeCallbacks.indexOf(e)&&this._onResizeCallbacks.push(e)},e.prototype.offResize=function(e){if(!this._destroied){var t=this._onResizeCallbacks.indexOf(e);t>=0&&this._onResizeCallbacks.splice(t,1)}},e.prototype.doLoaded=function(){var e={};this._onLoadCallbacks.forEach(function(t){t(e)})},e.prototype.onLoad=function(e){e&&-1==this._onLoadCallbacks.indexOf(e)&&this._onLoadCallbacks.push(e)},e.prototype.offLoad=function(e){var t=this._onLoadCallbacks.indexOf(e);t>=0&&this._onLoadCallbacks.splice(t,1)},e.prototype.doError=function(e,t){var n={errMsg:t,errCode:e};this._onErrorCallbacks.forEach(function(e){e(n)})},e.prototype.onError=function(e){e&&-1==this._onErrorCallbacks.indexOf(e)&&this._onErrorCallbacks.push(e)},e.prototype.offError=function(e){var t=this._onErrorCallbacks.indexOf(e);t>=0&&this._onErrorCallbacks.splice(t,1)},e.REFRESH_DELAY=3e4,e.MIN_DELAY=1e4,e}(),l=function(){function e(e){var t=this;this.videoType=2,this._isReady=!1,this._onLoadCallbacks=[],this._onErrorCallbacks=[],this._onCloseCallbacks=[],this._completed=!1,e&&(this._adUnitId=e.adUnitId),this._theAd=BK.Advertisement.createVideoAd(),this._isReady=!1,console.log("\u3010QQCM VideoAd\u3011\u8bf7\u6c42\u89c6\u9891\u5e7f\u544a",this._theAd),this._theAd.onLoad(this.doLoaded.bind(this)),this._theAd.onPlayStart(function(){t._completed=!1,console.log("\u3010QQCM VideoAd\u3011\u89c6\u9891\u5e7f\u544a\u5f00\u59cb\u64ad\u653e")}),this._theAd.onError(function(e){console.log("\u3010QQCM VideoAd\u3011\u89c6\u9891\u5e7f\u544a\u83b7\u53d6\u5931\u8d25"),t.doError(e.code,e.msg)}),this._theAd.onPlayFinish(function(){console.log("\u3010QQCM VideoAd\u3011\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5b8c\u6210"),t._completed=!0}),this._theAd.onClose(function(){console.log("\u3010QQCM VideoAd\u3011\u89c6\u9891\u5e7f\u544a\u5173\u95ed"),t.doClose()})}return e.prototype.load=function(){},e.prototype.show=function(){this._theAd&&this._isReady&&this._theAd.show()},e.prototype.doLoaded=function(){console.log("\u3010QQCM VideoAd\u3011\u89c6\u9891\u5e7f\u544a\u83b7\u53d6\u6210\u529f"),this._isReady=!0;var e={};this._onLoadCallbacks.forEach(function(t){t(e)})},e.prototype.onLoad=function(e){e&&-1==this._onLoadCallbacks.indexOf(e)&&this._onLoadCallbacks.push(e)},e.prototype.offLoad=function(e){var t=this._onLoadCallbacks.indexOf(e);t>=0&&this._onLoadCallbacks.splice(t,1)},e.prototype.doError=function(e,t){void 0===e&&(e=0),void 0===t&&(t=null);var n={errMsg:t,errCode:e};this._onErrorCallbacks.forEach(function(e){e(n)})},e.prototype.onError=function(e){e&&-1==this._onErrorCallbacks.indexOf(e)&&this._onErrorCallbacks.push(e)},e.prototype.offError=function(e){var t=this._onErrorCallbacks.indexOf(e);t>=0&&this._onErrorCallbacks.splice(t,1)},e.prototype.doClose=function(){var e={isEnded:this._completed};this._onCloseCallbacks.forEach(function(t){t(e)})},e.prototype.onClose=function(e){e&&-1==this._onCloseCallbacks.indexOf(e)&&this._onCloseCallbacks.push(e)},e.prototype.offClose=function(e){var t=this._onCloseCallbacks.indexOf(e);t>=0&&this._onCloseCallbacks.splice(t,1)},e}();cc._RF.pop()},{"../base/GameValues":"GameValues","./QQCM_gameInfo":"QQCM_gameInfo"}],RankEventName:[function(e,t,n){"use strict";cc._RF.push(t,"d4908dbyhVAYKo75D3Pd2HZ","RankEventName");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e.RANK_SHOW_WORD_VIEW="rankshowwordview",e.RANK_SHOW_FRIED_VIEW="rankshowfriedview",e.RANK_SETTING_DATE="ranksettingdate",e=o([i],e)}());n.default=r,cc._RF.pop()},{}],RankItemRender:[function(e,t,n){"use strict";cc._RF.push(t,"4bb12rif8BIrI9SSTAfXAAj","RankItemRender");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../gamecore/components/Comp_ListRenderer"),r=e("../../../gamecore/wechat/WXImage"),s=e("../../../GameUtils"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rankLb=null,t.headImg=null,t.nameLb=null,t.imgs=[],t.rankimg=null,t.levelLb=null,t}return o(t,e),t.prototype.refreshUI=function(){var e=this.data;this.rankLb.string=this.index+1+"",void 0!=this.imgs[this.index]?(this.rankimg.node.active=!0,this.rankimg.spriteFrame=this.imgs[this.index]):this.rankimg.node.active=!1,this.headImg.spriteFrame=r.default.createImage(e.avatar),this.nameLb.string=s.default.instance.substrName(e.nickname,5),this.levelLb.string="Level "+e.amount},a([u(cc.Label)],t.prototype,"rankLb",void 0),a([u(cc.Sprite)],t.prototype,"headImg",void 0),a([u(cc.Label)],t.prototype,"nameLb",void 0),a([u([cc.SpriteFrame])],t.prototype,"imgs",void 0),a([u(cc.Sprite)],t.prototype,"rankimg",void 0),a([u(cc.Label)],t.prototype,"levelLb",void 0),t=a([l],t)}(i.default);n.default=d,cc._RF.pop()},{"../../../GameUtils":"GameUtils","../../../gamecore/components/Comp_ListRenderer":"Comp_ListRenderer","../../../gamecore/wechat/WXImage":"WXImage"}],RankManage:[function(e,t,n){"use strict";cc._RF.push(t,"a6a7dVFfp9IOopxK4uRilz0","RankManage");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../gamecore/managers/event/EventDispacher"),r=e("../../../gamecore/deer/DeerSDK"),s=e("./RankEventName"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){var t=e.call(this)||this;return t.worddata=[],t.frieddata=null,t}var n;return o(t,e),n=t,Object.defineProperty(t,"Interest",{get:function(){return this.data},enumerable:!0,configurable:!0}),t.prototype.getServiceData=function(){var e=this;r.default.instance.game_getGlobalRankingData(function(t){var n=t.score_rank,o=t.my_score;e.worddata=n,e.frieddata=o,e.dispatchEventWith(s.default.RANK_SETTING_DATE)},function(){})},Object.defineProperty(t.prototype,"getWordData",{get:function(){return this.worddata},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getMyData",{get:function(){return this.frieddata},enumerable:!0,configurable:!0}),t.data=new n,t=n=a([l],t)}(i.default));n.default=u,cc._RF.pop()},{"../../../gamecore/deer/DeerSDK":"DeerSDK","../../../gamecore/managers/event/EventDispacher":"EventDispacher","./RankEventName":"RankEventName"}],RankRender:[function(e,t,n){"use strict";cc._RF.push(t,"d5f68IfP2RIoYKPNzhGuz4f","RankRender");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./RankManage"),r=e("./RankEventName"),s=e("../../../gamecore/components/Comp_List"),c=e("../../../gamecore/wechat/WXImage"),l=e("../../../GameUtils"),u=e("../../../gamecore/managers/GameManager"),d=e("../../hall/PartBase"),f=cc._decorator,p=f.ccclass,h=f.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.rank_Lb=null,t.head_sp=null,t.name_Lb=null,t.imgs=[],t.rankimg=null,t.levelLb=null,t.wesub=null,t.kuang1=null,t.kuang2=null,t.friedBt=null,t.wordBt=null,t}return o(t,e),t.prototype.onLoad=function(){i.default.Interest.addEventListener(r.default.RANK_SETTING_DATE,this.showWord,this),this.node.width=cc.winSize.width,this.node.height=cc.winSize.height},t.prototype.closeView=function(){this.close()},t.prototype.start=function(){this.init(),i.default.Interest.getServiceData(),this.showFried()},t.prototype.showWord=function(){var e=i.default.Interest.getWordData;e&&e.length>0&&(this.showWordItem(e),this.showMyItem(i.default.Interest.getMyData))},t.prototype.showWorld=function(){if(u.default.soundsManager.playTapSound(),this.kuang1.active=!1,this.kuang2.active=!0,this.node.getChildByName("content").getChildByName("bg").getChildByName("scroll").active=!0,this.node.getChildByName("content").getChildByName("bg").getChildByName("rankme").active=!0,"undefined"!=typeof wx){var e={state:2};wx.getOpenDataContext().postMessage(e)}this.wesub.active=!1},t.prototype.showFried=function(){if(u.default.soundsManager.playTapSound(),this.kuang1.active=!0,this.kuang2.active=!1,this.node.getChildByName("content").getChildByName("bg").getChildByName("scroll").active=!1,this.node.getChildByName("content").getChildByName("bg").getChildByName("rankme").active=!1,"undefined"!=typeof wx){var e={state:1};wx.getOpenDataContext().postMessage(e)}this.wesub.active=!1,this.wesub.active=!0},t.prototype.showWordItem=function(e){void 0!=e&&(console.log("this",e),this.content.getComponent(s.default).data=e)},t.prototype.showMyItem=function(e){void 0==e&&null==e||(e.index<0?this.rank_Lb.string="\u672a\u4e0a\u699c":(this.rank_Lb.string=e.index+"",void 0!=this.imgs[e.index-1]&&(this.rankimg.spriteFrame=this.imgs[e.index-1])),this.head_sp.spriteFrame=c.default.createImage(e.avatar),this.name_Lb.string=l.default.instance.substrName(e.nickname,6),this.levelLb.string=e.amount+"\u5173")},t.prototype.onDestroy=function(){i.default.Interest.removeEventListener(r.default.RANK_SETTING_DATE,this.showWord,this),this.node.on(r.default.RANK_SHOW_WORD_VIEW,this.showWord,this)},a([h(cc.Node)],t.prototype,"content",void 0),a([h(cc.Label)],t.prototype,"rank_Lb",void 0),a([h(cc.Sprite)],t.prototype,"head_sp",void 0),a([h(cc.Label)],t.prototype,"name_Lb",void 0),a([h([cc.SpriteFrame])],t.prototype,"imgs",void 0),a([h(cc.Sprite)],t.prototype,"rankimg",void 0),a([h(cc.Label)],t.prototype,"levelLb",void 0),a([h(cc.Node)],t.prototype,"wesub",void 0),a([h(cc.Node)],t.prototype,"kuang1",void 0),a([h(cc.Node)],t.prototype,"kuang2",void 0),a([h(cc.Sprite)],t.prototype,"friedBt",void 0),a([h(cc.Sprite)],t.prototype,"wordBt",void 0),t=a([p],t)}(d.default);n.default=g,cc._RF.pop()},{"../../../GameUtils":"GameUtils","../../../gamecore/components/Comp_List":"Comp_List","../../../gamecore/managers/GameManager":"GameManager","../../../gamecore/wechat/WXImage":"WXImage","../../hall/PartBase":"PartBase","./RankEventName":"RankEventName","./RankManage":"RankManage"}],RecommendAdItemMain:[function(e,t,n){"use strict";cc._RF.push(t,"d516ebHQtBE5ZHC4qr6HJ9U","RecommendAdItemMain");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../base/IconAdBase"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.redPointNode=null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},t.prototype.start=function(){e.prototype.start.call(this)},t.prototype.showAd=function(){e.prototype.showAd.call(this),this.data&&this.redPointNode&&(this.redPointNode.active=1==this.data.ad_dot)},a([c({displayName:"\u7ea2\u70b9\u63d0\u793a",type:cc.Node})],t.prototype,"redPointNode",void 0),t=a([s],t)}(i.default);n.default=l,cc._RF.pop()},{"../base/IconAdBase":"IconAdBase"}],RecommendAdListMain:[function(e,t,n){"use strict";cc._RF.push(t,"b12fcsezBFGB6L+umfAqOpW","RecommendAdListMain");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../scripts/gamecore/deer/DeerSDK"),r=e("../../../scripts/gamecore/xiaoyaoji/XYJAPI"),s=e("../../../scripts/gamecore/deer/DeerSDKEventNames"),c=e("../base/IconAdBase"),l=e("../../gamecore/base/GameValues"),u=cc._decorator,d=u.ccclass,f=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.adMaxCount=4,t.gapH=10,t.autoSlideDelay=0,t.autoZoomDelay=0,t.moveSpeed=0,t.adItemPrefab=null,t._isTouching=!1,t._currentIndex=0,t}return o(t,e),t.prototype.onLoad=function(){this.node.opacity=0},t.prototype.start=function(){i.default.instance.isReady||r.default.userOpenID||l.default.isToutiao?this.loadAdData():i.default.instance.addEventListener(s.default.READY,this.deerSDKReadyHandler,this),this._maskerRect=this.node.getParent().getBoundingBoxToWorld(),0!=this.moveSpeed&&(this.node.on(cc.Node.EventType.TOUCH_START,this.touchHandler,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchHandler,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchHandler,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchHandler,this))},t.prototype.update=function(e){this._data&&(0==this.moveSpeed||this._isTouching||(this.node.x+=this.moveSpeed,this.moveSpeed>0?this.relayoutAdItem(!1,!0):this.relayoutAdItem(!0,!1)))},t.prototype.relayoutAdItem=function(e,t){var n=this.node.children[0],o=this.node.children[this.node.children.length-1];if(this.node.children.forEach(function(e){e.x<n.x?n=e:e.x>o.x&&(o=e)}),e){var a=new cc.Vec2(n.width/2+this.gapH,0);(a=n.convertToWorldSpaceAR(a)).x<this._maskerRect.x-n.width&&(n.x=o.x+o.width+this.gapH)}if(t){var i=new cc.Vec2(-o.width/2-this.gapH,0);(i=o.convertToWorldSpaceAR(i)).x>this._maskerRect.x+this._maskerRect.width+o.width&&(o.x=n.x-o.width-this.gapH)}},t.prototype.touchHandler=function(e){if(e.type==cc.Node.EventType.TOUCH_START)this._isTouching=!0;else if(e.type==cc.Node.EventType.TOUCH_END||e.type==cc.Node.EventType.TOUCH_CANCEL)this._isTouching=!1;else if(e.type==cc.Node.EventType.TOUCH_MOVE&&this._isTouching){var t=e.getDeltaX();this.node.x+=t,t>0?this.relayoutAdItem(!1,!0):this.relayoutAdItem(!0,!1)}},t.prototype.deerSDKReadyHandler=function(e){this.loadAdData()},t.prototype.loadAdData=function(){var e=this;i.default.instance.removeEventListener(s.default.READY,this.deerSDKReadyHandler,this),i.default.instance.ad_getAdData(i.DeerAdType.RECOMMEND,function(t){e.showAds(t)},null,this.locationFlg)},t.prototype.showAds=function(e){if(e&&0!=e.length&&this._data!=e){this._adItems&&this._adItems.forEach(function(e){e.removeFromParent(!0)}),this._data=e,this._adItems=[],this._currentIndex=0;var t=this.node.getParent();this.node.x=-t.width*t.anchorX,this.node.opacity=255;var n=e.length;this.autoSlideDelay<=0&&this.adMaxCount>0&&(n=Math.min(n,this.adMaxCount));for(var o=0,a=0;a<n;a++){var i=cc.instantiate(this.adItemPrefab);i.x=(i.width+this.gapH)*a+i.width/2+this.gapH;var r=e[a];r.index=a,i.getComponent(c.default).data=r,this.node.addChild(i),this._adItems.push(i),o=i.x+i.width/2+this.gapH}this.node.width=o,0!=this.moveSpeed||(this.unschedule(this.slideToNext),this.autoSlideDelay>0&&this.schedule(this.slideToNext,this.autoSlideDelay,cc.macro.REPEAT_FOREVER),this.unschedule(this.zoomNext),this.autoZoomDelay>0&&this.schedule(this.zoomNext,this.autoZoomDelay,cc.macro.REPEAT_FOREVER))}},t.prototype.slideToNext=function(){var e=this._adItems.length;this.adMaxCount>0&&(e-=this.adMaxCount-1),e>1&&(this.currentIndex=(this._currentIndex+1)%e)},t.prototype.zoomNext=function(){var e=this._adItems.length;if(this.adMaxCount>0&&(e=this.adMaxCount),this._adItems){var t=this._adItems.slice(this._currentIndex,this._currentIndex+e);t[Math.floor(Math.random()*t.length)].runAction(cc.sequence(cc.scaleTo(.6,1.1,1.1).easing(cc.easeBackInOut()),cc.delayTime(.3),cc.scaleTo(.3,1,1).easing(cc.easeIn(1))))}},Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(e){if(!(e<0)){var t=this._adItems.length;if(this.adMaxCount>0&&(t-=this.adMaxCount-1),!(e>=t)){this._currentIndex=e;var n=this.node.getParent(),o=this.node.children[this._currentIndex],a=-(o.x-o.width/2-this.gapH)-n.width*n.anchorX;this.node.stopAllActions(),this.node.runAction(cc.moveTo(.5,a,this.node.y).easing(cc.easeQuadraticActionOut()));for(var i=0,r=this._adItems.length;i<r;i++){var s=!0;i<this._currentIndex?s=!1:this.adMaxCount>0&&i>=this._currentIndex+this.adMaxCount&&(s=!1);var c=this._adItems[i];s&&c.opacity<1?c.runAction(cc.fadeTo(.5,255)):!s&&c.opacity>254?c.runAction(cc.fadeTo(.5,0)):(c.stopAllActions(),this._adItems[i].opacity=s?255:0)}}}},enumerable:!0,configurable:!0}),t.prototype.onDestroy=function(){i.default.instance.removeEventListener(s.default.READY,this.deerSDKReadyHandler,this)},a([f({displayName:"\u5e7f\u544a\u663e\u793a\u6570",tooltip:"\u8bbe\u7f6e\u4e3a0\uff0c\u5219\u663e\u793a\u6240\u6709\u5e7f\u544a"})],t.prototype,"adMaxCount",void 0),a([f({displayName:"\u6c34\u5e73\u95f4\u8ddd"})],t.prototype,"gapH",void 0),a([f({displayName:"\u81ea\u52a8\u8f6e\u64ad\u95f4\u9694(s)",tooltip:"0\u8868\u793a\u4e0d\u8f6e\u64ad"})],t.prototype,"autoSlideDelay",void 0),a([f({displayName:"\u968f\u673a\u9ad8\u4eae\u95f4\u9694(s)",tooltip:"0\u8868\u793a\u4e0d\u968f\u673a\u9ad8\u4eae"})],t.prototype,"autoZoomDelay",void 0),a([f({displayName:"\u81ea\u52a8\u79fb\u52a8\u901f\u5ea6",tooltip:"0\u8868\u793a\u4e0d\u81ea\u52a8\u79fb\u52a8\u3002\u5982\u679c\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5219\u4f1a\u5ffd\u7565\u81ea\u52a8\u8f6e\u64ad\u3001\u968f\u673a\u9ad8\u4eae\u5c5e\u6027"})],t.prototype,"moveSpeed",void 0),a([f({type:cc.Prefab,displayName:"\u5355\u4e2a\u5e7f\u544a\u9884\u5236\u4f53"})],t.prototype,"adItemPrefab",void 0),t=a([d],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../scripts/gamecore/deer/DeerSDK":"DeerSDK","../../../scripts/gamecore/deer/DeerSDKEventNames":"DeerSDKEventNames","../../../scripts/gamecore/xiaoyaoji/XYJAPI":"XYJAPI","../../gamecore/base/GameValues":"GameValues","../base/IconAdBase":"IconAdBase"}],RecommendAdsPanelMain:[function(e,t,n){"use strict";cc._RF.push(t,"06b11QVaC1OSrL27BuCqAut","RecommendAdsPanelMain");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./RecommendAdListMain"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.recommendAdList=null,t.locationFlg="",t}return o(t,e),t.prototype.onLoad=function(){this.recommendAdList.locationFlg=this.locationFlg},t.prototype.start=function(){},a([c({type:i.default,displayName:"\u5e7f\u544a\u5217\u8868"})],t.prototype,"recommendAdList",void 0),a([c({type:String,displayName:"\u4f4d\u7f6e\u6807\u8bc6"})],t.prototype,"locationFlg",void 0),t=a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"./RecommendAdListMain":"RecommendAdListMain"}],RecordScreenManger:[function(e,t,n){"use strict";var o;cc._RF.push(t,"ad26eyv05tKzY/KnZBLbaCb","RecordScreenManger"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.normal=1]="normal",e[e.special=2]="special"}(o=n.RecordTypeEnum||(n.RecordTypeEnum={}));var a=function(){function e(){this.GameRecorderManager=null,this.startTime=0,this.videoTime=0,this.recordType=o.normal,this.videoTopics=[],this.isStart=!1,this.recordTime=99,this.callbackFunc=null}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){},e.prototype.start=function(e){void 0===e&&(e=o.normal)},e.prototype.stop=function(){},e.prototype.registerEvent=function(){},e.prototype.getRecordTime=function(){},e.prototype.resetRecord=function(){},e.prototype.shareLuPing=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null)},e.RECORED_START_EVENT="recordStartEvent",e.RECORED_END_EVENT="recordEndEvent",e.RECORED_RESET_EVENT="recordResetEvent",e}();n.default=a,cc._RF.pop()},{}],ResManager:[function(e,t,n){"use strict";cc._RF.push(t,"e3cc5LhZVZLxIlXa2sl4tdK","ResManager");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/GameValues"),i=cc._decorator,r=i.ccclass,s=(i.property,function(){function e(){this.dataLen=0,this.mapLen=0,this.data=new Object,this.dataAry=new Array,this.otherAry=new Array,this.readyData=new Array}return e.prototype.show=function(e,t,n){this.complete=t,this.caller=n,this.loadConfig(e)},e.prototype.loadConfig=function(e){var t=this;cc.loader.loadRes(e,function(e,n){try{t.dataAry=n.json.resources,t.mapAry=n.json.map,t.otherAry=n.json.res,t.dataLen=t.dataAry.length,t.mapLen=t.mapAry.length,t.loaderFile(0)}catch(e){}})},e.prototype.loaderFile=function(e){var t=this;switch(e){case 0:var n=this.dataAry[0];this.getSkeleton(n,function(o){t.data[n]=o,t.dataAry.shift(),t.dataAry.length>0?t.loaderFile(e):t.effectComplete()});break;case 1:n=this.mapAry[0];this.getLoadRes(n,function(o){t.data[n]=o,t.mapAry.shift(),t.mapAry.length>0?t.loaderFile(e):t.loadComplete()});break;case 2:n=this.otherAry[0];this.getLoadRes(n,function(o){t.data[n]=o,t.otherAry.shift(),t.otherAry.length>0&&t.loaderFile(e)});break;case 3:var o=this.readyData[0];1==o.type?this.getSkeleton(o.url,function(e){t.data[o.url]=e,t.readyData.shift(),t.readyData.length>0?t.loaderFile(3):t.readyBack()}):2==o.type&&this.getLoadRes(o.url,function(e){t.data[o.url]=e,t.readyData.shift(),t.readyData.length>0?t.loaderFile(3):t.readyBack()})}},e.prototype.effectComplete=function(){this.loaderFile(1)},e.prototype.loadComplete=function(){this.complete&&this.complete.apply(this.caller),this.loaderFile(2)},e.prototype.getLoadRes=function(e,t){if(void 0!==e){var n=e+"?vesion="+a.default.gameVersion;cc.loader.load({url:n,type:"png"},function(e,n){e?cc.error(e):t(n)})}},e.prototype.getServerImage=function(e,t){var n=this,o=this.data[e];o&&void 0!==o&&""!=o&&null!=o?t(o):this.getLoadRes(e,function(o){n.data[e]=o,t(o)})},e.prototype.getConfig=function(e,t){var n=this,o=this.data[e];o&&void 0!==o&&""!=o&&null!=o?t(o):this.getSkeleton(e,function(o){n.data[e]=o,t(o)})},e.prototype.getSkeleton=function(e,t){var n=[e+".png?vesion="+a.default.gameVersion,e+".atlas?vesion="+a.default.gameVersion,e+".json?vesion="+a.default.gameVersion];null!=n[0].match(/^https?:\/\//i)?cc.loader.load(n,function(n,o){if(n)for(var i=0;i<n.length;i++)cc.log("Error url ["+n[i]+"]: "+o.getError(n[i]));else{var r=new sp.SkeletonData,s=e.split("/");r.textureNames=[s[s.length-1]+".png"],r.textures=[o.getContent(e+".png?vesion="+a.default.gameVersion)],r.atlasText=o.getContent(e+".atlas?vesion="+a.default.gameVersion),r.skeletonJson=o.getContent(e+".json?vesion="+a.default.gameVersion),t(r)}}):cc.loader.loadRes(e,sp.SkeletonData,function(e,n){e?cc.error(e.message||e):t(n)})},e.prototype.readyRes=function(e,t){this.readyData=e,this.readyBack=t,this.loaderFile(3)},e.prototype.getAtlas=function(e,t){var n=this,o=this.data[e];o&&void 0!==o&&""!=o&&null!=o?t(o):cc.loader.loadRes(e,cc.SpriteAtlas,function(o,a){o?cc.error(o):(n.data[e]=a,t(a))})},e.prototype.getRes=function(e,t){var n=this,o=this.data[e];o&&void 0!==o&&""!=o&&null!=o?t(o):cc.loader.loadRes(e,cc.SpriteFrame,function(o,a){o?cc.error(o):(n.data[e]=a,t(a))})},e=o([r],e)}());n.default=s,cc._RF.pop()},{"../base/GameValues":"GameValues"}],RingBarrier:[function(e,t,n){"use strict";cc._RF.push(t,"828dbQFy/FN54l/K8+wisIt","RingBarrier");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Barrier"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weldJoint=null,t.speed=1,t}return o(t,e),t.prototype.init=function(e,t,n,o){void 0===n&&(n=183),void 0===o&&(o=1);var a=[];this.node.getComponent(cc.Sprite).fillRange=e;for(var i=n,r=0;r<20*e+1;r++){var s=Math.sin(2*Math.PI/360*r*18)*i,c=Math.cos(2*Math.PI/360*r*18)*i,l=cc.v2(c,s);a.push(l)}var u=i-43;for(r=20*e;r>=0;r--){s=Math.sin(2*Math.PI/360*r*18)*u,c=Math.cos(2*Math.PI/360*r*18)*u,l=cc.v2(c,s);a.push(l)}this.node.getComponent(cc.PhysicsPolygonCollider).points=a,this.node.getComponent(cc.PhysicsPolygonCollider).apply(),this.weldJoint.referenceAngle=t,this.speed=o},t.prototype.start=function(){this.schedule(this.updateWeldEvent,0,cc.macro.REPEAT_FOREVER)},t.prototype.updateWeldEvent=function(){this.weldJoint.referenceAngle+=this.speed,this.weldJoint.connectedAnchor=cc.v2(0,0),this.weldJoint.apply()},a([c(cc.WeldJoint)],t.prototype,"weldJoint",void 0),t=a([s],t)}(i.default);n.default=l,cc._RF.pop()},{"./Barrier":"Barrier"}],RoleMgr:[function(e,t,n){"use strict";cc._RF.push(t,"afdddxhY/pJ4bG712Wjfc1A","RoleMgr");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../control/GameConfig"),i=e("../../module/data/MainDataMgr"),r=e("../../module/data/StageDataMgr"),s=cc._decorator,c=s.ccclass,l=(s.property,function(){function e(){}var t;return t=e,e.calcuRoleData=function(){var e=r.default.instance.getData(r.default.KEY_BEST_STAGE_NUM),n=i.default.instance.getData(i.default.KEY_ROLE_SKIN_ARR);if(e==t.bestStageNum)return n;t.bestStageNum=e;for(var o=a.default.instance.gameMeta.imageUpgradeMeta,s=1;s<o.length&&e>=o[s].finalStage;s++)n[s]||(n[s]={id:s,state:0,equip:!1});return i.default.instance.setData(i.default.KEY_ROLE_SKIN_ARR,n),n},e.bestStageNum=null,e=t=o([c],e)}());n.default=l,cc._RF.pop()},{"../../control/GameConfig":"GameConfig","../../module/data/MainDataMgr":"MainDataMgr","../../module/data/StageDataMgr":"StageDataMgr"}],RoleSelectItem:[function(e,t,n){"use strict";cc._RF.push(t,"07541PwyCxDY5emvgu/6jkO","RoleSelectItem");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../module/data/MainDataMgr"),r=e("./RoleSelect"),s=e("../../GameUtils"),c=e("../../SoundMgr"),l=e("./Role"),u=cc._decorator,d=u.ccclass,f=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.txtName=null,t.btn=null,t.head=null,t.roleSkinInfo=null,t.finalStage=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.updateInfo=function(e,t){var n=this;this.txtName.string=t.name,s.default.loadRes("textures/hero/herohead/"+t.imageId,cc.SpriteFrame,!0,function(e){try{n.head.spriteFrame=e}catch(e){}}),this.updateBtnState(e,t)},t.prototype.updateBtnState=function(e,t){this.roleSkinInfo=e,e?this.btn.getComponent(cc.Sprite).spriteFrame=r.default.btnSpfmArr[e.state]:(this.btn.getComponent(cc.Sprite).spriteFrame=r.default.btnSpfmArr[2],this.btn.getChildByName("txt").getComponent(cc.Label).string="Pass "+t.finalStage+" levels",this.finalStage=t.finalStage)},t.prototype.onClickEvent=function(){if(c.default.instance.playTapSound(),null!=this.roleSkinInfo){if(0==this.roleSkinInfo.state){this.roleSkinInfo.state=1;for(var e=i.default.instance.getData(i.default.KEY_ROLE_SKIN_ARR),t=0;t<e.length;t++)if(e[t].state=1,1==e[t].equip)e[t].equip=!1;else if(e[t].id==this.roleSkinInfo.id){e[t].equip=!0;break}i.default.instance.setData(i.default.KEY_ROLE_SKIN_ARR,e),s.default.showToast("\u606d\u559c\u89e3\u9501\u65b0\u5f62\u8c61\uff0c\u5df2\u4e3a\u60a8\u81ea\u52a8\u66ff\u6362\u8be5\u5f62\u8c61");var n=new cc.Event.EventCustom(l.default.UPDATE_ROLE_SKIN_EVENT,!0);this.node.dispatchEvent(n);var o=new cc.Event.EventCustom(r.default.STATE_CHANGE_EVENT,!0);this.node.dispatchEvent(o)}}else s.default.showToast("\u7d2f\u8ba1\u901a\u8fc7"+this.finalStage+"\u5173\u89e3\u9501")},a([f(cc.Label)],t.prototype,"txtName",void 0),a([f(cc.Node)],t.prototype,"btn",void 0),a([f(cc.Sprite)],t.prototype,"head",void 0),t=a([d],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../GameUtils":"GameUtils","../../SoundMgr":"SoundMgr","../../module/data/MainDataMgr":"MainDataMgr","./Role":"Role","./RoleSelect":"RoleSelect"}],RoleSelect:[function(e,t,n){"use strict";cc._RF.push(t,"d1ca2unER5ICqVSaIcZQHyB","RoleSelect");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../hall/PartBase"),r=e("../../gamecore/managers/GameManager"),s=e("../../control/GameConfig"),c=e("./RoleSelectItem"),l=e("../stageMode/RoleMgr"),u=cc._decorator,d=u.ccclass,f=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnSpfmArr=[],t.item=null,t.content=null,t}var n;return o(t,e),n=t,t.prototype.onLoad=function(){n.btnSpfmArr=this.btnSpfmArr,this.updateInfo(),this.node.on(n.STATE_CHANGE_EVENT,this.onStateChangedEvent,this)},t.prototype.start=function(){this.init()},t.prototype.updateInfo=function(){var e=this,t=l.default.calcuRoleData();this.item.getComponent(c.default).updateInfo(t[0],s.default.instance.gameMeta.imageUpgradeMeta[0]);var n=1;this.schedule(function(){var o=cc.instantiate(e.item);e.content.addChild(o),o.getComponent(c.default).updateInfo(t[n]?t[n]:null,s.default.instance.gameMeta.imageUpgradeMeta[n]),n++},.1,s.default.instance.gameMeta.imageUpgradeMeta.length-2)},t.prototype.onStateChangedEvent=function(){for(var e=l.default.calcuRoleData(),t=1;t<this.content.childrenCount;t++)this.content.children[t].getComponent(c.default).updateBtnState(e[t],s.default.instance.gameMeta.imageUpgradeMeta[t])},t.prototype.onCloseClickEvent=function(e){r.default.soundsManager.playTapSound(),this.close()},t.STATE_CHANGE_EVENT="stateChangeEvent",t.btnSpfmArr=[],a([f(cc.SpriteFrame)],t.prototype,"btnSpfmArr",void 0),a([f(cc.Node)],t.prototype,"item",void 0),a([f(cc.Node)],t.prototype,"content",void 0),t=n=a([d],t)}(i.default);n.default=p,cc._RF.pop()},{"../../control/GameConfig":"GameConfig","../../gamecore/managers/GameManager":"GameManager","../hall/PartBase":"PartBase","../stageMode/RoleMgr":"RoleMgr","./RoleSelectItem":"RoleSelectItem"}],Role:[function(e,t,n){"use strict";cc._RF.push(t,"22246QIbu1IQoG+w2+j4n4d","Role");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../module/data/StageDataMgr"),r=e("../../module/data/MainDataMgr"),s=e("../../control/GameConfig"),c=e("./MainScene"),l=e("../guide/GuideNewControl"),u=e("../../gamecore/managers/GameManager"),d=e("../guide/GuideEventName"),f=e("../stageMode/RoleMgr"),p=e("../../GameUtils"),h=e("./MainBg"),g=cc._decorator,_=g.ccclass,y=g.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.txtUnlockLevel=null,t.startGameBtn=null,t.spfmArr=[],t.roleTitle=null,t.mainBgComp=null,t}var n;return o(t,e),n=t,t.prototype.onLoad=function(){var e=this;this.node.on(n.UPDATE_ROLE_SKIN_EVENT,this.updateRoleSkinInfo,this);for(var t=i.default.instance.getData(i.default.KEY_BEST_STAGE_NUM),o=0,a=0;a<s.default.instance.gameMeta.imageUpgradeMeta.length;a++)if(t<s.default.instance.gameMeta.imageUpgradeMeta[a].finalStage){o=s.default.instance.gameMeta.imageUpgradeMeta[a].finalStage;break}0==o?this.txtUnlockLevel.node.parent.active=!1:this.txtUnlockLevel.string=o-t+"";var l=f.default.calcuRoleData();this.updateRoleSkinInfo(),2==t&&1==r.default.instance.getData(r.default.KEY_IS_NEW_USER)&&0==l[1].state&&this.addGuide();var h=function(){for(var t=r.default.instance.getData(r.default.KEY_ROLE_SKIN_ARR),o=0;o<t.length;o++)t[o].state=1,1==t[o].equip&&(t[o].equip=!1);t[t.length-1].equip=!0,r.default.instance.setData(r.default.KEY_ROLE_SKIN_ARR,t),p.default.showToast("Congrats on unlocking the new image, which has been automatically replaced for you.");var a=new cc.Event.EventCustom(n.UPDATE_ROLE_SKIN_EVENT,!0);e.node.dispatchEvent(a),u.default.eventManager.dispatchEventWith(d.default.GUIDE_CLOSE)},g=function(t){if(0==l[t].state){_.startGameBtn.getComponent(cc.Sprite).spriteFrame=_.spfmArr[1],_.startGameBtn.getChildByName("startgame").getComponent(cc.Sprite).spriteFrame=_.spfmArr[3],_.startGameBtn.getChildByName("startgame").width=302.4,_.startGameBtn.getChildByName("startgame").height=41.4,_.startGameBtn.getComponent(cc.Button).clickEvents=[],_.startGameBtn.getChildByName("shou").active=!0,_.startGameBtn.getChildByName("lock").active=!1,_.startGameBtn.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,1.2),cc.scaleTo(.5,1)))),_.startGameBtn.on(cc.Node.EventType.TOUCH_END,h,_.startGameBtn);var n=function(){for(var t=1;t<l.length;t++)if(0==l[t].state)return;e.unschedule(n),e.startGameBtn.off(cc.Node.EventType.TOUCH_END,h,e.startGameBtn),e.startGameBtn.getComponent(cc.Button).clickEvents=[],e.startGameBtn.getChildByName("shou").active=!1,e.startGameBtn.getChildByName("lock").active=!0,e.startGameBtn.stopAllActions(),e.startGameBtn.scale=1,e.startGameBtn.on(cc.Node.EventType.TOUCH_END,function(){cc.find("Canvas").getComponent(c.default).onStartGame()},e.startGameBtn),e.startGameBtn.getComponent(cc.Sprite).spriteFrame=e.spfmArr[0],e.startGameBtn.getChildByName("startgame").getComponent(cc.Sprite).spriteFrame=e.spfmArr[2],e.startGameBtn.getChildByName("startgame").width=150,e.startGameBtn.getChildByName("startgame").height=39};return _.schedule(n,.2,cc.macro.REPEAT_FOREVER),"break"}},_=this;for(a=1;a<l.length;a++){if("break"===g(a))break}},t.prototype.start=function(){},t.prototype.updateRoleSkinInfo=function(){var e=this,t=s.default.instance.getCurRoleSKinInfo();p.default.loadRes("textures/main/roleLevel/"+t.imageId,cc.SpriteFrame,!1,function(t){try{e.roleTitle.spriteFrame=t}catch(e){}}),this.mainBgComp.updateBg(t.backgroundId),this.node.getComponent(c.default).updateHeroInfo(null)},t.prototype.addGuide=function(){var e=this,t=cc.instantiate(cc.find("Canvas").getComponent(c.default).guide);cc.find("Canvas").addChild(t),this.scheduleOnce(function(){e.startGameBtn.getChildByName("shou").active=!1,e.startGameBtn.getChildByName("lock").active=!1,t.getComponent(l.default).init("guide8","<color=#00ff00>\u606d\u559c\u60a8\u89e3\u9501\u65b0\u5f62\u8c61</c><br/><color=#ffffff>\u5feb\u5feb\u8fdb\u884c\u8fdb\u9636\u5427\uff01</c>",e.startGameBtn)})},t.UPDATE_ROLE_SKIN_EVENT="updateRoleSkinEvent",a([y(cc.Label)],t.prototype,"txtUnlockLevel",void 0),a([y(cc.Node)],t.prototype,"startGameBtn",void 0),a([y(cc.SpriteFrame)],t.prototype,"spfmArr",void 0),a([y(cc.Sprite)],t.prototype,"roleTitle",void 0),a([y(h.default)],t.prototype,"mainBgComp",void 0),t=n=a([_],t)}(cc.Component);n.default=m,cc._RF.pop()},{"../../GameUtils":"GameUtils","../../control/GameConfig":"GameConfig","../../gamecore/managers/GameManager":"GameManager","../../module/data/MainDataMgr":"MainDataMgr","../../module/data/StageDataMgr":"StageDataMgr","../guide/GuideEventName":"GuideEventName","../guide/GuideNewControl":"GuideNewControl","../stageMode/RoleMgr":"RoleMgr","./MainBg":"MainBg","./MainScene":"MainScene"}],RopeMgr:[function(e,t,n){"use strict";cc._RF.push(t,"69ca7nDKItG4q2ZMIVA8EMU","RopeMgr");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e.ROPE_SLICE_COUNT=11,e.ROPE_STATE=cc.Enum({UNREADY:"unReady",READY:"ready",ACTIVE:"active",DIED:"died",SUCCESS:"success"}),e.ROPE_FRICTION=1,e.ROPE_RESTITUTION=.5,e.ROPE_GRAVITY_SCALE=10,e.ROPE_ANGULAR_DAMPING=1,e.ROPE_LINEAR_DAMPING=1,e.ROPE_WIDTH=6,e.ROPE_HEIGHT=527,e.ROPE_DENSITY=6500,e=o([i],e)}());n.default=r,cc._RF.pop()},{}],Rope:[function(e,t,n){"use strict";cc._RF.push(t,"8de7bS8IJJKbZs/o30SoE21","Rope");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./RopeMgr"),r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=i.default.ROPE_STATE.ACTIVE,t._sliceDensity=1,t._sliceOverlap=6,t._slices=[],t.resDir="textures/stageMode/rope/rope",t}return o(t,e),t.prototype.onLoad=function(){this.state=i.default.ROPE_STATE.UNREADY,this.createRope()},t.prototype.createRope=function(){var e=this;this._sliceDensity=1;var t=i.default.ROPE_SLICE_COUNT;this.resDir&&cc.loader.loadRes(this.resDir,function(n,o){if(n)e.createRope();else{e.node.setContentSize(o.width,o.height),i.default.ROPE_WIDTH=o.width,i.default.ROPE_HEIGHT=o.height;var a=i.default.ROPE_WIDTH*i.default.ROPE_HEIGHT;e._sliceDensity=i.default.ROPE_DENSITY/a;for(var r=i.default.ROPE_HEIGHT/t,s=0;s<t;s++){var c=new cc.Node;c.width=12*i.default.ROPE_WIDTH,c.height=r,c.x=s*r,c.y=0,e.node.addChild(c);var l=new cc.Node,u=l.addComponent(cc.Sprite),d=s*r;if(d+r>=i.default.ROPE_HEIGHT){r-=e._sliceOverlap;var f=d+"";d=Number(JSON.parse(f).toFixed(2))}u.spriteFrame=new cc.SpriteFrame(o,new cc.Rect(0,d,i.default.ROPE_WIDTH,r+e._sliceOverlap)),c.addChild(l),e._slices.push(c)}e.createRigidBodies(),e.state=i.default.ROPE_STATE.READY,e.scheduleOnce(function(){e.ropeActiveEvent(),e.node.dispatchEvent(new cc.Event.EventCustom(i.default.ROPE_STATE.READY,!0))},.1)}})},t.prototype.createRigidBodies=function(){for(var e,t=0;t<this._slices.length;t++){var n=this._slices[t],o=n.width,a=n.height,r=n.addComponent("cc.PhysicsBoxCollider"),s=n.getComponent(cc.RigidBody);if(s.type=cc.RigidBodyType.Static,s.angularDamping=i.default.ROPE_ANGULAR_DAMPING,s.gravityScale=i.default.ROPE_GRAVITY_SCALE,s.linearDamping=i.default.ROPE_LINEAR_DAMPING,r.size=new cc.Size(o,a),r.friction=i.default.ROPE_FRICTION,r.restitution=i.default.ROPE_RESTITUTION,r.density=this._sliceDensity,r.apply(),e){var c=n.addComponent(cc.RevoluteJoint);c.anchor=new cc.Vec2(0,a/2),c.connectedAnchor=new cc.Vec2(0,-a/2),c.connectedBody=e,c.collideConnected=!1,c.apply();var l=n.addComponent(cc.RopeJoint);l.anchor=new cc.Vec2(o/2,o),l.connectedAnchor=new cc.Vec2(o/2,o),l.connectedBody=e,l.maxLength=a+this._sliceOverlap/1,l.collideConnected=!1,l.apply(),(l=n.addComponent(cc.RopeJoint)).anchor=new cc.Vec2(-o/2,o),l.connectedAnchor=new cc.Vec2(-o/2,o),l.connectedBody=e,l.maxLength=a+this._sliceOverlap/1,l.collideConnected=!1,l.apply(),e=s}else e=s}},t.prototype.applyLevelData=function(e){this._slices&&this._slices.forEach(function(e){var t=e.getComponent("cc.PhysicsBoxCollider");e.getComponent(cc.RigidBody).gravityScale=1,t.friction=1,t.restitution=1.1,t.apply()})},t.prototype.ropeActiveEvent=function(){this.state=i.default.ROPE_STATE.ACTIVE;for(var e=1;e<this._slices.length;e++){this._slices[e].getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic}},t.prototype.start=function(){},t.prototype.ropePullUpEvent=function(){for(var e=0;e<3;e++)this._slices[e].getComponent(cc.RigidBody).linearVelocity=cc.v2(0,1770)},t.prototype.ropePullDownEvent=function(){},t=a([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{"./RopeMgr":"RopeMgr"}],ScaleAction:[function(e,t,n){"use strict";cc._RF.push(t,"9d5378j4gxLa4pK6Z/0joaL","ScaleAction");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.start=function(){this.init()},t.prototype.init=function(){},t=a([r],t)}(cc.Component));n.default=s,cc._RF.pop()},{}],SceneManager:[function(e,t,n){"use strict";cc._RF.push(t,"ddac7RZgRZNE4KZKupiSmvK","SceneManager");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./GameManager"),i=e("../components/Comp_LoadingSceneMain"),r=cc._decorator,s=r.ccclass,c=(r.property,function(){function e(){this._sceneStack=[],this._startLoadingTime=0}var t;return t=e,Object.defineProperty(e.prototype,"currentSceneName",{get:function(){return this._currentSceneName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentScene",{set:function(e){this._sceneStack=[e],this._currentSceneName=e,this.loadScene(e)},enumerable:!0,configurable:!0}),e.prototype.pushScene=function(e){this._sceneStack.push(e),this.loadScene(e)},e.prototype.preloadScene=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),cc.director.preloadScene(e,function(e,t,n){},function(o){console.log("\u9884\u52a0\u8f7d\u573a\u666f\u5b8c\u6210",e,o),o?(console.log("\u573a\u666f"+a.default.sceneManager.currentSceneName+"\u52a0\u8f7d\u5931\u8d25"),null!=n&&n()):null!=t&&t()})},e.prototype.popScene=function(){if(this._sceneStack.length>1){var e=this._sceneStack.pop(),t=this._sceneStack[this._sceneStack.length-1];return this.loadScene(t),e}return null},e.prototype.dropScene=function(e){var t=this._sceneStack.indexOf(e);t>-1&&(t==this._sceneStack.length-1?this.popScene():this._sceneStack.splice(t,1))},e.prototype.reset=function(){this._sceneStack=[],this._currentSceneName=null},e.prototype.loadScene=function(e){if(this.loadingSceneName){if(this._isLoading)return;this._currentSceneName=e,this.showLoadingScene(),cc.director.preloadScene(e,function(t){console.log("err",t),t?(console.log("\u573a\u666f"+a.default.sceneManager.currentSceneName+"\u52a0\u8f7d\u5931\u8d25"),a.default.sceneManager._isLoading=!1,a.default.sceneManager.popScene()):a.default.sceneManager.sceneLoadedCallback(e)})}else this._currentSceneName=e,cc.director.loadScene(e)},e.prototype.sceneLoadedCallback=function(e){if(this._currentSceneName==e){var n=(new Date).getTime();if(console.log("\u3010SceneManager\u3011sceneLoadedCallback",n-this._startLoadingTime),this.loadingSceneName&&n-this._startLoadingTime<t.MIN_LOADING_TIME)setTimeout(function(){a.default.sceneManager.sceneLoadedCallback(e)},1e3);else{var o=cc.find("Canvas");if(o){var r=o.getComponent(i.default);if(r)return console.log("\u3010sceneLoadedCallback\u3011\u91ca\u653e\u52a0\u8f7d\u573a\u666f"),r.doPreDestory(.3),void setTimeout(function(){a.default.sceneManager.showCurrentScene()},400)}this.showCurrentScene()}}},e.prototype.showCurrentScene=function(){this._isLoading=!1,cc.director.loadScene(this._currentSceneName)},Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!0,configurable:!0}),e.prototype.showLoadingScene=function(){this._startLoadingTime=(new Date).getTime(),this._isLoading||(this._isLoading=!0,cc.director.loadScene(this.loadingSceneName))},e.prototype.lockSence=function(){a.default.lockScene()},e.prototype.unlockSence=function(e){a.default.unlockScene()},e.MIN_LOADING_TIME=2e3,e=t=o([s],e)}());n.default=c,cc._RF.pop()},{"../components/Comp_LoadingSceneMain":"Comp_LoadingSceneMain","./GameManager":"GameManager"}],ShareDataTypes:[function(e,t,n){"use strict";cc._RF.push(t,"d917evRiQxEcITnhnxsSiEK","ShareDataTypes"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.DATA_TYPE_RELAY=1,e}();n.default=o,cc._RF.pop()},{}],ShareTypes:[function(e,t,n){"use strict";cc._RF.push(t,"67c0a0IyOlGaY36qJgTparY","ShareTypes"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.NORMAL="normal",e.LIFE_CARD="lifeCard",e.GAME_OVER="gameOver",e.SHARE_APP="shareApp",e.RELAY="relay",e.PK="pk",e.SEND_ITEM="sendItem",e.HONG_BAO="hongBao",e.ADD_BASE_SCORE="addBaseScore",e.ADD_SCORE="addScore",e}();n.default=o,cc._RF.pop()},{}],Sigin:[function(e,t,n){"use strict";cc._RF.push(t,"d50b7Ddy/1DMYnBgxU13mrJ","Sigin");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e=o([i],e)}());n.default=r,cc._RF.pop()},{}],SkinInfo:[function(e,t,n){"use strict";cc._RF.push(t,"34bb87G4BtJ5YePV6cj7rWn","SkinInfo");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../control/valuecount/MaxValue"),i=cc._decorator,r=i.ccclass,s=(i.property,function(){function e(){this.skinid=9001,this.skinname="\u5c04\u5927\u9e1f",this.skintype=0,this.powerdesc="\u51fb\u6740\u602a\u7269\u65f6\u83b7\u5f97$num1\u91d1\u5e01",this.costtype=1,this.cost=new a.default(100,0),this.skinlevelinfos=new Array}return e=o([r],e)}());n.default=s,cc._RF.pop()},{"../../control/valuecount/MaxValue":"MaxValue"}],SkinItem:[function(e,t,n){"use strict";cc._RF.push(t,"6c8b5RHTfhCfLLPsKWNWwHz","SkinItem");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./../../../module/data/MainDataMgr"),r=e("../../../control/valuecount/MaxCount"),s=e("../../../control/GameConfig"),c=e("../../../gamecore/managers/GameManager"),l=e("../../../control/GameEventName"),u=e("../../../module/data/StageDataMgr"),d=e("../../../gamecore/GameCoreEventNames"),f=e("../../guide/GuideEventName"),p=e("../../../GameUtils"),h=e("../../../control/GameMetaManage"),g=e("../../guide/GuideNodeManage"),_=e("../MainIntensifyMgr"),y=cc._decorator,m=y.ccclass,v=y.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skinname=null,t.level=null,t.content=null,t.cost=null,t.buytext=null,t.counttext=null,t.head=null,t.allcontent=null,t.skininfo=null,t.nowcost=null,t.isfulllevel=!1,t}var n;return o(t,e),n=t,t.prototype.onLoad=function(){c.default.eventManager.addEventListener(l.default.UPDATE_SKIN_EQUIP_STATE,this.onUpdateEquipState,this),c.default.eventManager.addEventListener(d.default.DATA_CHANGE,this.onDataChange,this)},t.prototype.start=function(){var e=this;if(null!=this.allcontent.getChildByName(_.default.skinSelectRect.name)){if(0==i.default.instance.getData(i.default.KEY_RESET_GUIDE)){var t=u.default.instance.getData(u.default.KEY_CUR_STAGE_NUM),o=h.default.instance.customsinfos[0].minresetcustoms,a=i.default.instance.getData(i.default.KEY_RESET_COUNT);if(o<t);else if(a>0)return}this.scheduleOnce(function(){var t=new cc.Event.EventCustom(n.LOCATE_SKIN_ITEM_EVENT,!0);t.detail=e.node.position,e.node.dispatchEvent(t)})}},t.prototype.onDataChange=function(e){e.data==u.default.KEY_USER_DIMOND_NUM&&this.isSkinCost()},t.prototype.init=function(e){var t=this;this.skininfo=e,this.refreshUi(),this.initEquit(),this.isSkinCost(),c.default.resManager.getRes("textures/hero/pethead/"+this.skininfo.skinid,function(e){t.head.spriteFrame=e})},t.prototype.isSkinCost=function(){var e=this.node.getChildByName("content").getChildByName("anniugao").getComponent(cc.Sprite);s.default.instance.useDimond(this.nowcost).value<0?(c.default.eventManager.dispatchEventWith(l.default.SHOW_SKIN_TIP,!1),e.spriteFrame=_.default.lockunbg):(e.spriteFrame=_.default.lockbg,c.default.eventManager.dispatchEventWith(l.default.SHOW_SKIN_TIP,!0))},t.prototype.initEquit=function(){var e=i.default.instance.getData(i.default.KEY_USER_SKIN_INFO)[this.skininfo.skinid];void 0!=e&&1==e.isequip&&(_.default.skinSelectRect.parent=this.allcontent,_.default.skinSelectRect.position=cc.v2(-169,3),_.default.skinStar.parent=this.allcontent.getChildByName("wuqidi"),_.default.skinStar.position=cc.v2(0,0),_.default.skinStar.active=!0)},t.prototype.onUpdateEquipState=function(e){var t=this;if(e.data==this.skininfo.skinid){_.default.skinSelectRect.parent=this.allcontent,_.default.skinSelectRect.position=cc.v2(-169,3),_.default.skinStar.parent=this.allcontent.getChildByName("wuqidi"),_.default.skinStar.position=cc.v2(0,0),_.default.skinStar.active=!0,p.default.showToast("Your pet has been replaced: "+this.skininfo.skinname);var o=new cc.Event.EventCustom(n.LOCATE_SKIN_ITEM_EVENT,!0);o.detail=this.node.position,this.node.dispatchEvent(o)}else this.scheduleOnce(function(){null==t.allcontent.getChildByName(_.default.weaponSelectRect.name)&&t.saveEquip(!1)})},t.prototype.settingEquip=function(){c.default.soundsManager.playTapSound(),1==this.saveEquip(!0)?c.default.eventManager.dispatchEventWith(l.default.UPDATE_SKIN_EQUIP_STATE,this.skininfo.skinid):this.onluck()},t.prototype.onluck=function(){p.default.showToast("Character has not been purchased")},t.prototype.saveEquip=function(e){var t=i.default.instance.getData(i.default.KEY_USER_SKIN_INFO),n=t[this.skininfo.skinid];return void 0!=n&&(n.isequip=e,t[this.skininfo.skinid]=n,i.default.instance.setData(i.default.KEY_USER_SKIN_INFO,t),!0)},t.prototype.refreshUi=function(){var e=g.default.Interest.getNodes("guide6");e&&e.destroy();var t=i.default.instance.getData(i.default.KEY_USER_SKIN_INFO)[this.skininfo.skinid];if(this.skinname.string=this.skininfo.skinname,void 0==t){this.buytext.string="Buy",this.counttext.string=r.default.instance.formatVlue(this.skininfo.cost),this.nowcost=this.skininfo.cost;var o=this.skininfo.skinlevelinfos[0];this.content.string=s.default.instance.replaceValue(this.skininfo.powerdesc,o.powervalue+"","$num1")}else{if(5==this.skininfo.skintype&&c.default.eventManager.dispatchEventWith(n.WEAPONPRICEEVENT,null),this.buytext.string="Upgrade",this.level.string="LV."+(t.level+1),void 0!=(o=this.skininfo.skinlevelinfos[t.level])){var a=o.nextcost;this.counttext.string=r.default.instance.formatVlue(a),this.nowcost=this.skininfo.skinlevelinfos[t.level].nextcost,this.content.string=s.default.instance.replaceValue(this.skininfo.powerdesc,o.powervalue+"","$num1")}else{a=(o=this.skininfo.skinlevelinfos[this.skininfo.skinlevelinfos.length-1]).nextcost;this.counttext.string=r.default.instance.formatVlue(a),this.content.string=s.default.instance.replaceValue(this.skininfo.powerdesc,o.powervalue+"","$num1"),this.nowcost=o.nextcost,this.buytext.string="Max",this.isfulllevel=!0}}},t.prototype.saveSkinInfo=function(e,t,n){void 0===n&&(n=!1);var o=i.default.instance.getData(i.default.KEY_USER_SKIN_INFO),a=o[this.skininfo.skinid];if(void 0==a){if(a=new i.UserSkinInfo,1==n&&t<=0)return!1;c.default.eventManager.dispatchEventWith(l.default.UPDATE_SKIN_EQUIP_STATE,this.skininfo.skinid),c.default.soundsManager.playSound("sound/newrole"),p.default.buriedPoint(18,this.skininfo.skinid+"")}else p.default.buriedPoint(19,"id="+this.skininfo.skinid+"level="+(a.level+t));a.id=e,a.isequip=n,a.level+=t,o[this.skininfo.skinid]=a,console.log(o,"data"),i.default.instance.setData(i.default.KEY_USER_SKIN_INFO,o);var r=this.skininfo.skinlevelinfos[a.level];void 0==r&&(r=this.skininfo.skinlevelinfos[this.skininfo.skinlevelinfos.length-1]);var s=i.default.Buffer[this.skininfo.skintype];return void 0==s&&(s=0),s=r.powervalue,i.default.Buffer[this.skininfo.skintype]=s,!0},t.prototype.buySkin=function(){if(1!=this.isfulllevel){this.endGuide();var e=s.default.instance.useDimond(this.nowcost);if(e.value<0)return c.default.soundsManager.playSound("sound/cuowu"),void p.default.showToast("Insufficient diamonds, you can get diamonds by resetting the glory");_.default.commonLevelUp.parent=this.allcontent.getChildByName("wuqidi"),_.default.commonLevelUp.getComponent(cc.ParticleSystem).resetSystem(),_.default.commonLevelUp.position=cc.v2(0,0),_.default.commonLevelUp.active=!0,this.scheduleOnce(function(){_.default.commonLevelUp.active=!1},.4),c.default.soundsManager.playSound("sound/buydimond"),this.saveSkinInfo(this.skininfo.skinid,1,!0),this.refreshUi(),u.default.instance.setData(u.default.KEY_USER_DIMOND_NUM,e)}},t.prototype.endGuide=function(){0==i.default.instance.getData(i.default.KEY_RESET_GUIDE)&&1==s.default.instance.startguide2&&(c.default.eventManager.dispatchEventWith(f.default.GUIDE_CLOSE),c.default.eventManager.dispatchEventWith(l.default.START_SCROLL,2),i.default.instance.setData(i.default.KEY_RESET_GUIDE,!0))},t.prototype.onDestroy=function(){c.default.eventManager.removeEventListener(l.default.UPDATE_SKIN_EQUIP_STATE,this.onUpdateEquipState,this),c.default.eventManager.removeEventListener(d.default.DATA_CHANGE,this.onDataChange,this)},t.LOCATE_SKIN_ITEM_EVENT="locateSkinItemEvent",t.WEAPONPRICEEVENT="WEAPONPRICEEVENT",a([v(cc.Label)],t.prototype,"skinname",void 0),a([v(cc.Label)],t.prototype,"level",void 0),a([v(cc.Label)],t.prototype,"content",void 0),a([v(cc.Label)],t.prototype,"cost",void 0),a([v(cc.Label)],t.prototype,"buytext",void 0),a([v(cc.Label)],t.prototype,"counttext",void 0),a([v(cc.Sprite)],t.prototype,"head",void 0),a([v(cc.Node)],t.prototype,"allcontent",void 0),t=n=a([m],t)}(cc.Component);n.default=b,cc._RF.pop()},{"../../../GameUtils":"GameUtils","../../../control/GameConfig":"GameConfig","../../../control/GameEventName":"GameEventName","../../../control/GameMetaManage":"GameMetaManage","../../../control/valuecount/MaxCount":"MaxCount","../../../gamecore/GameCoreEventNames":"GameCoreEventNames","../../../gamecore/managers/GameManager":"GameManager","../../../module/data/StageDataMgr":"StageDataMgr","../../guide/GuideEventName":"GuideEventName","../../guide/GuideNodeManage":"GuideNodeManage","../MainIntensifyMgr":"MainIntensifyMgr","./../../../module/data/MainDataMgr":"MainDataMgr"}],SkinLevelInfo:[function(e,t,n){"use strict";cc._RF.push(t,"9230aSx63RAw5qSDPgfXV71","SkinLevelInfo");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e=o([i],e)}());n.default=r,cc._RF.pop()},{}],SoundMgr:[function(e,t,n){"use strict";cc._RF.push(t,"2568dRtE0JGXo7/d1aVOKmO","SoundMgr");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./gamecore/managers/GameManager"),i=e("./module/data/MainDataMgr"),r=cc._decorator,s=r.ccclass,c=(r.property,function(){function e(){this.soundsArr={}}var t;return t=e,Object.defineProperty(e,"instance",{get:function(){return t._instance||(t._instance=new t,cc.audioEngine.setMaxAudioInstance(4)),t._instance},enumerable:!0,configurable:!0}),e.prototype.playTapSound=function(){this.playSound("sound/dianji")},e.prototype.playSound=function(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===o&&(o=NaN),!a.default.soundsManager.soundMuted&&i.default.subpkgLoaded&&(this.soundsArr[e]?t?this.soundsArr[e].audioID=cc.audioEngine.play(this.soundsArr[e].audio,t,1):cc.audioEngine.play(this.soundsArr[e].audio,t,1):this.loadSoundRes(e,t,o))},e.prototype.stopSoundByName=function(e){var t=this;this.soundsArr[e]&&this.soundsArr[e].audioID?(cc.audioEngine.stop(this.soundsArr[e].audioID),this.soundsArr[e].audioID=null):setTimeout(function(){t.stopSoundByName(e)},300)},e.prototype.playBgMusic=function(e){cc.loader.loadRes(e,cc.AudioClip,function(t,n){t?console.log("sourceURL error",e):cc.audioEngine.playMusic(n,!0)})},e.prototype.loadSoundRes=function(e,t,n){var o=this;void 0===n&&(n=NaN),cc.loader.loadRes(e,cc.AudioClip,function(a,i){a?(console.log("soundName error",e),e.indexOf("loop",8)>0?o.playSound("sound/stageMode/monster/monster_all_loop"):e.indexOf("in",8)>0?o.playSound("sound/stageMode/monster/monster_all_in"):e.indexOf("out",8)>0&&o.playSound("sound/stageMode/monster/monster_all_out")):(o.soundsArr[e]={audio:i,loop:t},o.playSound(e,t,n))})},e._instance=null,e=t=o([s],e)}());n.default=c,cc._RF.pop()},{"./gamecore/managers/GameManager":"GameManager","./module/data/MainDataMgr":"MainDataMgr"}],SoundsManager:[function(e,t,n){"use strict";cc._RF.push(t,"154cevcE7hBhZdNbocxIlb0","SoundsManager");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./GameManager"),i=e("../base/GameValues"),r=e("../GameCoreEventNames"),s=e("../wechat/WXRewardVideoAd"),c=cc._decorator,l=c.ccclass,u=(c.property,function(){function e(){this.popUpSoundSource=null,this.tapSoundSource=null,this.sceneBgSounds=[],this.sceneBgSoundURLs=[],this._musicMuted=!1,this._soundMuted=!1,this._musicVolume=1,this._soundVolume=1,this._audioClipMap={},this._groupMap={},setTimeout(this.init.bind(this),500)}return e.prototype.init=function(){var e=this,t=i.default.getLocalData("soundMuted");console.log("\u3010__deer__soundMuted\u3011",t),!0===t&&this.muteSound(),!0===(t=i.default.getLocalData("musicMuted"))&&this.muteMusic(),setTimeout(this.initForWXModule.bind(this),2e3),a.default.eventManager.addEventListener(r.default.MUTE_MUSIC,function(t){e._musicMuted=!0,e.refreshBgMusic()},this),a.default.eventManager.addEventListener(r.default.UNMUTE_MUSIC,function(t){var n=i.default.getLocalData("musicMuted");console.log("\u662f\u5426\u9759\u97f3:",typeof n,n),1==n?e.muteMusic():(console.log("\u53d6\u6d88\u9759\u97f3"),e.unmuteMusic()),1==i.default.getLocalData("soundMuted")?e.muteSound():e.unmuteSound()},this)},e.prototype.initForWXModule=function(){var e=this,t=this;"undefined"!=typeof wx?(wx.onHide(function(){console.log("\u3010SoundsManager\u3011onHide"),console.log("onHide:",s.default.isPlaying),s.default.isPlaying||(e._musicMuted=!0,e.refreshBgMusic())}),wx.onShow(function(){(console.log("\u3010SoundsManager\u3011onShow",s.default.isPlaying),console.log("onShow:",s.default.isPlaying),s.default.isPlaying)||(1==i.default.getLocalData("musicMuted")?(e.muteMusic(),console.log("\u97f3\u4e50\u9759\u97f3")):(e.unmuteMusic(),console.log("\u97f3\u4e50\u64ad\u653e")),1==i.default.getLocalData("soundMuted")?(e.muteSound(),console.log("\u97f3\u6548\u9759\u97f3")):(e.unmuteSound(),console.log("\u97f3\u6548\u64ad\u653e")))}),wx.onAudioInterruptionEnd(function(){cc.audioEngine.pauseMusic(),console.log("\u3010SoundsManager\u3011onAudioInterruptionEnd"),i.default.currentPlatform==i.PlatformName.QQCM&&t.musicContext.play()})):setTimeout(this.initForWXModule.bind(this),2e3)},e.prototype.pushSceneBgMusic=function(e){if(!s.default.isPlaying){var t,n=this;if(this.sceneBgSoundURLs.length>0&&(t=this.sceneBgSoundURLs[this.sceneBgSoundURLs.length-1]),t!=e){if(this.sceneBgSoundURLs.length>0){var o=this.sceneBgSounds[this.sceneBgSounds.length-1];console.log("\u6682\u505c\u80cc\u666f\u97f3\u4e50",this.sceneBgSoundURLs[this.sceneBgSoundURLs.length-1]),o&&o.pause()}if(this.sceneBgSounds.push(null),this.sceneBgSoundURLs.push(e),null!=e.match(/^https?:\/\//i)){var a=e+".mp3?vesion="+i.default.gameVersion;cc.loader.load({url:a,type:"mp3"},function(t,o){n.sceneBgLoadedCallback(e,o)})}else{var r=e.replace(/^\/?resources\//,"");r=r.replace(/\.mp3$/,""),cc.loader.loadRes(r,function(t,o){n.sceneBgLoadedCallback(e,o)})}}}},e.prototype.sceneBgLoadedCallback=function(e,t){if(!s.default.isPlaying&&t){var n=new cc.AudioSource;i.default.currentPlatform==i.PlatformName.QQCM&&"undefined"!=typeof BK?(this.musicContext||(this.musicContext=BK.createAudioContext()),null==e.match(/\.mp3$/i)&&(e+=".mp3"),this.musicContext.src="GameRes://"+cc.url.raw("resources/"+e),console.log("\u3010\u64ad\u653e\u97f3\u4e50\u3011GameRes://"+cc.url.raw("resources/"+e)),this.musicContext.loop=!0,this.musicContext.play()):(n.clip=t,n.loop=!0,this._musicMuted&&(n.volume=0),n.play());var o=this.sceneBgSoundURLs.indexOf(e);-1==o?n.stop():(o>=0&&(this.sceneBgSounds[o]=n),o!=this.sceneBgSoundURLs.length-1&&n.pause()),console.log("\u64ad\u653e\u80cc\u666f\u97f3\u4e50",e),this._musicMuted&&this.refreshBgMusic()}},e.prototype.popSceneBgMusic=function(){if(!(s.default.isPlaying||this.sceneBgSoundURLs.length<=1)){var e=this.sceneBgSounds.pop();e&&e.stop(),this.sceneBgSoundURLs.pop(),this.refreshBgMusic()}},e.prototype.refreshBgMusic=function(){if(0!=this.sceneBgSoundURLs.length){var e=this.sceneBgSounds[this.sceneBgSounds.length-1];e&&(console.log("\u3010SoundsManager\u3011refreshBgMusic"),console.log("\tbgAudio.isPlaying="+e.isPlaying),console.log("\tbgAudio.volume="+e.volume),this._musicMuted?(e.volume=0,i.default.currentPlatform==i.PlatformName.QQCM?(console.log("####### QQQQQQQQQQQ #######",this.musicContext,this.musicContext.muted),this.musicContext&&(this.musicContext.volume=0)):e.pause()):(e.volume=this._musicVolume,i.default.currentPlatform==i.PlatformName.QQCM?(console.log("####### QQQQQQQQQQQ #######"),this.musicContext&&(this.musicContext.volume=this._musicVolume)):e.resume()),console.log("bgAudio.volume="+e.volume))}},Object.defineProperty(e.prototype,"musicMuted",{get:function(){return this._musicMuted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"soundMuted",{get:function(){return this._soundMuted},enumerable:!0,configurable:!0}),e.prototype.muteMusic=function(){this._musicMuted||(this._musicMuted=!0,this.refreshBgMusic(),i.default.saveLocalData("musicMuted",this._musicMuted))},e.prototype.unmuteMusic=function(){this._musicMuted&&(this._musicMuted=!1,this.refreshBgMusic(),i.default.saveLocalData("musicMuted",this._musicMuted))},Object.defineProperty(e.prototype,"musicVolume",{get:function(){return this._musicVolume},set:function(e){e>=0&&this._musicVolume!=e&&(this._musicVolume=e,this.refreshBgMusic())},enumerable:!0,configurable:!0}),e.prototype.muteSound=function(){this._soundMuted||(this._soundMuted=!0,i.default.saveLocalData("soundMuted",this._soundMuted))},e.prototype.unmuteSound=function(){this._soundMuted&&(this._soundMuted=!1,i.default.saveLocalData("soundMuted",this._soundMuted))},Object.defineProperty(e.prototype,"soundVolume",{get:function(){return this._soundVolume},set:function(e){e>=0&&this._soundVolume!=e&&(this._soundVolume=e)},enumerable:!0,configurable:!0}),e.prototype.playSound=function(e,t,n,o){var a=this;if(void 0===t&&(t=!1),void 0===n&&(n=null),void 0===o&&(o=NaN),!s.default.isPlaying&&e&&!this._soundMuted){var r=this;if(void 0!=this._audioClipMap[e]){var c=this._audioClipMap[e];isNaN(o)||(c.volume=o),this.playSound_do(e,t,n)}else if(console.log("\u3010playSound\u3011load sound",e,t,n),-1!=e.indexOf("https")){var l=e+".mp3?vesion="+i.default.gameVersion;cc.loader.load({url:l,type:"mp3"},function(a,i){i&&(r._audioClipMap[e]={audio:i,volume:o},r.playSound_do(e,t,n))})}else{var u=e.replace(/^\/?resources\//,"");if(i.default.currentPlatform==i.PlatformName.QQCM&&"undefined"!=typeof BK)return this.effectContext||(this.effectContext=BK.createAudioContext({type:"effect"})),null==u.match(/\.mp3$/i)&&(u+=".mp3"),this.effectContext.src="GameRes://"+cc.url.raw("resources/"+u),console.log("\u3010\u64ad\u653e\u97f3\u6548\u3011GameRes://"+cc.url.raw("resources/"+u)),void this.effectContext.play({});u=u.replace(/\.mp3$/,""),console.log("playSound:",u),cc.loader.loadRes(u,function(i,r){r&&(a._audioClipMap[e]={audio:r,volume:o},a.playSound_do(e,t,n))})}}},e.prototype.playSound_do=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=null),!s.default.isPlaying){var o=this._audioClipMap[e];if(o){var a=o.audio;if(a){this.stopSound(e);var i=new cc.AudioSource;if(i.clip=a,t&&(i.loop=!0,n||(n="loop__"+Math.random())),"string"==typeof n&&n.length>0){var r=this._groupMap[n];r&&r.stop(),this._groupMap[n]=i}isNaN(o.volume)?i.volume=this._soundVolume:i.volume=o.volume,i.play()}}}},e.prototype.stopSound=function(e){var t=this._audioClipMap[e];if(t&&t.audio)for(var n in this._groupMap){var o=this._groupMap[n];o&&o.clip==t.audio&&(o.stop(),delete this._groupMap[n])}var a=this._groupMap[e];a&&(a.stop(),delete this._groupMap[e])},e.prototype.reset=function(){for(var e in this._audioClipMap={},this._groupMap){var t=this._groupMap[e];t&&t.stop()}this._groupMap={}},e.prototype.playTapSound=function(){s.default.isPlaying||this.tapSoundSource&&this.playSound(this.tapSoundSource)},e=o([l],e)}());n.default=u,cc._RF.pop()},{"../GameCoreEventNames":"GameCoreEventNames","../base/GameValues":"GameValues","../wechat/WXRewardVideoAd":"WXRewardVideoAd","./GameManager":"GameManager"}],StageBackground:[function(e,t,n){"use strict";cc._RF.push(t,"64714Qra15H/Laq7BI3crdH","StageBackground");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.curBgIndex="",t.cloud=null,t.inTopBg=null,t.outTopBg=null,t.inMidBg=null,t.outMidBg=null,t.inBottomBg=null,t.outBottomBg=null,t.outMidBg_1=null,t.inBg=null,t.left=!1,t}return o(t,e),t.prototype.onLoad=function(){this.updateSpfm()},t.prototype.updateSpfm=function(){for(var e=0;e<this.node.childrenCount;e++)this.node.children[e].x=0;this.setSpfm(this.inBg,"inBg"),this.setSpfm(this.outBottomBg,"outBottomBg"),this.setSpfm(this.cloud,"cloud"),this.setSpfm(this.inBottomBg,"inBottomBg"),this.setSpfm(this.inMidBg,"inMidBg"),this.setSpfm(this.inTopBg,"inTopBg"),this.setSpfm(this.outTopBg,"outTopBg"),this.setSpfm(this.outMidBg,"outMidBg"),this.setSpfm(this.outMidBg_1,"outMidBg_1")},t.prototype.start=function(){},t.prototype.updateBg=function(e){Math.abs(this.cloud.x)>50&&(this.left=!this.left),e=this.left?-e:e,this.cloud.x+=e/3,this.outTopBg.x-=e/4,this.inTopBg.x+=e/2,this.inMidBg.x+=e/1.3,this.outBottomBg.x-=.85*e},t.prototype.setSpfm=function(e,t){e.x=0,cc.loader.loadRes("textures/stageMode/background/"+this.curBgIndex+"/"+t,cc.SpriteFrame,function(t,n){if(t)try{e.getComponent(cc.Sprite).spriteFrame=null}catch(e){}else try{e.getComponent(cc.Sprite).spriteFrame=n}catch(e){}})},a([s(cc.Node)],t.prototype,"cloud",void 0),a([s(cc.Node)],t.prototype,"inTopBg",void 0),a([s(cc.Node)],t.prototype,"outTopBg",void 0),a([s(cc.Node)],t.prototype,"inMidBg",void 0),a([s(cc.Node)],t.prototype,"outMidBg",void 0),a([s(cc.Node)],t.prototype,"inBottomBg",void 0),a([s(cc.Node)],t.prototype,"outBottomBg",void 0),a([s(cc.Node)],t.prototype,"outMidBg_1",void 0),a([s(cc.Node)],t.prototype,"inBg",void 0),t=a([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],StageDataMgr:[function(e,t,n){"use strict";cc._RF.push(t,"e99062MkzVCBr+hG9lENEtc","StageDataMgr");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../gamecore/managers/GameManager"),i=e("../../control/valuecount/MaxValue"),r=cc._decorator,s=r.ccclass,c=(r.property,function(){function e(){this.curStageNum=1,this.bestStageNum=0,this.userGoldNum=new i.default(0,0),this.userDimondNum=new i.default(0,0),this.userMoveSpeed=0,this.userGoldRate=0,this.doubleGoldBuff=new Date(0).getTime(),this.tryStageCountArr=[]}var t;return t=e,Object.defineProperty(e,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastChangedKey",{get:function(){return this._lastChangedKey},enumerable:!0,configurable:!0}),e.prototype.setData=function(e,t,n){void 0===n&&(n=!0),this[e]=t,a.default.dataManager.setData(e,t,!0,!1,!0)},e.prototype.getData=function(e){var t=a.default.dataManager.getData(e);return void 0==t||null==t?this[e]:t},e.KEY_USER_GOLD_NUM="userGoldNum",e.KEY_USER_DIMOND_NUM="userDimondNum",e.KEY_USER_MOVE_SPEED="userMoveSpeed",e.KEY_USER_GOLD_RATE="userGoldRate",e.KEY_CUR_STAGE_NUM="curStageNum",e.KEY_BEST_STAGE_NUM="bestStageNum",e.KEY_DOUBLE_GOLD_BUFF="doubleGoldBuff",e.KEY_TRY_STAGE_COUNT_ARR="tryStageCountArr",e.GOLD_NUM_COLLECT=new i.default(0,0),e.TEMP_GOLD_NUM=new i.default(0,0),e.GOLDEN_EGG_GOLD_NUM=new i.default(0,0),e.GOLDEN_EGG_PRCIE=10,e.GOLD_ITEM_COUNT=1,e.GOLD_ITEM_COUNT_BY_PET=1,e.GOLD_ITEM_BOSS_DIED_COUNT=5,e.PER_MONSTER_ATTACKED_PERCENT=0,e.PER_MONSTER_ATTACKED_PERCENT_BY_PET=0,e.CUR_WEAPON_ID=0,e.TRYOUT_WEAPON_ID=null,e.CUR_GOLD_TIMES=1,e._instance=null,e=t=o([s],e)}());n.default=c,cc._RF.pop()},{"../../control/valuecount/MaxValue":"MaxValue","../../gamecore/managers/GameManager":"GameManager"}],StageEnd:[function(e,t,n){"use strict";cc._RF.push(t,"4aabeFbgZBBpZFCqbzbdqI1","StageEnd");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../module/data/StageDataMgr"),r=e("../../control/valuecount/MaxCount"),s=e("../../GameUtils"),c=e("../../control/GameConfig"),l=e("../../gamecore/deer/DeerSDK"),u=e("../hall/CoinAnim"),d=e("../../control/valuecount/MaxValue"),f=e("../../gamecore/tt/RecordScreenManger"),p=e("../../AndroidAd"),h=cc._decorator,g=h.ccclass,_=h.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.txtGoldNum=null,t.doubleReceiveBtn=null,t.img=null,t.receiveBtn=null,t.goldenEggBall=null,t.light_yellow=null,t}return o(t,e),t.prototype.onLoad=function(){f.default.getInstance().stop(),this.img.active=l.default.instance.isOnline,this.receiveBtn.active=l.default.instance.isOnline,this.goldenEggBall.active=!1},t.prototype.start=function(){var e=this;if(this.txtGoldNum.string=r.default.instance.formatVlue(r.default.instance.formatCoid(i.default.TEMP_GOLD_NUM.value,i.default.TEMP_GOLD_NUM.unit)),i.default.GOLDEN_EGG_GOLD_NUM.value>0){this.goldenEggBall.active=!0,this.light_yellow.active=!0,this.light_yellow.runAction(cc.sequence(cc.rotateBy(2.3,800),cc.callFunc(function(){e.light_yellow.active=!1,e.goldenEggBall.active=!1}))),this.scheduleOnce(function(){e.showFlyGoldEvent(e.goldenEggBall,e.txtGoldNum.node)});new d.default(i.default.TEMP_GOLD_NUM.value,i.default.TEMP_GOLD_NUM.unit);this.scheduleOnce(function(){e.txtGoldNum.string=r.default.instance.formatVlue(r.default.instance.formatCoid(i.default.TEMP_GOLD_NUM.value,i.default.TEMP_GOLD_NUM.unit))},2),i.default.instance.setData(i.default.KEY_USER_GOLD_NUM,r.default.instance.calcuValueUnit(i.default.instance.getData(i.default.KEY_USER_GOLD_NUM),i.default.GOLDEN_EGG_GOLD_NUM)),i.default.TEMP_GOLD_NUM=r.default.instance.calcuValueUnit(i.default.TEMP_GOLD_NUM,i.default.GOLDEN_EGG_GOLD_NUM)}else this.goldenEggBall.active=!1,this.light_yellow.active=!1;console.warn("\u6253\u5f00 StageEnd.ts"),setTimeout(function(){e.node&&p.default.instance.showNative(365)},600)},t.prototype.onDisable=function(){console.warn("\u5173\u95ed StageEnd.ts"),p.default.instance.hideNative();var e=0,t=cc.sys.localStorage.getItem("Pinata_gameTimes");t&&(e=Number(t)),e++,console.log("\u54df\u897f\u6b21\u6570: "+e),cc.sys.localStorage.setItem("Pinata_gameTimes",e),e>=2&&e%2==0&&p.default.instance.showInterstitial()},t.prototype.onDoubleReceiveDiamondBtn=function(e){s.default.buriedPoint(24),l.default.instance.isOnline?this.watchVideoAd():this.onReceiveDiamondBtn(null)},t.prototype.watchVideoAd=function(){var e=this;p.default.instance.showReward(function(){var t=r.default.instance.calcuValueUnit(i.default.TEMP_GOLD_NUM,i.default.TEMP_GOLD_NUM);s.default.showToast("Congratulations on getting double gold: "+r.default.instance.formatVlue(r.default.instance.formatCoid(t.value,t.unit))),i.default.instance.setData(i.default.KEY_USER_GOLD_NUM,r.default.instance.calcuValueUnit(i.default.instance.getData(i.default.KEY_USER_GOLD_NUM),i.default.TEMP_GOLD_NUM)),e.onReceiveDiamondBtn(null)})},t.prototype.onReceiveDiamondBtn=function(e){s.default.buriedPoint(25),c.default.instance.lastscene="stageModeScene",c.default.instance.nowscene="mainScene",s.default.instance.loadSceneWithBg("mainScene")},t.prototype.showFlyGoldEvent=function(e,t,n){void 0===n&&(n=1);var o=new cc.Event.EventCustom(u.default.SHOW_FLY_ANI,!0),a=new u.FlyStruct;a.start=e.convertToWorldSpaceAR(cc.v2(0,0)),a.start=cc.find("Canvas").convertToNodeSpaceAR(a.start),a.end=t.convertToWorldSpaceAR(cc.v2(0,0)),a.end=cc.find("Canvas").convertToNodeSpaceAR(a.end),a.duration=2,a.type=n,o.detail=a,this.node.dispatchEvent(o)},t.prototype.onShareLp=function(){f.default.getInstance().shareLuPing()},a([_(cc.Label)],t.prototype,"txtGoldNum",void 0),a([_(cc.Node)],t.prototype,"doubleReceiveBtn",void 0),a([_(cc.Node)],t.prototype,"img",void 0),a([_(cc.Node)],t.prototype,"receiveBtn",void 0),a([_(cc.Node)],t.prototype,"goldenEggBall",void 0),a([_(cc.Node)],t.prototype,"light_yellow",void 0),t=a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../AndroidAd":"AndroidAd","../../GameUtils":"GameUtils","../../control/GameConfig":"GameConfig","../../control/valuecount/MaxCount":"MaxCount","../../control/valuecount/MaxValue":"MaxValue","../../gamecore/deer/DeerSDK":"DeerSDK","../../gamecore/tt/RecordScreenManger":"RecordScreenManger","../../module/data/StageDataMgr":"StageDataMgr","../hall/CoinAnim":"CoinAnim"}],StageModeMain:[function(e,t,n){"use strict";cc._RF.push(t,"29e9aXaZPRAWLiFC/Dz8Y68","StageModeMain");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Rope"),r=e("./RopeMgr"),s=e("./Monster"),c=e("./bullet/BulletMgr"),l=e("../../module/data/StageDataMgr"),u=e("../../control/NodePoolMgr"),d=e("./bullet/BulletNormal"),f=e("./TopContent"),p=e("./MonsterMgr"),h=e("./GoldMgr"),g=e("./Hero"),_=e("../../control/valuecount/MaxValue"),y=e("../../control/valuecount/MaxCount"),m=e("./HeroMgr"),v=e("./StageBackground"),b=e("../../SoundMgr"),M=e("../../module/data/MainDataMgr"),w=e("../../control/GameConfig"),E=e("./DoubleGift"),S=e("../../gamecore/managers/GameManager"),O=e("./StagePrompt"),R=e("../guide/GuideNewControl"),A=e("../../gamecore/wechat/WXDevice"),D=e("../../GameUtils"),C=e("../../gamecore/deer/DeerSDK"),P=e("../../gamecore/wechat/WXBannerAd"),I=e("../mainscene/MainIntensify"),T=e("./barrier/BarrierMgr"),N=e("../../gamecore/tt/RecordScreenManger"),U=e("../../AndroidAd"),k=cc._decorator,B=k.ccclass,x=k.property,L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.rope=null,t.monster=null,t.bulletPrefab=null,t.goldPrefab=null,t.hero=null,t.pet=null,t.gameContent=null,t.stageEndPanelPrefab=null,t.goldenEggPanel=null,t.goldNumLabelPrefab=null,t.topContentComp=null,t.promptPanel=null,t.guide=null,t.effectNodePrefab=null,t.goldSpriteFrameArr=[],t.walls=[],t.lPBtn=null,t.lPsP=[],t.shareLpPanle=null,t.attackTimes=0,t.bAni=!1,t.monsterWin=!1,t.weaponOriginHarm=null,t.goldTimes=1,t.touchTime=0,t.shootTImes=0,t.isWin=!1,t.isShowEndPanel=!1,t.posArr=[{pos:cc.v2(154,-102),rotation:45},{pos:cc.v2(-129,-102),rotation:-45},{pos:cc.v2(20,93),rotation:45},{pos:cc.v2(-66,-127),rotation:20},{pos:cc.v2(-26,56),rotation:20},{pos:cc.v2(23,245),rotation:20}],t.lptime=300,t}return o(t,e),t.prototype.onLoad=function(){var e=this;this.startLp(),S.default.eventManager.addEventListener("showGameEnd",this.showGameEnd,this),console.log("Stage model main onload"),w.default.instance.gamecount=l.default.instance.getData(l.default.KEY_CUR_STAGE_NUM);for(var t=1;t<this.walls.length;t++)this.walls[t].active=!1;M.default.BACKGROUND_NODE&&(M.default.BACKGROUND_NODE.position=cc.v2(0,0),this.content.addChild(M.default.BACKGROUND_NODE),M.default.BACKGROUND_NODE.zIndex=-1),this.init(),cc.director.getPhysicsManager().enabled=!0,this.node.on(r.default.ROPE_STATE.READY,this.ropeReadyEvent,this),this.node.on(cc.Node.EventType.TOUCH_END,function(){e.unschedule(e.onTouchEndClickEvent)},this),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStartClickEvent,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){e.unschedule(e.onTouchEndClickEvent)}),this.node.on(c.default.ATTACK_EVENT,this.attackMonsterEvent,this),this.node.on(c.default.BARRIER_EVENT,this.barrierEvent,this),this.node.on(T.default.BEAT_BARRIER_EVENT,this.beatBarriersEvent,this),this.node.on(h.default.GOLD_COLLECT_EVENT,this.goldCollectEvent,this),this.node.on(p.default.MONSETER_STATE.ACTIVE,function(){for(var t=0;t<e.walls.length;t++)e.walls[t].active=!0},this),this.node.on(E.default.DOUDLE_GOLD_EVENT,this.updateGoldNumCollectEvent,this),this.schedule(function(){console.log("Home ShowInterstitial"),U.default.instance.showInterstitial()},45),S.default.soundsManager.pushSceneBgMusic("bgm/bgm"),0==M.default.instance.getData(M.default.KEY_IS_NEW_USER)&&this.addGuide();for(var n=l.default.instance.getData(l.default.KEY_CUR_STAGE_NUM),o=l.default.instance.getData(l.default.KEY_TRY_STAGE_COUNT_ARR),a=0;a<n;a++)o[a]||(o[a]=0),a==n-1&&o[a]++;console.log(o,"dataaaaaa"),l.default.instance.setData(l.default.KEY_TRY_STAGE_COUNT_ARR,o);o[a-1];var i=JSON.stringify({level:a});console.log(i,"==t=="),D.default.buriedPoint(41,i),console.warn("\u6253\u5f00 StageModeMain.ts"),U.default.instance.showBanner()},t.prototype.onTouchStartClickEvent=function(e){this.schedule(this.onTouchEndClickEvent,0,cc.macro.REPEAT_FOREVER)},t.prototype.addGuide=function(){var e=cc.instantiate(this.guide);e.getComponent(R.default).init("guide2","<color=#ffffff>Long press the screen to attack the monster</c><br/><color=#00ff00>Hit the obstacle and the game is lost!</c>"),this.node.addChild(e)},t.prototype.goldCollectEvent=function(e){e&&e.stopPropagation,b.default.instance.playSound("sound/getgold"),l.default.TEMP_GOLD_NUM=y.default.instance.calcuValueUnit(l.default.TEMP_GOLD_NUM,l.default.GOLD_NUM_COLLECT),this.topContentComp.updateGoldInfo(new _.default(0,0),l.default.TEMP_GOLD_NUM)},t.prototype.barrierEvent=function(e){var t=this;e&&e.stopPropagation(),b.default.instance.playSound("sound/stageMode/shoot"),A.default.vibrateLong(),this.monsterWin||(this.monsterWin=!0,this.isWin=!1,this.stopLp(),this.promptPanel.getComponent(O.default).showGameOverPrompt(),setTimeout(function(){t.node&&t.showLpPanle()},2e3))},t.prototype.attackMonsterEvent=function(e){var t=this;if(e&&e.stopPropagation(),this.monster.getComponent(s.default).state==p.default.MONSETER_STATE.ACTIVE){var n=1;if(M.default.Buffer[3]>=100*Math.random()?(n=2,b.default.instance.playSound("sound/crit"),this.monster.getComponent(s.default).calcuHp(2*e.detail.harm)):(b.default.instance.playSound("sound/stageMode/shoot"),this.monster.getComponent(s.default).calcuHp(e.detail.harm)),this.topContentComp.updateHpBar(p.default.CUR_HP,p.default.MAX_HP),1==e.detail.type&&this.attackTimes++,this.attackTimes%8==0&&1==e.detail.type&&this.showWordEffect(1),this.monster.getComponent(s.default).state==p.default.MONSETER_STATE.DIED){if(this.bAni)return;this.bAni=!0,console.log("\u602a\u7269\u6302\u4e86"),this.showWordEffect(3);setTimeout(function(){l.default.GOLD_NUM_COLLECT=y.default.instance.formatCoid(Math.ceil(w.default.instance.getMonsterInfo().killgoldcountcoe/1e3*t.weaponOriginHarm.value/l.default.GOLD_ITEM_BOSS_DIED_COUNT*l.default.CUR_GOLD_TIMES*t.goldTimes*M.default.Buffer[0]/100),t.weaponOriginHarm.unit),h.default.goldString=y.default.instance.formatVlue(l.default.GOLD_NUM_COLLECT),h.default.updateGoldNumLabel(),t.scheduleOnce(function(){var e=cc.sequence(cc.moveTo(.03,cc.v2(5,7)),cc.moveTo(.03,cc.v2(-6,7)),cc.moveTo(.03,cc.v2(-13,3)),cc.moveTo(.03,cc.v2(3,-6)),cc.moveTo(.03,cc.v2(-5,5)),cc.moveTo(.03,cc.v2(2,-8)),cc.moveTo(.03,cc.v2(-8,-10)),cc.moveTo(.03,cc.v2(3,10)),cc.moveTo(.03,cc.v2(0,0)));A.default.vibrateLong(),setTimeout(function(){A.default.vibrateLong()},500),t.node.getChildByName("Main Camera").runAction(cc.sequence(e,e,e,e,e));for(var n=0;n<l.default.GOLD_ITEM_BOSS_DIED_COUNT;n++){var o=u.default.instance.getNodePool(h.default.goldName);o.position=t.monster.position,t.gameContent.addChild(o),h.default.push(o)}},1),t.stopLp(),t.isWin=!0,t.promptPanel.getComponent(O.default).showCompletePrompt(),setTimeout(function(){t.node&&t.showLpPanle()},2800)},1500)}else{var o=l.default.GOLD_ITEM_COUNT*n;2==e.detail.type&&(o=l.default.GOLD_ITEM_COUNT_BY_PET*n);for(var a=0;a<o;a++){var i=u.default.instance.getNodePool(h.default.goldName);i.position=this.monster.position,this.gameContent.addChild(i),h.default.push(i)}}}},t.prototype.init=function(){var e=this;l.default.CUR_GOLD_TIMES=1,M.default.VIP_TIME>0&&(l.default.CUR_GOLD_TIMES*=2),this.attackTimes=0,l.default.GOLDEN_EGG_GOLD_NUM=new _.default(0,0);var t=w.default.instance.getNowEquipWeapon();l.default.CUR_WEAPON_ID=t.id;var n=w.default.instance.getHarmInfo(t.harm,w.default.instance.getWeaponMeae(l.default.CUR_WEAPON_ID)),o=l.default.TRYOUT_WEAPON_ID?l.default.TRYOUT_WEAPON_ID:l.default.CUR_WEAPON_ID;c.default.shootType=w.default.instance.getWeaponMeae(o).bulletlevelinfo[0].shootType,c.default.petShootType=w.default.instance.getCurPetSKinInfo().id;var a=0==c.default.shootType?"a"+o:""+o;c.default.instance.setBulletShadowInfo(a),D.default.loadRes("textures/weapon/"+a,cc.SpriteFrame,!1,function(e){c.default.curBulletSriteFrame=e}),this.weaponOriginHarm=n.harm,this.weaponOriginHarm=new _.default(1,0),c.default.BULLET_ATTACK_NUM=l.default.TRYOUT_WEAPON_ID?y.default.instance.formatCoid(w.default.instance.gameMeta.armsUpgradeParameterMeta[0].tryoutBuffCoefficient/1e3*1,0):new _.default(1,0),console.error("\u65b0\u7248\u672c\uff0c\u5bf9\u6b66\u5668\u653b\u51fb\u529b\u7279\u6b8a\u5904\u7406,\u653b\u51fb\u529b",c.default.BULLET_ATTACK_NUM);var i=w.default.instance.getBulleInfo(t.bulle,w.default.instance.getWeaponMeae(l.default.CUR_WEAPON_ID));c.default.DEFAULT_BULLET_NUM=i.bulle,c.default.instance.bulletNum=c.default.DEFAULT_BULLET_NUM,c.default.instance.activeBulletNum=0;var r=w.default.instance.getHeroInit(l.default.instance.getData(l.default.KEY_USER_MOVE_SPEED),0);m.default.HERO_SPEED=(r/1e3+1)*m.default.DEFAULT_HERO_SPEED,0==l.default.instance.getData(l.default.KEY_CUR_STAGE_NUM)&&l.default.instance.setData(l.default.KEY_CUR_STAGE_NUM,1);var s=w.default.instance.getMonsterInfo();l.default.GOLD_ITEM_BOSS_DIED_COUNT=s.killgoldcount,l.default.GOLD_ITEM_COUNT=s.glodcount,p.default.MAX_HP=1,p.default.CUR_HP=0;var d=y.default.instance.formatUint(c.default.BULLET_ATTACK_NUM.value,c.default.BULLET_ATTACK_NUM.unit,s.hp.value,s.hp.unit);l.default.PER_MONSTER_ATTACKED_PERCENT=d.value1.value/d.value2.value,T.default.init(s,this.gameContent),u.default.instance.createNodePool(c.default.KEY_BULLET_NAME,this.bulletPrefab,3),c.default.instance.bulletNum*l.default.PER_MONSTER_ATTACKED_PERCENT<1?(console.log("\u8fc7\u4e0d\u4e86\u5173"),u.default.instance.createNodePool(h.default.goldName,this.goldPrefab,3*l.default.GOLD_ITEM_COUNT)):(console.log("\u8fc7\u5173"),u.default.instance.createNodePool(h.default.goldName,this.goldPrefab,l.default.GOLD_ITEM_BOSS_DIED_COUNT+l.default.GOLD_ITEM_COUNT)),h.default.goldNumLabelPrefab=this.goldNumLabelPrefab,h.default.goldSpriteFrameArr=this.goldSpriteFrameArr,l.default.TEMP_GOLD_NUM=new _.default(0,0),h.default.targetNode=this.hero,this.scheduleOnce(function(){h.default.HERO_Y=e.hero.y-e.hero.getContentSize().height/3})},t.prototype.beatBarriersEvent=function(e){e.stopPropagation;var t=e.detail;M.default.Buffer[4]||(M.default.Buffer[4]=0);var n=y.default.instance.formatCoid(t*c.default.BULLET_ATTACK_NUM.value*(1+M.default.Buffer[4]/100),c.default.BULLET_ATTACK_NUM.unit);l.default.TEMP_GOLD_NUM=y.default.instance.calcuValueUnit(l.default.TEMP_GOLD_NUM,n),this.topContentComp.updateGoldInfo(new _.default(0,0),l.default.TEMP_GOLD_NUM)},t.prototype.updateGoldNumCollectEvent=function(e){e&&e.stopPropagation(),this.goldTimes=e?e.detail:1;var t=w.default.instance.getHeroInit(l.default.instance.getData(l.default.KEY_USER_GOLD_RATE),2)/1e3;l.default.GOLD_NUM_COLLECT=y.default.instance.formatCoid(Math.ceil(w.default.instance.getMonsterInfo().glodcountcoe/1e3*this.weaponOriginHarm.value*this.goldTimes/l.default.GOLD_ITEM_COUNT*l.default.CUR_GOLD_TIMES*(t+1)*(l.default.TRYOUT_WEAPON_ID,1)),this.weaponOriginHarm.unit),h.default.goldString=y.default.instance.formatVlue(l.default.GOLD_NUM_COLLECT),h.default.updateGoldNumLabel()},t.prototype.start=function(){var e=this;console.log("Stage model main start"),this.schedule(this.calcuVIPTime,1,cc.macro.REPEAT_FOREVER),S.default.popUpManager._popUpCount=0;var t=m.default.HERO_SPEED/3;this.schedule(function(){M.default.BACKGROUND_NODE.getComponent(v.default).updateBg(e.hero.getComponent(g.default).moveToLeft?t:-t)},.05,cc.macro.REPEAT_FOREVER),h.default.startUpdate(),this.topContentComp.updateHpBar(p.default.CUR_HP,p.default.MAX_HP),this.topContentComp.updateGoldInfo(new _.default(0,0),l.default.TEMP_GOLD_NUM),this.topContentComp.updateBulletNumInfo(c.default.instance.bulletNum);var n=l.default.instance.getData(l.default.KEY_CUR_STAGE_NUM);this.topContentComp.updateLevelInfo(n,n+1),this.promptPanel.getComponent(O.default).showLevelPrompt(n),"loading"==w.default.instance.lastscene&&(cc.director.preloadScene("mainScene"),D.default.loadRes("prefabs/intensify",cc.Prefab,!0,function(e){M.default.INTENSIFY_NODE=cc.instantiate(e),M.default.INTENSIFY_NODE.opacity=0,M.default.INTENSIFY_NODE.getComponent(I.default).onShowWeapon(1),M.default.INTENSIFY_NODE.getComponent(I.default).selected(1)}))},t.prototype.ropeReadyEvent=function(e){var t=this.rope.getComponent(i.default)._slices;this.monster.getComponent(s.default).createRigidBodies(t[t.length-1].getComponent(cc.RigidBody))},t.prototype.onTouchEndClickEvent=function(e){var t=this;if(!this.monsterWin){var n=(new Date).getTime();n-this.touchTime<100||(this.touchTime=n,b.default.instance.playTapSound(),this.monster.getComponent(s.default).state!==p.default.MONSETER_STATE.ACTIVE||c.default.instance.bulletNum<=0||(this.shootBullet(),++this.shootTImes%M.default.Buffer[2]==0&&(this.scheduleOnce(function(){t.shootBullet()},.14),this.shootTImes=0),b.default.instance.playSound("sound/stageMode/weapons/"+(l.default.TRYOUT_WEAPON_ID?l.default.TRYOUT_WEAPON_ID:l.default.CUR_WEAPON_ID)),this.hero.getComponent(g.default).heroShoot()))}},t.prototype.shootBullet=function(){var e=u.default.instance.getNodePool(c.default.KEY_BULLET_NAME),t=cc.v2(0,0);0==c.default.shootType&&(t.x=this.hero.x>0?-40:40,t.y=145),this.gameContent.addChild(e),e.getComponent(d.default).init(),e.position=cc.v2(this.hero.x+t.x,this.hero.y+t.y),e.getComponent(d.default).setTarget(this.monster)},t.prototype.shootPetBullet=function(){},t.prototype.calcuVIPTime=function(){M.default.VIP_TIME>0&&(M.default.VIP_TIME-=1),M.default.BOX_TIME>0&&(M.default.BOX_TIME-=1)},t.prototype.update=function(e){},t.prototype.onDestroy=function(){this.clearElems(),M.default.instance.setData(M.default.KEY_USER_VIP_TIME,M.default.VIP_TIME),M.default.instance.setData(M.default.KEY_USER_GOLD_BOX_TIME,M.default.BOX_TIME),this.unschedule(this.calcuVIPTime),this.unschedule(this.accoutTime),S.default.eventManager.removeEventListener("showGameEnd",this.showGameEnd,this)},t.prototype.clearElems=function(){h.default.clear(),l.default.TRYOUT_WEAPON_ID=null,cc.director.getPhysicsManager().enabled=!1,this.rope.destroy(),u.default.instance.NodePoolclearUp(c.default.KEY_BULLET_NAME),u.default.instance.NodePoolclearUp(h.default.goldName),T.default.clear(),c.default.curBulletSriteFrame=null},t.prototype.monsterDiedEvent=function(){this.isWin=!0;var e=l.default.instance.getData(l.default.KEY_CUR_STAGE_NUM)+1;l.default.instance.setData(l.default.KEY_CUR_STAGE_NUM,e);var t=l.default.instance.getData(l.default.KEY_BEST_STAGE_NUM)+1;t<e-1&&(t=e-1),l.default.instance.setData(l.default.KEY_BEST_STAGE_NUM,t),w.default.instance.saveScoreToService(t),D.default.buriedPoint(42,t+""),this.showGameEndPanelEvent()},t.prototype.monsterWinEvent=function(){this.isWin=!1,this.monster.getComponent(s.default).monsterWinEvent(),this.showGameEndPanelEvent()},t.prototype.showGameEndPanelEvent=function(){var e=this;this.isShowEndPanel||(this.isShowEndPanel=!0,this.node.runAction(cc.sequence(cc.delayTime(this.monster.getComponent(s.default).state==p.default.MONSETER_STATE.DIED?1.4:3.1),cc.callFunc(function(){if(e.monster.getComponent(s.default).state==p.default.MONSETER_STATE.DIED)b.default.instance.playSound("sound/boom",!1,"",3),e.rope.destroy(),e.monster.active=!1;else{for(var t=0;t<e.walls.length;t++)e.walls[t].destroy();e.rope.getComponent(i.default).ropePullUpEvent(),e.monster.getComponent(s.default).monsterLeaveEvent()}}),cc.delayTime(.5),cc.callFunc(function(){var t=null,n=(C.default.instance.canUseEasingPolicy,C.default.instance.game_config);void 0!=n&&(n.goldenEggSwitch||(n.goldenEggSwitch=!1)),t=cc.instantiate(e.stageEndPanelPrefab);var o=function(){0==h.default.goldArr.length&&(e.unschedule(o),l.default.instance.setData(l.default.KEY_USER_GOLD_NUM,y.default.instance.calcuValueUnit(l.default.instance.getData(l.default.KEY_USER_GOLD_NUM),l.default.TEMP_GOLD_NUM)),e.clearElems(),1==M.default.instance.getData(M.default.KEY_IS_NEW_USER)?e.node.addChild(t):(M.default.instance.setData(M.default.KEY_IS_NEW_USER,!0),t.destroy(),h.default.clear(),D.default.buriedPoint(25),w.default.instance.lastscene="stageModeScene",w.default.instance.nowscene="mainScene",D.default.instance.loadSceneWithBg("mainScene"),P.default.currentAd))};e.schedule(o,1,cc.macro.REPEAT_FOREVER)}))))},t.prototype.showWordEffect=function(e){var t=this,n=[],o=function(t){for(var o=Math.floor(11*Math.random());n.length!=e;){for(var a=!1,i=0;i<n.length;i++)n[i]==o&&(o=Math.floor(11*Math.random()),a=!0);if(!a){n.push(o);break}}D.default.loadRes("textures/stageMode/wordEffects/"+o,cc.SpriteFrame,!0,function(e){t.spriteFrame=e})};if(1==e){var a=cc.instantiate(this.effectNodePrefab);o(a.getComponent(cc.Sprite));var i=Math.floor(3*Math.random());a.position=this.posArr[i].pos,a.rotation=this.posArr[i].rotation,a.scale=.8,this.gameContent.addChild(a),a.runAction(cc.sequence(cc.scaleTo(.3,1.2),cc.scaleTo(.2,1))),a.runAction(cc.sequence(cc.delayTime(.7),cc.callFunc(function(){a.destroy()})))}else for(var r=function(e){s.scheduleOnce(function(){var n=cc.instantiate(t.effectNodePrefab);o(n.getComponent(cc.Sprite)),n.position=t.posArr[e+3].pos,n.rotation=t.posArr[e+3].rotation,t.gameContent.addChild(n),n.runAction(cc.sequence(cc.scaleTo(.3,1.2),cc.scaleTo(.2,1))),n.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){n.destroy()})))},.15*e)},s=this,c=0;c<e;c++)r(c)},t.prototype.showLpPanle=function(){var e=cc.instantiate(this.shareLpPanle);this.isWin?(e.getChildByName("win").active=!0,e.getChildByName("lose").active=!1):(e.getChildByName("win").active=!1,e.getChildByName("lose").active=!0),this.node.addChild(e)},t.prototype.onLpClick=function(){N.default.getInstance().isStart?this.stopLp():this.startLp()},t.prototype.startLp=function(){this.lptime=300,N.default.getInstance().start(),this.lPBtn.getComponent(cc.Sprite).spriteFrame=this.lPsP[0],this.lPBtn.getChildByName("timeLabel").getComponent(cc.Label).string="300",this.lPBtn.getChildByName("timeLabel").active=!0,this.schedule(this.accoutTime,1,cc.macro.REPEAT_FOREVER)},t.prototype.stopLp=function(){N.default.getInstance().stop(),this.lPBtn.getComponent(cc.Sprite).spriteFrame=this.lPsP[1],this.lPBtn.getChildByName("timeLabel").active=!1,this.unschedule(this.accoutTime)},t.prototype.accoutTime=function(){this.lptime-=1,this.lptime<0?this.stopLp():this.lPBtn.getChildByName("timeLabel").getComponent(cc.Label).string=this.lptime+""},t.prototype.showGameEnd=function(){this.isWin?this.monsterDiedEvent():this.monsterWinEvent()},t.prototype.tttttt=function(){l.default.instance.setData(l.default.KEY_USER_GOLD_NUM,new _.default(1,12))},a([x(cc.Node)],t.prototype,"content",void 0),a([x(cc.Node)],t.prototype,"rope",void 0),a([x(cc.Node)],t.prototype,"monster",void 0),a([x(cc.Prefab)],t.prototype,"bulletPrefab",void 0),a([x(cc.Prefab)],t.prototype,"goldPrefab",void 0),a([x(cc.Node)],t.prototype,"hero",void 0),a([x(cc.Node)],t.prototype,"pet",void 0),a([x(cc.Node)],t.prototype,"gameContent",void 0),a([x(cc.Prefab)],t.prototype,"stageEndPanelPrefab",void 0),a([x(cc.Prefab)],t.prototype,"goldenEggPanel",void 0),a([x(cc.Prefab)],t.prototype,"goldNumLabelPrefab",void 0),a([x(f.default)],t.prototype,"topContentComp",void 0),a([x(cc.Node)],t.prototype,"promptPanel",void 0),a([x(cc.Prefab)],t.prototype,"guide",void 0),a([x(cc.Prefab)],t.prototype,"effectNodePrefab",void 0),a([x(cc.SpriteFrame)],t.prototype,"goldSpriteFrameArr",void 0),a([x(cc.Node)],t.prototype,"walls",void 0),a([x(cc.Node)],t.prototype,"lPBtn",void 0),a([x(cc.SpriteFrame)],t.prototype,"lPsP",void 0),a([x(cc.Prefab)],t.prototype,"shareLpPanle",void 0),t=a([B],t)}(cc.Component);n.default=L,cc._RF.pop()},{"../../AndroidAd":"AndroidAd","../../GameUtils":"GameUtils","../../SoundMgr":"SoundMgr","../../control/GameConfig":"GameConfig","../../control/NodePoolMgr":"NodePoolMgr","../../control/valuecount/MaxCount":"MaxCount","../../control/valuecount/MaxValue":"MaxValue","../../gamecore/deer/DeerSDK":"DeerSDK","../../gamecore/managers/GameManager":"GameManager","../../gamecore/tt/RecordScreenManger":"RecordScreenManger","../../gamecore/wechat/WXBannerAd":"WXBannerAd","../../gamecore/wechat/WXDevice":"WXDevice","../../module/data/MainDataMgr":"MainDataMgr","../../module/data/StageDataMgr":"StageDataMgr","../guide/GuideNewControl":"GuideNewControl","../mainscene/MainIntensify":"MainIntensify","./DoubleGift":"DoubleGift","./GoldMgr":"GoldMgr","./Hero":"Hero","./HeroMgr":"HeroMgr","./Monster":"Monster","./MonsterMgr":"MonsterMgr","./Rope":"Rope","./RopeMgr":"RopeMgr","./StageBackground":"StageBackground","./StagePrompt":"StagePrompt","./TopContent":"TopContent","./barrier/BarrierMgr":"BarrierMgr","./bullet/BulletMgr":"BulletMgr","./bullet/BulletNormal":"BulletNormal"}],StagePrompt:[function(e,t,n){"use strict";cc._RF.push(t,"0885efVEJRHGZi2Dbqh+2rF","StagePrompt");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boss=null,t.lvComplete=null,t.stage=null,t.txtStageNum=null,t.gameOverNode=null,t}return o(t,e),t.prototype.onLoad=function(){this.boss.opacity=0,this.lvComplete.opacity=0,this.stage.opacity=0,this.gameOverNode.opacity=0},t.prototype.start=function(){},t.prototype.showLevelPrompt=function(e){e%5==0?(this.boss.opacity=0,this.boss.runAction(cc.sequence(cc.fadeIn(.3),cc.delayTime(1.2),cc.fadeOut(.8)))):(this.txtStageNum.string=e+"",this.stage.opacity=0,this.stage.runAction(cc.sequence(cc.fadeIn(.3),cc.delayTime(1.2),cc.fadeOut(.8))))},t.prototype.showCompletePrompt=function(){this.lvComplete.opacity=0,this.lvComplete.runAction(cc.sequence(cc.fadeIn(.5),cc.delayTime(1.8),cc.fadeOut(1))),this.lvComplete.runAction(cc.sequence(cc.moveTo(.03,cc.v2(5,7)),cc.scaleBy(.3,1.5),cc.moveBy(.03,cc.v2(-6,7)),cc.moveBy(.03,cc.v2(6,3)),cc.moveBy(.03,cc.v2(3,-6)),cc.moveBy(.03,cc.v2(-5,5)),cc.moveBy(.03,cc.v2(5,-8)),cc.moveBy(.03,cc.v2(-3,-10)),cc.moveBy(.03,cc.v2(5,10)),cc.moveBy(.03,cc.v2(-5,0)),cc.scaleBy(.4,.8)))},t.prototype.showGameOverPrompt=function(){this.gameOverNode.opacity=0,this.gameOverNode.runAction(cc.sequence(cc.fadeIn(.4),cc.delayTime(1),cc.fadeOut(.6)))},a([s(cc.Node)],t.prototype,"boss",void 0),a([s(cc.Node)],t.prototype,"lvComplete",void 0),a([s(cc.Node)],t.prototype,"stage",void 0),a([s(cc.Label)],t.prototype,"txtStageNum",void 0),a([s(cc.Node)],t.prototype,"gameOverNode",void 0),t=a([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],SyncDataToRemoteBase:[function(e,t,n){"use strict";cc._RF.push(t,"2e4b1XbfeREyaBk/OVlwIBt","SyncDataToRemoteBase"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../managers/GameManager"),a=e("../GameCoreEventNames"),i=e("./GameValues"),r=function(){function e(){this._syncToRemoteMinDelay=4e4,this.forbidToSyncDataFromRemote=!0,this.forbidToUseDataFromRemoteAuto=!1,this._isReady=!1,this._lastSyncTime=0}return e.prototype.setReady=function(){if(!this._isReady){this._isReady=!0;var e=this;"undefined"!=typeof wx&&(wx.onHide(function(){console.log("\u3010SyncDataToServerByDeerSDK\u3011onHide"),e.syncDataFromDataManagerToRemote()}),wx.onClose&&wx.onClose(function(){console.log("\u3010SyncDataToServerByDeerSDK\u3011onClose"),e.syncDataFromDataManagerToRemote()})),o.default.eventManager.dispatchEventWith(a.default.DATA_REMOTE_RETRIVE),o.default.eventManager.addEventListener(a.default.DATA_REMOTE_CHANGE,this.dataManagerSerializeHandler,this)}},Object.defineProperty(e.prototype,"isReady",{get:function(){return this._isReady||i.default.isBearPlatform},enumerable:!0,configurable:!0}),e.prototype.syncDataFromRemoteToDataManager=function(){},e.prototype.setDataFromRemote=function(e){this._remoteDataFirst=e,this.forbidToUseDataFromRemoteAuto||this.useDataFromRemote(),o.default.eventManager.dispatchEventWith(a.default.DATA_REMOTE_RETRIVE)},e.prototype.useDataFromRemote=function(){if(this._remoteDataFirst){for(var e in this._lastSyncTime=(new Date).getTime(),this._remoteDataFirst)o.default.dataManager.setData(e,this._remoteDataFirst[e],!0,!1,!0);this._remoteDataFirst=null}},e.prototype.dataManagerSerializeHandler=function(e){console.log("\u6570\u636e\u4e2d\u5fc3\u672c\u5730\u6570\u636e\u5e8f\u5217\u5316\u4e8b\u4ef6\u63a7\u5236");var t=(new Date).getTime();t-this._lastSyncTime>this._syncToRemoteMinDelay&&(this._lastSyncTime=t,this.syncDataFromDataManagerToRemote())},e.prototype.syncDataFromDataManagerToRemote=function(){},e}();n.default=r,cc._RF.pop()},{"../GameCoreEventNames":"GameCoreEventNames","../managers/GameManager":"GameManager","./GameValues":"GameValues"}],SyncDataToServerByDeerSDK:[function(e,t,n){"use strict";cc._RF.push(t,"4b496gD/OJLM6G8TBRk0JAA","SyncDataToServerByDeerSDK");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../deer/DeerSDK"),i=e("../deer/DeerSDKEventNames"),r=e("../managers/GameManager"),s=function(e){function t(){var n=e.call(this)||this;if(t._instance)throw new Error("Please use static instance property");return t._instance=n,n.doInit(),n}return o(t,e),Object.defineProperty(t,"instance",{get:function(){return t._instance||new t,t._instance},enumerable:!0,configurable:!0}),t.prototype.doInit=function(){var e=this;a.default.instance.isHandshakeCompleted?e.doInit2():a.default.instance.addEventListener(i.default.HANDSHAKE_COMPLETE,function(t){e.doInit2()},this,0,!0)},t.prototype.doInit2=function(){this.forbidToSyncDataFromRemote||a.default.instance.isNewUser?this.setReady():this.syncDataFromRemoteToDataManager()},t.prototype.syncDataFromRemoteToDataManager=function(){var e=this;a.default.instance.game_getDataFromService(function(t){try{e._lastSyncValue=t;var n=JSON.parse(e._lastSyncValue);e.setDataFromRemote(n)}catch(e){}e.setReady()},function(){console.log("\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u6e38\u620f\u6570\u636e\u5931\u8d25\uff01"),e.setReady()})},t.prototype.syncDataFromDataManagerToRemote=function(){console.log("\u540c\u6b65\u672c\u5730\u6570\u636e\u5230\u670d\u52a1\u5668"),this._lastTrySyncValue=r.default.dataManager.getDataNeedSyncToServer(),this._lastTrySyncValue!=this._lastSyncValue&&(console.log("this._lastTrySyncValue != this._lastSyncValue"),a.default.instance.game_saveDataToServiceNow(this._lastTrySyncValue,this.syncDataFromDataManagerToService_suc.bind(this)))},t.prototype.syncDataFromDataManagerToService_suc=function(){this._lastSyncValue=this._lastTrySyncValue,this._lastTrySyncValue=null},t}(e("./SyncDataToRemoteBase").default);n.default=s,cc._RF.pop()},{"../deer/DeerSDK":"DeerSDK","../deer/DeerSDKEventNames":"DeerSDKEventNames","../managers/GameManager":"GameManager","./SyncDataToRemoteBase":"SyncDataToRemoteBase"}],SyncDataToWXCloud:[function(e,t,n){"use strict";cc._RF.push(t,"9a0f9Cy+UJC5r6b7OzxgZMi","SyncDataToWXCloud");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../deer/DeerSDK"),i=e("../deer/DeerSDKEventNames"),r=e("../managers/GameManager"),s=function(e){function t(){var n=e.call(this)||this;if(n._cloudData={},t._instance)throw new Error("Please use static instance property");t._instance=n;try{wx.cloud.init({})}catch(e){}return n.doInit(),n}return o(t,e),Object.defineProperty(t,"instance",{get:function(){return t._instance||new t,t._instance},enumerable:!0,configurable:!0}),t.prototype.doInit=function(){var e=this;a.default.instance.isReady?this.doSDKReady():a.default.instance.addEventListener(i.default.READY,function(t){e.doSDKReady()},this,0,!0)},t.prototype.doSDKReady=function(){this.forbidToSyncDataFromRemote||a.default.instance.isNewUser?this.setReady():this.syncDataFromRemoteToDataManager()},t.prototype.syncDataFromRemoteToDataManager=function(){var e=this,t=a.default.instance.game_dataID;if(!t)return this.setReady(),void console.log("\u3010SyncDataToWXCloud\u3011fileID\u4e0d\u5b58\u5728",t);try{wx.cloud.downloadFile({fileID:t,success:function(n){console.log("\u3010SyncDataToWXCloud\u3011\u4ece\u5fae\u4fe1Cloud\u4e0b\u8f7d\u6570\u636e\u6210\u529f",t),e.readFile(n.tempFilePath)},fail:function(e){console.log("\u3010SyncDataToWXCloud\u3011\u4ece\u5fae\u4fe1Cloud\u4e0b\u8f7d\u6570\u636e\u5931\u8d25",e)},complete:function(){e.setReady()}})}catch(e){this.setReady(),console.log("\u3010SyncDataToWXCloud\u3011\u4ece\u5fae\u4fe1Cloud\u4e0b\u8f7d\u6570\u636e\u5931\u8d25")}},t.prototype.readFile=function(e){var t=this;try{wx.getFileSystemManager().readFile({filePath:e,encoding:"utf-8",success:function(e){try{t._cloudData=JSON.parse(e.data),t.setDataFromRemote(t._cloudData),console.log("\u3010SyncDataToWXCloud\u3011\u89e3\u6790\u6570\u636e\u6587\u4ef6\u6210\u529f",t._cloudData)}catch(e){console.log("\u3010SyncDataToWXCloud\u3011\u89e3\u6790\u6570\u636e\u6587\u4ef6\u5931\u8d25")}},fail:function(e){console.log("\u3010SyncDataToWXCloud\u3011\u8bfb\u53d6\u6570\u636e\u6587\u4ef6\u5931\u8d25")}})}catch(e){console.log("\u3010SyncDataToWXCloud\u3011\u8bfb\u53d6\u6570\u636e\u6587\u4ef6\u5931\u8d25")}},t.prototype.syncDataFromDataManagerToRemote=function(){var e=this;if(this._lastTrySyncValue=r.default.dataManager.getDataNeedSyncToServer(),this._lastTrySyncValue!=this._lastSyncValue)try{this._cloudData||(this._cloudData={});var t=JSON.parse(this._lastTrySyncValue);Object.keys(t).forEach(function(n){e._cloudData[n]=t[n]}),console.log("\u3010SyncDataToWXCloud\u3011\u5199\u5165\u672c\u5730\uff0c\u51c6\u5907\u4e0a\u4f20",this._cloudData);var n=wx.env.USER_DATA_PATH+"/temp_file_to_wx_cloud.json";wx.getFileSystemManager().writeFile({filePath:n,data:JSON.stringify(this._cloudData),encoding:"utf-8",success:function(t){var o="ugd__"+a.default.instance.game_id+"_"+a.default.instance.userVO.id;console.log("\u3010SyncDataToWXCloud\u3011\u5199\u5165\u672c\u5730\u6210\u529f\uff0c\u5f00\u59cb\u4e0a\u4f20");try{wx.cloud.uploadFile({cloudPath:o,filePath:n,success:function(t){e._lastSyncValue=e._lastTrySyncValue,console.log(t.fileID),a.default.instance.game_saveDataIDToService(t.fileID),console.log("\u3010SyncDataToWXCloud\u3011\u4e0a\u4f20\u6570\u636e\u6210\u529f",t)},fail:function(e){console.log("\u3010SyncDataToWXCloud\u3011\u4e0a\u4f20\u6570\u636e\u5931\u8d25")}})}catch(e){console.log("\u3010SyncDataToWXCloud\u3011\u4e0a\u4f20\u6570\u636e\u5931\u8d25")}},fail:function(e){console.log("\u3010SyncDataToWXCloud\u3011\u5199\u5165\u672c\u5730\u5931\u8d25")}})}catch(e){}},t}(e("./SyncDataToRemoteBase").default);n.default=s,cc._RF.pop()},{"../deer/DeerSDK":"DeerSDK","../deer/DeerSDKEventNames":"DeerSDKEventNames","../managers/GameManager":"GameManager","./SyncDataToRemoteBase":"SyncDataToRemoteBase"}],TagManager:[function(e,t,n){"use strict";cc._RF.push(t,"a57ec1PZ9lNSbs8RUtk09jZ","TagManager");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./GameManager"),i=e("../GameCoreEventNames"),r=cc._decorator,s=r.ccclass,c=(r.property,function(){function e(){this._channelMap={},this._channelValueMap={},this._removeForeverMap={}}return e.prototype.setTag=function(e,t){void 0===t&&(t=null),this._removeForeverMap.hasOwnProperty(e)||this._channelValueMap.hasOwnProperty(e)&&this._channelValueMap[e]==t||(this._channelValueMap[e]=t,a.default.eventManager.dispatchEventWith(i.default.TAG_CHANGE,e))},e.prototype.removeTag=function(e,t){void 0===t&&(t=!1),this._removeForeverMap.hasOwnProperty(e)||(this._channelValueMap.hasOwnProperty(e)&&(delete this._channelValueMap[e],a.default.eventManager.dispatchEventWith(i.default.TAG_CHANGE,e)),t&&(this._removeForeverMap[e]=!0))},e.prototype.hasTag=function(e){if(this._channelValueMap.hasOwnProperty(e))return!0;for(var t=this.getAllSubTagChannels(e),n=0,o=t.length;n<o;n++){var a=t[n];if(this._channelValueMap.hasOwnProperty(a))return!0}return!1},e.prototype.getAllParentTagChannels=function(e){for(var t=new Array;e&&-1==t.indexOf(e)&&this._channelMap.hasOwnProperty(e);)(e=this._channelMap[e])&&t.push(e);return t},e.prototype.getAllSubTagChannels=function(e){var t=this,n=new Array;if(!e)return n;var o=function(n,i){if(n&&!(i.indexOf(n)>=0)){var r=t._channelMap[n];i.push(n),r==e?i.forEach(function(e){a[e]=!0}):o(r,i)}},a={};return Object.keys(this._channelMap).forEach(function(t){t!=e&&o(t,new Array)}),Object.keys(a)},e.prototype.getTagData=function(e){return this._channelValueMap.hasOwnProperty(e)?this._channelValueMap[e]:null},e.prototype.registerTag=function(e,t){if(this._channelMap.hasOwnProperty(e)&&this._channelMap[e]!=t)throw new Error(e+"'s parent has set to "+this._channelMap[e]);this._channelMap[e]=t},e.prototype.registerTags=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length-1;n++)this.registerTag(e[n],e[n+1])},e.prototype.unregisterTag=function(e){this._channelMap.hasOwnProperty(e)&&(delete this._channelMap[e],a.default.eventManager.dispatchEventWith(i.default.TAG_CHANGE,e))},e.prototype.reset=function(){this._channelValueMap={},this._removeForeverMap={},a.default.eventManager.dispatchEventWith(i.default.TAG_CHANGE)},e=o([s],e)}());n.default=c,cc._RF.pop()},{"../GameCoreEventNames":"GameCoreEventNames","./GameManager":"GameManager"}],Test:[function(e,t,n){"use strict";cc._RF.push(t,"d1cfbT0uU1MVI5mSE8J3H+2","Test"),cc._RF.pop()},{}],TextureRenderUtils:[function(e,t,n){"use strict";cc._RF.push(t,"d9561T2nZpEy5eEyczWt7cM","TextureRenderUtils");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../wechat/WXUtils"),s=e("../wechat/WXImage"),c=cc._decorator,l=c.ccclass,u=(c.property,function(){function e(){this._canvas=null,this.succ=null}var t;return t=e,Object.defineProperty(e,"instance",{get:function(){return this.textureRenderUtils},enumerable:!0,configurable:!0}),e.prototype.init=function(e,t){this.camera=null,this._canvas=null,this.texture=null;var n=new cc.RenderTexture,o=cc.game._renderContext,a=Math.floor(t.width),i=Math.floor(t.height);n.initWithSize(a,i,o.STENCIL_INDEX8),this.camera=e,this.camera.targetTexture=n,this.texture=n},e.prototype.initImage=function(){var e=this._canvas.toDataURL("image/png");return document.createElement("img").src=e,e},e.prototype.createSprite=function(e,t){return a(this,void 0,void 0,function(){var n,o,a,r,s,c=this;return i(this,function(i){return n=this.texture.width,o=this.texture.height,this._canvas?this.clearCanvas():(this._canvas=document.createElement("canvas"),this._canvas.width=n,this._canvas.height=o),a=this._canvas.getContext("2d"),this.camera.render(e),r=this.texture.readPixels(),s=a.createImageData(n,o),setTimeout(function(){for(var e=4*n,i=0;i<o;i++)for(var l=(o-1-i)*n*4,u=i*n*4,d=0;d<e;d++)s.data[u+d]=r[l+d];a.putImageData(s,0,0),setTimeout(function(){t(c._canvas)},.1)},.1),[2]})})},e.prototype.saveFile=function(e,t,n,o){var a=this;if(cc.sys.platform===cc.sys.WECHAT_GAME){var i={x:0,y:0,width:Math.floor(t),height:Math.floor(n),destWidth:Math.floor(t),destHeight:Math.floor(n),fileType:"png",quality:.8,success:function(e){o(e.tempFilePath),r.default.hideLoading(),a.camera=null}};e.toTempFilePath(i)}},e.prototype.startScreen=function(e,t){return a(this,void 0,void 0,function(){var n,o,a=this;return i(this,function(i){return this.succ=t,r.default.showLoading("\u52a0\u8f7d\u4e2d"),n=new cc.Node,o=n.addComponent(cc.Camera),e.addChild(n),this.init(o,e),this.createSprite(e,function(t){a.saveFile(t,e.width,e.height,a.succ),e.removeChild(n)}),[2]})})},e.prototype.saveScreen=function(e){s.default.saveImageToPhotosAlbum(e)},e.prototype.clearCanvas=function(){this._canvas.getContext("2d").clearRect(0,0,this._canvas.width,this._canvas.height)},e.prototype.readBase64File=function(e,t){wx.getFileSystemManager().readFile({filePath:this.getPhotoFromLocalByName(e),encoding:"utf8",success:function(e){console.log(e),t&&t(e.data)},fail:function(e){console.log("photo data error")}})},e.prototype.writeBase64File=function(e,t,n){var o=this.getPhotoFromLocalByName(e);wx.getFileSystemManager().writeFile({filePath:o,data:t,encoding:"utf8",success:function(e){console.log("\u622a\u56fe\u4fdd\u5b58\u6210\u529f"),n&&n()},fail:function(e){console.log("\u622a\u56fe\u4fdd\u5b58\u5931\u8d25",e)}})},e.prototype.saveFileToLocal=function(e,t,n){var o=this,a=function(){wx.getFileSystemManager().saveFile({tempFilePath:e,filePath:i,success:function(e){console.log("\u622a\u56fe\u4fdd\u5b58\u6210\u529f",i),n&&n(i)},fail:function(e){console.log("\u622a\u56fe\u4fdd\u5b58\u5931\u8d25",e)}})},i=this.getPhotoFromLocalByName(t);wx.getFileSystemManager().access({path:i,success:function(e){console.log("\u6587\u4ef6\u5b58\u5728"),o.unlinkPhotoFile(t,a)},fail:function(e){console.log("\u6587\u4ef6\u4e0d\u5b58\u5728",e),a()}})},e.prototype.judgeAccessFile=function(e,t){var n=this.getPhotoFromLocalByName(e);wx.getFileSystemManager().access({path:n,success:function(e){t&&t(!0)},fail:function(e){t&&t(!1)}})},e.prototype.getPhotoFromLocalByName=function(e){return wx.env.USER_DATA_PATH+"/"+e+".png"},e.prototype.unlinkPhotoFile=function(e,t){var n=this.getPhotoFromLocalByName(e);wx.getFileSystemManager().unlink({filePath:n,success:function(e){console.log("\u5220\u9664\u6587\u4ef6\u6210\u529f"),t&&t()},fail:function(e){console.log("\u5220\u9664\u6587\u4ef6\u5931\u8d25",e)}})},e.textureRenderUtils=new t,e=t=o([l],e)}());n.default=u,cc._RF.pop()},{"../wechat/WXImage":"WXImage","../wechat/WXUtils":"WXUtils"}],Tips:[function(e,t,n){"use strict";cc._RF.push(t,"9feb6jjmuNAy4McJbHa4BB/","Tips");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipLabel=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.showTip=function(e){var t=this;this.tipLabel.string=e,setTimeout(function(){t.node&&t.node.destroy()},1e3)},a([s(cc.Label)],t.prototype,"tipLabel",void 0),t=a([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],ToogleButtonMain:[function(e,t,n){"use strict";cc._RF.push(t,"2c1d8UEavhBEIpcpQ3nRe+x","ToogleButtonMain");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectedNode=null,t.unselectedNode=null,t.label=null,t._selected=!1,t}return o(t,e),t.prototype.onLoad=function(){this.refreshUI()},t.prototype.start=function(){},Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected!=e&&(this._selected=e,this.refreshUI())},enumerable:!0,configurable:!0}),t.prototype.refreshUI=function(){this.selectedNode.active=this._selected,this.unselectedNode.active=!this._selected,this.label.node.color=this._selected?(new cc.Color).fromHEX("#ffffff"):(new cc.Color).fromHEX("#666666")},a([s(cc.Node)],t.prototype,"selectedNode",void 0),a([s(cc.Node)],t.prototype,"unselectedNode",void 0),a([s(cc.Label)],t.prototype,"label",void 0),t=a([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],TopContent:[function(e,t,n){"use strict";cc._RF.push(t,"c7a50EZD0RDXLTZkgdskkgB","TopContent");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../control/valuecount/MaxValue"),r=e("../../control/valuecount/MaxCount"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hpBar=null,t.txtHpInfo=null,t.txtGoldInfo=null,t.txtBulletNum=null,t.txtCurLevel=null,t.txtNextLevel=null,t.lastUpdateTime=0,t.curGold=new i.default(0,0),t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.updateHpBar=function(e,t){this.hpBar.progress=e/t,1==this.hpBar.progress&&(this.txtNextLevel.node.color=cc.color(122,234,78))},t.prototype.updateGoldInfo=function(e,t){var n=(new Date).getTime();if(n-this.lastUpdateTime<200)return this.curGold=t,this.unschedule(this.delayUpdateGoldInfo),void this.scheduleOnce(this.delayUpdateGoldInfo,.2);this.lastUpdateTime=n,this.txtGoldInfo.string=r.default.instance.formatVlue(r.default.instance.formatCoid(t.value,t.unit))+""},t.prototype.delayUpdateGoldInfo=function(){this.updateGoldInfo(new i.default(0,0),this.curGold)},t.prototype.updateBulletNumInfo=function(e){this.txtBulletNum.string=e+""},t.prototype.updateLevelInfo=function(e,t){this.txtCurLevel.string=e+"",this.txtNextLevel.string=t+"",this.txtCurLevel.node.color=cc.color(122,234,78)},a([l(cc.ProgressBar)],t.prototype,"hpBar",void 0),a([l(cc.Label)],t.prototype,"txtHpInfo",void 0),a([l(cc.Label)],t.prototype,"txtGoldInfo",void 0),a([l(cc.Label)],t.prototype,"txtBulletNum",void 0),a([l(cc.Label)],t.prototype,"txtCurLevel",void 0),a([l(cc.Label)],t.prototype,"txtNextLevel",void 0),t=a([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../../control/valuecount/MaxCount":"MaxCount","../../control/valuecount/MaxValue":"MaxValue"}],TranslucenceControl:[function(e,t,n){"use strict";cc._RF.push(t,"0277fvNy29J+JlExyBGVmM8","TranslucenceControl");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../gamecore/managers/GameManager"),r=e("./GameEventName"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.layout=null,t}return o(t,e),t.prototype.onLoad=function(){i.default.eventManager.addEventListener(r.default.SHOW_TRANSLUCENCE_CONTROL,this.showView,this),i.default.eventManager.addEventListener(r.default.CLOSE_TRANSLUCENCE_CONTROL,this.closeView,this)},t.prototype.start=function(){},t.prototype.showView=function(e){var t=e.data.index,n=e.data.isput;void 0!=t&&this.node.setSiblingIndex(t),void 0!=n&&(1==n?this.layout.addComponent(cc.BlockInputEvents):this.layout.removeComponent(cc.BlockInputEvents)),this.layout.active=!0},t.prototype.closeView=function(){this.layout.active=!1},t.prototype.onDestroy=function(){i.default.eventManager.removeEventListener(r.default.SHOW_TRANSLUCENCE_CONTROL,this.showView,this),i.default.eventManager.removeEventListener(r.default.CLOSE_TRANSLUCENCE_CONTROL,this.closeView,this)},a([l(cc.Node)],t.prototype,"layout",void 0),t=a([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../gamecore/managers/GameManager":"GameManager","./GameEventName":"GameEventName"}],TrialWeapon:[function(e,t,n){"use strict";cc._RF.push(t,"24c755srwxLzZJ9FpLtWRhA","TrialWeapon");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../GameUtils"),r=e("../../gamecore/managers/GameManager"),s=e("../../control/GameConfig"),c=e("../../control/GameMetaManage"),l=e("../../module/data/StageDataMgr"),u=e("../../gamecore/wechat/WXBannerAd"),d=e("../../AndroidAd"),f=cc._decorator,p=f.ccclass,h=f.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.txtWeaponName=null,t.weaponImg=null,t.boosmeat=null,t.weaponid=14,t}return o(t,e),t.prototype.onLoad=function(){u.default.currentAd&&u.default.currentAd.show()},t.prototype.start=function(){var e=this,t=this.weaponid;this.boosmeat=c.default.instance.weaponinfos[t],r.default.resManager.getRes("textures/weapon/"+this.boosmeat.weaponid,function(t){try{e.weaponImg.spriteFrame=t}catch(e){}}),console.warn("\u6253\u5f00 TrialWeapon.ts"),d.default.instance.showNative()},t.prototype.init=function(e){this.weaponid=e},t.prototype.onTrialWeaponClickEvent=function(e){r.default.soundsManager.playTapSound(),i.default.buriedPoint(33),this.watchVideoAd()},t.prototype.watchVideoAd=function(){var e=this;d.default.instance.showReward(function(){i.default.showToast("The weapon trial was successful"),l.default.TRYOUT_WEAPON_ID=e.boosmeat.weaponid,i.default.instance.loadSceneWithBg("stageModeScene"),e.node.removeFromParent()})},t.prototype.onCloseClickEvent=function(e){s.default.instance.lastscene="mainScene",s.default.instance.nowscene="stageModeScene",i.default.instance.loadSceneWithBg("stageModeScene"),this.node.removeFromParent()},t.prototype.onDisable=function(){console.warn("\u5173\u95ed TrialWeapon.ts"),d.default.instance.hideNative()},a([h(cc.Label)],t.prototype,"txtWeaponName",void 0),a([h(cc.Sprite)],t.prototype,"weaponImg",void 0),t=a([p],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../../AndroidAd":"AndroidAd","../../GameUtils":"GameUtils","../../control/GameConfig":"GameConfig","../../control/GameMetaManage":"GameMetaManage","../../gamecore/managers/GameManager":"GameManager","../../gamecore/wechat/WXBannerAd":"WXBannerAd","../../module/data/StageDataMgr":"StageDataMgr"}],UsersData:[function(e,t,n){"use strict";cc._RF.push(t,"99d0bxlWnpLV4rkXpYj/3DH","UsersData");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../gamecore/deer/DeerSDK"),i=e("../../gamecore/deer/DeerSDKEventNames"),r=cc._decorator,s=r.ccclass,c=(r.property,function(){function e(){var e=this;if(this._readyCallbacks=[],t._instance)throw new Error("Please use static instance property!");t._instance=this,a.default.instance.isReady?this.loadData():a.default.instance.addEventListener(i.default.READY,function(t){e.loadData()},this,0,!0)}var t;return t=e,Object.defineProperty(e,"instance",{get:function(){return t._instance||new t,t._instance},enumerable:!0,configurable:!0}),e.prototype.onReady=function(e){-1==this._readyCallbacks.indexOf(e)&&this._readyCallbacks.push(e)},e.prototype.offReady=function(e){var t=this._readyCallbacks.indexOf(e);-1!=t&&this._readyCallbacks.splice(t,1)},e.prototype.loadData=function(){a.default.instance.user_friendsAll?this.friendsUpdateHandler(null):a.default.instance.addEventListener(i.default.FRIENDS_UPDATE,this.friendsUpdateHandler,this),a.default.instance.game_getRandomUsers(this.randomUsersCallback.bind(this))},e.prototype.friendsUpdateHandler=function(e){a.default.instance.removeEventListener(i.default.FRIENDS_UPDATE,this.friendsUpdateHandler,this),this._originalFriendsData=a.default.instance.user_friendsAll,this._originalFriendsData||(this._originalFriendsData=[]),this.doDataReady()},e.prototype.randomUsersCallback=function(e){this._originalRandomUsersData=e,this._originalFriendsData||(this._originalFriendsData=[]),this.doDataReady()},e.prototype.doDataReady=function(){this._originalFriendsData&&this._originalRandomUsersData&&(this._users=this._originalFriendsData.concat(this._originalRandomUsersData),this._readyCallbacks.forEach(function(e){e()}))},e.prototype.getUsers=function(e){if(!this._users||0==this._users.length)return null;if(e>=this._users.length){var t=this._users;return this._users=[],t}var n=[];for(e=Math.min(e,this._users.length);e>0;){var o=Math.floor(Math.random()*this._users.length);n.push(this._users.splice(o,1)[0]),e--}return n},e.prototype.resetData=function(){this._users=[],this._originalFriendsData&&(this._users=this._users.concat(this._originalFriendsData)),this._originalRandomUsersData&&(this._users=this._users.concat(this._originalRandomUsersData))},e=t=o([s],e)}());n.default=c,cc._RF.pop()},{"../../gamecore/deer/DeerSDK":"DeerSDK","../../gamecore/deer/DeerSDKEventNames":"DeerSDKEventNames"}],Utils:[function(e,t,n){"use strict";cc._RF.push(t,"9f7c0EPgJBJLb2asY1+y12v","Utils"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../wechat/WXDevice"),a=function(){function e(){}return Object.defineProperty(e,"iphoneXTopBarHeight",{get:function(){return 44},enumerable:!0,configurable:!0}),Object.defineProperty(e,"iphoneBottomBarHeight",{get:function(){return/iphone/gi.test(navigator.userAgent)&&devicePixelRatio&&3===devicePixelRatio&&375===screen.width&&812===screen.height?34:/iphone/gi.test(navigator.userAgent)&&devicePixelRatio&&3===devicePixelRatio&&414===screen.width&&896===screen.height?34:/iphone/gi.test(navigator.userAgent)&&devicePixelRatio&&2===devicePixelRatio&&414===screen.width&&896===screen.height?34:0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIphoneX",{get:function(){try{return/iphone/gi.test(navigator.userAgent)&&812==screen.height&&375==screen.width}catch(e){}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIphoneXR",{get:function(){try{return/iphone/gi.test(navigator.userAgent)&&896==screen.height&&414==screen.width}catch(e){}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isOldIphone",{get:function(){try{if(/iphone/gi.test(navigator.userAgent)&&(-1!=o.default.systemInfo.model.indexOf("iPhone 6")||-1!=o.default.systemInfo.model.indexOf("iPhone 5")||-1!=o.default.systemInfo.model.indexOf("iPhone 4")||-1!=o.default.systemInfo.model.indexOf("iPhone 3")))return!0}catch(e){}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isQuanMian",{get:function(){var e=cc.winSize,t=e.width,n=e.height/t;return 1.789<n&&n<19/9},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isLiuHai",{get:function(){var e=cc.winSize,t=e.width;return e.height/t>=19/9},enumerable:!0,configurable:!0}),e.getSnapshot=function(){var e=new cc.Node;e.width=cc.winSize.width,e.height=cc.winSize.height;var t=e.addComponent(cc.Sprite),n=cc.Camera.findCamera(cc.director.getScene()),o=cc.game._renderContext,a=new cc.RenderTexture;return a.initWithSize(cc.winSize.width,cc.winSize.height,o.STENCIL_INDEX8),n.targetTexture=a,t.spriteFrame=new cc.SpriteFrame(a),n.render(cc.director.getScene()),n.targetTexture=null,e},e.toScreenRect=function(t){var n=cc.winSize,o=new cc.Rect(t.x,t.y,t.width,t.height);console.log(o.x,o.y,o.width,o.height),o.x=t.x,o.y=n.height-(o.y+o.height);var a=e.getCanvasScaleFactor();return o.x*=a,o.y*=a,o.width*=a,o.height*=a,o},e.fromScreenRect=function(t){if(!t)return null;var n=new cc.Rect(t.x,t.y,t.width,t.height),o=cc.view.getFrameSize();n.y=o.height-n.y-n.height;var a=e.getCanvasScaleFactor();return n.x/=a,n.y/=a,n.width/=a,n.height/=a,new cc.Rect(n.x,n.y,n.width,n.height)},e.toInt=function(e){var t=parseInt(""+e);return isNaN(t)&&(t=0),t},e.scaleContentAuto=function(e){var t=cc.winSize,n=t.height/t.width;console.log("\u3010scaleContentAuto\u3011",1334/750,n),n>1334/750&&(e.scale=t.width/750)},e.getCanvasScaleFactor=function(){var e=!0;try{e=cc.director.getScene().children[0].getComponent(cc.Canvas).fitHeight}catch(e){}var t=cc.view.getFrameSize();return e?t.height/cc.winSize.height:t.width/cc.winSize.width},e.labelStringToValue=function(t,n,o){if(void 0===o&&(o=.5),!isNaN(n)){var a=parseInt(t.string);if((isNaN(a)||a<0)&&(a=0),a!=n){var i=t.uuid;clearInterval(this._labelToValueMap[i]);var r=(n-a)/10,s=0;this._labelToValueMap[i]=setInterval(function(){10==++s?(t.string=""+n,clearInterval(e._labelToValueMap[i])):t.string=""+(a+Math.floor(r*s))},50)}}},e.newPoint=function(e){void 0===e&&(e=!1);var t=new cc.Node;if(t.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame("https://deer-cdn.youkongwan.com/common/blank_debug.png"),t.width=2,t.height=2,e){var n=t.addComponent(cc.Widget);n.isAlignTop=!0,n.top=0,n.isAlignLeft=!0,n.left=0,n.isAlignRight=!0,n.right=0,n.isAlignBottom=!0,n.bottom=0,n.alignMode=cc.Widget.AlignMode.ALWAYS}return t},e.positionToPosition=function(e,t,n){return(e=new cc.Vec2(e.x,e.x)).x+=t.width*t.anchorX,e.y+=t.height*t.anchorY,e=t.convertToWorldSpaceAR(e),n&&((e=n.convertToNodeSpaceAR(e)).x-=n.width*n.anchorX,e.y-=n.height*n.anchorY),e},e._labelToValueMap={},e}();n.default=a,cc._RF.pop()},{"../wechat/WXDevice":"WXDevice"}],Vivo:[function(e,t,n){"use strict";cc._RF.push(t,"46bacld3u1LSo+tzIpAOXuT","Vivo"),Object.defineProperty(n,"__esModule",{value:!0});e("../base/GameValues");var o,a=e("./Base");n.Vivo_init=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(!o){a.Base_init(),o=e;var s=window.wx;"undefined"!=typeof qg?(Object.keys(qg).forEach(function(e){var t=qg[e],n=s[e];"function"==typeof t&&"function"==typeof n&&(s[e]=t)}),s.login=function(e){console.log("------\u3010Vivo\u3011 login-------");var t=e?e.success:null,n=e?e.fail:null,o=e?e.complete:null;try{qg.login({success:function(e){try{var a=e.token;console.log(e),s.__userInfoRes={},s.__userInfoRes.userInfo={nickName:e.nickName,avatarUrl:e.avatar,gender:e.sex,uid:e.uid},s.__userInfoRes.rawData=JSON.stringify(s.__userInfoRes.userInfo),s.__userInfoRes.encryptedData="",s.__userInfoRes.signature="",s.__userInfoRes.iv="",t&&t({code:a}),o&&o()}catch(e){n&&n(),o&&o()}},fail:function(e){console.log(e),n&&n(),o&&o()}})}catch(e){console.log(e),n&&n(),o&&o()}},s.navigateToMiniProgram=function(e){console.log("------\u3010Vivo\u3011 navigateToMiniProgram-------");e&&e.success;var t=e?e.fail:null,n=e?e.complete:null;t&&t({}),n&&n();try{e.pkgName=e.appId,qg.navigateToMiniGame(e)}catch(e){console.log(e),t&&t()}},s.initAdService=function(e){},s.createBannerAd=function(e){var n=qg.getSystemInfoSync();console.log("------\u3010Vivo\u3011 createBannerAd-------",n);try{var o=qg.createBannerAd({adUnitId:t,style:{}}),a={show:function(){o.show()},onShow:function(e){o.onShow(e)},offShow:function(e){o.offShow(e)},hide:function(){o.hide()},onHide:function(e){o.onHide(e)},offHide:function(e){o.offHide(e)},onError:function(e){o.onError(e)},offError:function(e){o.offError(e)},onLoad:function(e){o.onLoad(e)},offLoad:function(e){o.offLoad(e)},onResize:function(e){o.onResize(e)},offResize:function(e){o.offResize(e)},destroy:function(){o.destroy()}};return o.show(),a}catch(e){console.log("------\u3010Vivo\u3011 create banner ad fail-------",e)}return null},s.createRewardedVideoAd=function(e){console.log("------\u3010Vivo\u3011 createRewardedVideoAd-------");try{return qg.createRewardedVideoAd({adUnitId:i})}catch(e){console.log("------\u3010Vivo\u3011 create video ad fail-------",e)}return null},s.createInterstitialAd=function(e){console.log("------\u3010Vivo\u3011 createInsertAd-------",n);try{return qg.createInterstitialAd({adUnitId:n})}catch(e){console.log("------\u3010Vivo\u3011 create createInsertAd fail-------",e)}return null},null!=r&&r()):null!=r&&r()}},cc._RF.pop()},{"../base/GameValues":"GameValues","./Base":"Base"}],WXBannerAdBase:[function(e,t,n){"use strict";cc._RF.push(t,"c638d0HKrdLZb5HG1hKjbE7","WXBannerAdBase");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../GameCoreLocation"),i=function(e){function t(n,o,i,r,s,c){void 0===o&&(o=a.GameCoreLocation.BOTTOM_CENTER),void 0===i&&(i=0),void 0===r&&(r=0),void 0===s&&(s=0),void 0===c&&(c=0);var l=e.call(this)||this;return l._maxHeight=0,l._maxWidth=0,l.borderWeight=2,l._vertialIndent=0,l._horizontalIndent=0,l._isShowing=!1,t._ads.push(l),l._adID=n,l._location=o,l._vertialIndent=i,l._horizontalIndent=r,l._maxHeight=s,l._maxWidth=c,l.createAd(),l}return o(t,e),Object.defineProperty(t,"currentAd",{get:function(){return 0==t._ads.length?null:t._ads[t._ads.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bannerAd",{get:function(){return this._bannerAd},enumerable:!0,configurable:!0}),t.prototype.createAd=function(){},Object.defineProperty(t.prototype,"adRect",{get:function(){return this._adRect},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adWidth",{get:function(){return this._adRect?this._adRect.width:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adHeight",{get:function(){return this._adRect?this._adRect.height:0},enumerable:!0,configurable:!0}),t.prototype.relayout=function(){},Object.defineProperty(t.prototype,"isShowing",{get:function(){return this._isShowing},enumerable:!0,configurable:!0}),t.prototype.next=function(){},t.prototype.show=function(){},t.prototype.hide=function(){},t.prototype.destroy=function(){if(!this._destoried){this._destoried=!0;var n=t._ads.indexOf(this);n>=0&&t._ads.splice(n,1),e.prototype.destroy.call(this)}},t._ads=[],t}(e("../managers/event/EventDispacher").default);n.default=i,cc._RF.pop()},{"../GameCoreLocation":"GameCoreLocation","../managers/event/EventDispacher":"EventDispacher"}],WXBannerAd:[function(e,t,n){"use strict";cc._RF.push(t,"c1ef1RWepZEF4nKQFISyIOt","WXBannerAd");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("./WXEventNames"),i=e("../managers/Utils"),r=e("../GameCoreLocation"),s=e("./WXBannerAdBase"),c=e("../deer/DeerSDK"),l=e("../base/GameValues"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bannerHight=0,t.bannerWidth=0,t._lastBDshowTime=0,t._firstResizeDone=!1,t}return o(t,e),Object.defineProperty(t,"currentAd",{get:function(){return 0==s.default._ads.length?null:s.default._ads[s.default._ads.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastBDshowTime",{get:function(){return isNaN(this._lastBDshowTime)&&(this._lastBDshowTime=0),this._lastBDshowTime},set:function(e){this._lastBDshowTime=e},enumerable:!0,configurable:!0}),t.prototype.createAd=function(){var e=this;if("undefined"!=typeof wx){if(null==this._bannerAd)if(l.default.isMeiZu){if("undefined"==typeof mz)return;var t=qg.getSystemInfoSync().screenHeight,n=qg.getSystemInfoSync().screenWidth;this._bannerAd=qg.createBannerAd({adUnitId:this._adID,style:{left:0,top:t-n/6.7,width:n,height:n/6.7}}),this._bannerAd&&this._bannerAd.onClose(function(){e.createAd()})}else if(l.default.isToutiao){var o=tt.getSystemInfoSync(),a=o.windowWidth,s=o.windowHeight,c=200;this._bannerAd=tt.createBannerAd({adUnitId:this._adID,style:{width:c,top:s-c/16*9}})}else if(l.default.currentPlatform==l.PlatformName.BAIDU){var u=(new Date).getTime();if(0==this.lastBDshowTime&&(this.lastBDshowTime=u),!(u-this.lastBDshowTime>6e3))return;this.lastBDshowTime=u,console.error("\u521b\u5efa\u767e\u5ea6banner");var d=wx.getSystemInfoSync();a=d.windowWidth,s=d.windowHeight,c=isNaN(Number(a))?200:Number(a);this._bannerAd=wx.createBannerAd({adUnitId:this._adID,appSid:l.default.appSid,type:"banner",style:{width:c,top:s-.35*c}}),window.ban=this._bannerAd}else{var f=cc.view.getFrameSize(),p=cc.winSize,h=0;h=this._maxHeight>0?960/334*this._maxHeight:p.width;var g=i.default.getCanvasScaleFactor();h*=g,h=Math.min(f.width-2*this.borderWeight,h);var _=0,y=0;switch(this._location){case r.GameCoreLocation.BOTTOM_CENTER:_=(f.width-h)/2,y=f.height;break;case r.GameCoreLocation.TOP_CENTER:_=(f.width-h)/2,y=0}_+=this.borderWeight,y+=this.borderWeight,h-=2*this.borderWeight,console.log("----  \u5fae\u4fe1banner\u5e7f\u544a ----"),console.log("-  init  -"),console.log(_,y,"adW="+h,"CanvasScaleFactor="+g),console.log("-  done  -");var m={left:_,top:y};m.width=h,this._bannerAd=wx.createBannerAd({adUnitId:this._adID,style:m})}this._bannerAd&&(this._bannerAd.onLoad(function(){e._destoried||e.adLoadCallback()}),this._bannerAd.onResize(function(t){e._destoried||e.adResizeCallback(t)}),this._bannerAd.onError(function(t){e._destoried||e.adErrorCallback(t)}),"undefined"!=typeof wx&&wx.onHide(this.wxOnHide.bind(this)))}},t.prototype.wxOnHide=function(e){if(console.log("\u3010WXBanner onHide",e,this._bannerAd,this._isShowing),e)if(this._destoried)wx.offHide(this.wxOnHide.bind(this));else{var t=e.targetAction,n=e.targetPagePath;if((-1==t||8==t||9==t||n)&&this._bannerAd&&this._isShowing){if(c.DeerAdVO.lastNavigateTime){var o=(new Date).getTime()-c.DeerAdVO.lastNavigateTime.getTime();if(console.log("DeerAdVO.lastNavigateTime delay(ms)",o),o<5e3)return}c.default.instance.track(c.DeerTrackAction.WX_BAD_CLICK,null,!0)}}},t.prototype.relayout=function(){if(console.log("----  \u5fae\u4fe1banner\u5e7f\u544arelayout ----"),!l.default.isMeiZu&&!l.default.isToutiao&&this._bannerAd&&this._bannerAd.style){var e=this.bannerWidth,t=this.bannerHight,n=this._bannerAd.style.width;if(isNaN(n)||n<=0||isNaN(e)||isNaN(t))return this.dispatchEventWith(a.default.BANNER_AD_ERROR),void this.destroy();console.log("\u3010WXBannerAd\u3011rw, rh, maxHeight",e,t,this._maxHeight);var o,s,c=cc.view.getFrameSize(),u=cc.winSize;l.default.isToutiao?(o=tt.getSystemInfoSync().windowHeight,s=tt.getSystemInfoSync().windowWidth):(o=wx.getSystemInfoSync().windowHeight,s=wx.getSystemInfoSync().windowWidth),console.log("frame size",c),console.log("window size",u);var d=0,f=0;switch(this._location){case r.GameCoreLocation.BOTTOM_CENTER:d=(s-e)/2,f=o-t-this.borderWeight;break;case r.GameCoreLocation.TOP_CENTER:d=(c.width-e)/2,f=this.borderWeight}d+=this._horizontalIndent,f+=this._vertialIndent,f-=i.default.iphoneBottomBarHeight,d=Math.floor(d),f=Math.floor(f),this._bannerAd&&(this._bannerAd.style.left=0,this._bannerAd.style.top=f),console.log("this._bannerAd.style=",this._bannerAd.style),this._adRect=new cc.Rect(d-this.borderWeight,f-this.borderWeight,e+2*this.borderWeight,t+2*this.borderWeight),this.dispatchEventWith(a.default.BANNER_AD_RESIZE)}},t.prototype.next=function(){l.default.isMeiZu||(console.log("----  \u5fae\u4fe1banner\u5e7f\u544anext ----"),console.log("this._isShowing="+this._isShowing),this.dispatchEventWith(a.default.BANNER_AD_NEXT))},t.prototype.show=function(){if(l.PlatformName.BAIDU==l.default.currentPlatform)return this._bannerAd?void((new Date).getTime()-this.lastBDshowTime>3e4&&(this._bannerAd&&(this._bannerAd.destroy(),this._bannerAd=null),this.createAd(),console.error("\u767e\u5ea6bannershow2"))):void this.createAd();this._destoried||(this._bannerAd&&this._firstResizeDone&&(this._bannerAd.show(),c.default.instance.track(c.DeerTrackAction.WX_BAD_SHOW)),this._isShowing=!0,this.dispatchEventWith(a.default.BANNER_AD_SHOW))},t.prototype.hide=function(){l.default.currentPlatform!=l.PlatformName.BAIDU&&(console.log("----  \u5fae\u4fe1banner\u5e7f\u544ahide ----"),console.log("this._isShowing="+this._isShowing),this._destoried||(this._bannerAd&&this._firstResizeDone&&this._bannerAd.hide(),this._isShowing=!1,this.dispatchEventWith(a.default.BANNER_AD_HIDE,this)))},t.prototype.destroy=function(){this._destoried||(e.prototype.destroy.call(this),l.default.isMeiZu||l.default.currentPlatform==l.PlatformName.BAIDU||(console.log("----  \u5fae\u4fe1banner\u5e7f\u544adestroy ----"),this._bannerAd&&(this._bannerAd.destroy(),this._bannerAd=null),"undefined"!=typeof wx&&wx.offHide(this.wxOnHide.bind(this))))},t.prototype.adLoadCallback=function(){if(console.log("----  \u5fae\u4fe1banner\u5e7f\u544aadLoadCallback ----"),l.default.currentPlatform==l.PlatformName.BAIDU&&this._bannerAd){this.lastBDshowTime=(new Date).getTime(),console.error(this._bannerAd.style);var e=wx.getSystemInfoSync(),t=e.windowWidth,n=e.windowHeight,o=n/t>2?Math.floor(.03*n):0;this._bannerAd.style.top=n-this._bannerAd.style.height-o,this._bannerAd.show()}},t.prototype.adResizeCallback=function(e){if(console.error("----  \u5fae\u4fe1banner\u5e7f\u544aadResizeCallback ----",e),console.log(e),0==this._firstResizeDone&&(this._firstResizeDone=!0,this._isShowing?(this._bannerAd.show(),c.default.instance.track(c.DeerTrackAction.WX_BAD_SHOW)):this._bannerAd.hide()),l.default.isToutiao){var t=tt.getSystemInfoSync(),n=t.windowWidth,o=t.windowHeight;this._bannerAd&&e.height&&e.width&&(this._bannerAd.style.top=o-e.height,this._bannerAd.style.left=(n-e.width)/2)}else setTimeout(this.relayout.bind(this),1e3)},t.prototype.adErrorCallback=function(e){console.log("----  \u5fae\u4fe1banner\u5e7f\u544aadErrorCallback ----"),console.log(e),this.dispatchEventWith(a.default.BANNER_AD_ERROR)},t}(s.default);n.default=u,cc._RF.pop()},{"../GameCoreLocation":"GameCoreLocation","../base/GameValues":"GameValues","../deer/DeerSDK":"DeerSDK","../managers/Utils":"Utils","./WXBannerAdBase":"WXBannerAdBase","./WXEventNames":"WXEventNames"}],WXCore:[function(e,t,n){"use strict";cc._RF.push(t,"f2441WgjFRCrqfwvisHCs6E","WXCore"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(){}}();n.default=o,cc._RF.pop()},{}],WXData:[function(e,t,n){"use strict";cc._RF.push(t,"adbb5qUndVOR70qcZ/h6lOy","WXData"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return Object.defineProperty(e,"fromAppID",{get:function(){if(console.log("----  WXData ----"),console.log("-  fromAppID  -"),"undefined"==typeof wx)return null;if(void 0==this._fromAppID){var e=wx.getLaunchOptionsSync();if(e&&e.referrerInfo){var t=e.referrerInfo;this._fromAppID=t.appId}}return this._fromAppID},enumerable:!0,configurable:!0}),Object.defineProperty(e,"dataFromPath",{get:function(){if(console.log("----  WXData ----"),console.log("-  dataFromPath  -"),"undefined"==typeof wx)return null;if(!this._dataFromPath){var e=wx.getLaunchOptionsSync();e&&e.query?this._dataFromPath=e.query:this._dataFromPath={}}return this._dataFromPath},enumerable:!0,configurable:!0}),Object.defineProperty(e,"dataFromApp",{get:function(){if(console.log("----  WXData ----"),console.log("-  dataFromApp  -"),"undefined"==typeof wx)return null;if(!this._dataFromApp){var e=wx.getLaunchOptionsSync();if(e&&e.referrerInfo){var t=e.referrerInfo;this._dataFromApp=t.extraData}else this._dataFromApp={}}return this._dataFromApp},enumerable:!0,configurable:!0}),e._fromAppID=void 0,e}();n.default=o,cc._RF.pop()},{}],WXDevice:[function(e,t,n){"use strict";cc._RF.push(t,"86599K1rahAUqop7Obco3Cn","WXDevice"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,a=(o.ccclass,o.property,function(){function e(){}return e.getSystemInfo=function(){if(console.log("----  WXDevice ----"),console.log("-  getSystemInfo  -"),"undefined"!=typeof wx){var t=wx.getSystemInfoSync();if(t&&void 0!=t.benchmarkLevel){var n=parseInt(""+t.benchmarkLevel);!isNaN(n)&&n>0&&(e._benchmarkLevel=n)}e._systemInfo=t}},Object.defineProperty(e,"systemInfo",{get:function(){return e._systemInfo||e.getSystemInfo(),e._systemInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e,"SDKVersion",{get:function(){return e._systemInfo||e.getSystemInfo(),e._systemInfo?e._systemInfo.SDKVersion:null},enumerable:!0,configurable:!0}),Object.defineProperty(e,"benchmarkLevel",{get:function(){return e._benchmarkLevel},enumerable:!0,configurable:!0}),e.vibrateShort=function(){},e.vibrateLong=function(){},e.getClipboardData=function(e){if(console.log("----  WXDevice  ----"),console.log("-  getClipboardData  -"),"undefined"!=typeof wx)try{wx.getClipboardData({fail:function(t){e&&e(null)},success:function(t){e&&(t&&t.data?e(t.data):e(null))}})}catch(t){e&&e(null)}},e.setClipboardData=function(e){if(console.log("----  WXDevice  ----"),console.log("-  setClipboardData  -"),"undefined"!=typeof wx)try{wx.setClipboardData({data:e})}catch(e){}},e._benchmarkLevel=-1,e}());n.default=a,cc._RF.pop()},{}],WXEventNames:[function(e,t,n){"use strict";cc._RF.push(t,"a11f0FzqodOqLijwEeUJizD","WXEventNames"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.BANNER_AD_RESIZE="bannerAdResize",e.BANNER_AD_SHOW="bannerAdShow",e.BANNER_AD_HIDE="bannerAdHide",e.BANNER_AD_NEXT="bannerAdNext",e.BANNER_AD_ERROR="bannerAdError",e.REWARD_VIDEO_AD_CLOSE="rewardVideoAdClose",e.REWARD_VIDEO_AD_COMPLETE="rewardVideoAdComplete",e.REWARD_VIDEO_AD_READY="rewardVideoAdReady",e.REWARD_VIDEO_AD_ERROR="rewardVideoAdError",e.INTERSTITIAL_AD_CLOSE="interstitialAdClose",e.INTERSTITIAL_AD_ERROR="interstitialAdComplete",e.INTERSTITIAL_AD_READY="interstitialAdReady",e.IMAGE_SNAPSHOT_START="imageSnapshotStart",e.IMAGE_SNAPSHOT_END="imageSnapshotEnd",e}();n.default=o,cc._RF.pop()},{}],WXImage:[function(e,t,n){"use strict";cc._RF.push(t,"13a2a3Pz/ZP8piSWpMpBEVU","WXImage"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../platforms/QQCM_getAvatarFromOpenId"),a=e("../base/GameValues"),i=e("./WXEventNames"),r=e("./WXUtils"),s=function(){function e(){}return e.createImage=function(e){if(console.log("----  WXImage ----"),console.log("-  createImage  -"),!e)return null;e.length<1e3&&console.log(e);var t=new cc.SpriteFrame;if(a.default.isToutiao&&-1!=e.indexOf("config"))return cc.loader.loadRes(e,cc.Texture2D,function(e,n){e||t.setTexture(n)}),t;if(a.default.currentPlatform==a.PlatformName.IOS||"undefined"==typeof wx)cc.loader.load(e,function(e,n){n&&t.setTexture(n)});else if(a.default.currentPlatform==a.PlatformName.QQCM&&-1==e.indexOf("/"))o.QQCM_getAvatarFromOpenId(e,function(e){cc.loader.load(e,function(e,n){t.setTexture(n)})});else if("undefined"!=typeof wx){var n=new cc.Texture2D,i=wx.createImage();i.src=e,i.onload=function(){n.initWithElement(i),n.handleLoadedTexture()},t.setTexture(n)}return t},e.saveImageToPhotosAlbum=function(e,t,n,o){if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===o&&(o=null),console.log("----  WXImage ----"),console.log("-  saveImageToPhotosAlbum  -"),console.log(e),"undefined"!=typeof wx)try{wx.saveImageToPhotosAlbum({filePath:e,success:t,fail:n,complete:o})}catch(e){}},e.previewImage=function(e){if(console.log("----  WXImage ----"),console.log("-  previewImage  -"),console.log(e),"undefined"!=typeof wx)try{wx.previewImage({urls:e})}catch(e){}},e.getSnapshotFile=function(t,n,o,a){void 0===t&&(t=null),void 0===n&&(n=1),void 0===o&&(o=null),void 0===a&&(a=null),console.log("----  WXImage ----"),console.log("-  getSnapshotFile  -"),"undefined"!=typeof wx?(e._getSnapshotRect=t,e._getSnapshotScale=n,e._getSnapshotCallback=o,e._getSnapshotCanvas=a,r.default.eventManager.dispatchEventWith(i.default.IMAGE_SNAPSHOT_START),cc.director.on(cc.Director.EVENT_AFTER_DRAW,e.drawHandler,e)):null!=o&&o(null)},e.drawHandler=function(t){cc.director.off(cc.Director.EVENT_AFTER_DRAW,e.drawHandler,e);var n=e._getSnapshotCanvas||a.default.canvas,o=e._getSnapshotRect,s=e._getSnapshotScale,c=e._getSnapshotCallback;if(null==o)if(n!=a.default.canvas)o=new cc.Rect(0,0,n.width,n.height);else{var l=cc.view.getFrameSize();o=new cc.Rect(0,0,l.width,l.height)}if(console.log("@@@@@@@ cc.view.getFrameSize() = "+JSON.stringify(cc.view.getFrameSize())),console.log("@@@@@@@ cc.view.getDevicePixelRatio() = "+cc.view.getDevicePixelRatio()),n==a.default.canvas){var u=cc.view.getDevicePixelRatio();o.x*=u,o.y*=u,o.width*=u,o.height*=u}e._getSnapshotRect=null,e._getSnapshotScale=1,e._getSnapshotCallback=null,e._getSnapshotCanvas=null,n.toTempFilePath({x:o.x,y:o.y,width:o.width,height:o.height,destWidth:o.width*s,destHeight:o.height*s,success:function(e){c&&c(e?e.tempFilePath:null)},fail:function(){c&&c(null)},complete:function(){r.default.eventManager.dispatchEventWith(i.default.IMAGE_SNAPSHOT_END)}})},e.readSnapshotFileAsSpriteFrame=function(t){console.log("----  WXImage ----"),console.log("-  readSnapshotFileAsSpriteFrame  -");try{var n=wx.getFileSystemManager().readFileSync(t,"base64");return e.createImage("data:image/jpg;base64,"+n)}catch(e){console.log(e)}return null},e.getSnapshotImage=function(){if(console.log("----  WXImage ----"),console.log("-  getSnapshotImage  -"),"undefined"==typeof wx)return null;var t=a.default.canvas.toDataURL();return e.createImage(t)},e}();n.default=s,cc._RF.pop()},{"../base/GameValues":"GameValues","../platforms/QQCM_getAvatarFromOpenId":"QQCM_getAvatarFromOpenId","./WXEventNames":"WXEventNames","./WXUtils":"WXUtils"}],WXInterstitialAd:[function(e,t,n){"use strict";cc._RF.push(t,"6d3e63im5hO3bGjQkrkr/Xt","WXInterstitialAd");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("./WXEventNames"),i=e("../managers/event/EventDispacher"),r=e("./WXUtils"),s=e("../base/GameValues"),c=function(e){function t(t){var n=e.call(this)||this;return n._isReady=!1,n._isShowing=!1,s.default.currentPlatform!=s.PlatformName.WECHAT||s.default.isToutiao?(n._adID=t,n.createAd(),n):n}return o(t,e),Object.defineProperty(t.prototype,"interstitalAd",{get:function(){return this._interstitalAd},enumerable:!0,configurable:!0}),t.prototype.createAd=function(){var e=this;if(console.log("----  \u5fae\u4fe1\u63d2\u5c4f\u5e7f\u544a ----"),console.log("-  createAd  -",this._adID),s.default.currentPlatform!=s.PlatformName.ANDROID&&s.default.currentPlatform!=s.PlatformName.IOS){try{if(s.default.isMeiZu)this._interstitalAd=qg.createInsertAd({adUnitId:this._adID}),this._interstitalAd&&this._interstitalAd.load();else if(s.default.currentPlatform==s.PlatformName.OPPO)this._interstitalAd=qg.createInterstitialAd({adUnitId:this._adID});else{if(cc.sys.isBrowser)return;this._interstitalAd=wx.createInterstitialAd({adUnitId:this._adID})}this._interstitalAd&&this._interstitalAd.onLoad(this.adLoadCallback.bind(this)),this._interstitalAd&&this._interstitalAd.onClose(this.adCloseCallback.bind(this)),this._interstitalAd&&this._interstitalAd.onError(this.adErrorCallback.bind(this))}catch(e){console.log("\u521b\u5efa\u63d2\u5c4f\u5e7f\u544a\u5931\u8d25",e)}s.default.isToutiaoApp()&&this._interstitalAd&&this._interstitalAd.load().then(function(){e._interstitalAd.show()}).catch(function(e){console.log(e)})}},Object.defineProperty(t.prototype,"isReady",{get:function(){return this._isReady},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isShowing",{get:function(){return this._isShowing},enumerable:!0,configurable:!0}),t.prototype.show=function(){console.log("----  \u5fae\u4fe1\u63d2\u5c4f\u5e7f\u544a ----"),console.log("-  show  -");try{this.onShow()}catch(e){this._isShowing=!1,console.log("\u663e\u793a\u63d2\u5c4f\u5e7f\u544a\u5931\u8d25",e)}},t.prototype.hide=function(){},t.prototype.update=function(){},t.prototype.onShow=function(){console.log("----  \u5fae\u4fe1\u63d2\u5c4f\u5e7f\u544a ----"),console.log("-  onShow  -"),t.wxInterstitialAdIsOpen=!0,this._interstitalAd.show()},t.prototype.adLoadCallback=function(){console.log("----  \u5fae\u4fe1\u63d2\u5c4f\u5e7f\u544a ----"),console.log("-  adLoadCallback  -"),this._isReady=!0,this.onShow(),r.default.eventManager.dispatchEventWith(a.default.INTERSTITIAL_AD_READY)},t.prototype.adCloseCallback=function(e){void 0===e&&(e=null),console.log("----  \u5fae\u4fe1\u63d2\u5c4f\u5e7f\u544a ----"),console.log("-  adCloseCallback  -"),console.log(JSON.stringify(e)),t.wxInterstitialAdIsOpen=!1,this._isShowing=!1,r.default.eventManager.dispatchEventWith(a.default.INTERSTITIAL_AD_CLOSE)},t.prototype.adErrorCallback=function(e){console.log("----  \u5fae\u4fe1\u63d2\u5c4f\u5e7f\u544a ----"),console.log("-  adErrorCallback  -"),console.log(e),this._isShowing=!1,t.wxInterstitialAdIsOpen=!1,r.default.eventManager.dispatchEventWith(a.default.INTERSTITIAL_AD_ERROR)},t.prototype.destroy=function(){this._destoried||(this._destoried=!0,this._interstitalAd&&(this._interstitalAd.offLoad(this.adLoadCallback.bind(this)),this._interstitalAd.offClose(this.adCloseCallback.bind(this)),this._interstitalAd.offError(this.adErrorCallback.bind(this)),this._interstitalAd=null),t.wxInterstitialAdIsOpen=!1,this._isReady=!1,this._isShowing=!1,e.prototype.destroy.call(this))},t.wxInterstitialAdIsOpen=!1,t}(i.default);n.default=c,cc._RF.pop()},{"../base/GameValues":"GameValues","../managers/event/EventDispacher":"EventDispacher","./WXEventNames":"WXEventNames","./WXUtils":"WXUtils"}],WXNativeAd:[function(e,t,n){"use strict";cc._RF.push(t,"25997ZutSRC6JPr0ymN+fEN","WXNativeAd");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../deer/DeerSDK"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=e.call(this)||this;return t.nativeAdIDs=[""],t.updateTime=30,t.showType=1,t._lastAdNode=null,t._currentAd=null,t.nativeAdList=null,t.lastTime=0,t._destoried=!1,t}return o(t,e),Object.defineProperty(t.prototype,"nativeAd",{get:function(){return this._nativeAd},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onClickBack,this),this.createAd()},t.prototype.createAd=function(){"undefined"!=typeof qg&&i.default.instance.isOnline&&(this._adID=this.randomAd,this._destoried=!1,console.log("----  \u5fae\u4fe1\u539f\u751f\u5e7f\u544a ----"),console.log("-  createAd  -",this._adID),this._nativeAd=qg.createNativeAd({posId:this._adID}),this._nativeAd.load(),this._nativeAd.onLoad(this.adLoadCallback.bind(this)),this._nativeAd.onError(this.adErrorCallback.bind(this)))},Object.defineProperty(t.prototype,"randomAd",{get:function(){var e=[];for(var t in this.nativeAdIDs)this.nativeAdIDs[t]!=this._adID&&e.push(this.nativeAdIDs[t]);return e[Math.floor(Math.random()*e.length)]},enumerable:!0,configurable:!0}),t.prototype.show=function(){var e=this;if(console.log("----  \u5fae\u4fe1\u539f\u751f\u5e7f\u544a ----"),console.log("-  show  -"),this._nativeAd){var t=new cc.Node,n=t.addComponent(cc.Sprite);this._currentAd=this.nativeAdList[Math.floor(Math.random()*this.nativeAdList.length)],this._nativeAd.reportAdShow({adId:this._currentAd.adId});var o="";1==this.showType?o=this._currentAd.icon:2==this.showType&&(o=this._currentAd.imgUrlList[0]),"undefined"!=o&&null!=o&&""!=o||(o=this._currentAd.icon),"undefined"!=o&&null!=o&&""!=o||(o=this._currentAd.logoUrl),"undefined"!=o&&null!=o&&""!=o||(o=this._currentAd.iconUrlList[0]),"undefined"!=o&&null!=o&&""!=o||(o="https://adsfs.heytapimage.com/union/adlogo/o_1512387525231.png"),console.log("--------\u5fae\u4fe1\u539f\u751f\u5e7f\u544aicon---------",o),cc.loader.load(o,function(o,a){n.spriteFrame=new cc.SpriteFrame(a),e._lastAdNode&&e._lastAdNode.destroy(),e._lastAdNode=t,e._lastAdNode.width=e.node.width,e._lastAdNode.height=e.node.height,e.node.addChild(e._lastAdNode)})}},t.prototype.onClickBack=function(){this._nativeAd.reportAdClick({adId:this._currentAd.adId}),this.reset()},t.prototype.reset=function(){console.log("----  \u5fae\u4fe1\u539f\u751f\u5e7f\u544a ----"),console.log("-  reset  -"),this.destroys(),this.createAd()},t.prototype.update=function(e){this.lastTime+=e,this.lastTime>=this.updateTime&&(this.lastTime=0,this.reset())},t.prototype.adLoadCallback=function(e){console.log("----  \u5fae\u4fe1\u539f\u751f\u5e7f\u544a ----"),console.log("-  adLoadCallback  -",e),this.nativeAdList=e.adList,this.show()},t.prototype.adErrorCallback=function(e){console.log("----  \u5fae\u4fe1\u539f\u751f\u5e7f\u544a ----"),console.log("-  adErrorCallback  -"),console.log(e),this.show()},t.prototype.destroys=function(){this._destoried||(this._destoried=!0,this.lastTime=0,this._nativeAd&&(this._nativeAd.offLoad(this.adLoadCallback.bind(this)),this._nativeAd.offError(this.adErrorCallback.bind(this)),this._nativeAd.destroy(),this._nativeAd=null))},a([c({type:[cc.String],displayName:"\u5e7f\u544a\u5217\u8868"})],t.prototype,"nativeAdIDs",void 0),a([c({displayName:"\u5237\u65b0\u95f4\u9694",tooltip:"\u9ed8\u8ba430\u79d2\u5237\u4e00\u6b21"})],t.prototype,"updateTime",void 0),a([c({displayName:"\u663e\u793a\u7c7b\u578b",tooltip:"1\uff1a\u6b63\u65b9\u5f62icon 2 \uff1a\u957f\u65b9\u5f62\u957f\u6761\u56fe\u7247"})],t.prototype,"showType",void 0),t=a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../deer/DeerSDK":"DeerSDK"}],WXOpenData:[function(e,t,n){"use strict";cc._RF.push(t,"31b33l+MVhHrIjtiM2a54Ls","WXOpenData"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../deer/DeerSDK"),a=e("../base/GameValues"),i=function(){function e(){}return e.postMessage=function(e){if("undefined"==typeof wx||a.PlatformName.WECHAT!=a.default.currentPlatform)return null;wx.getOpenDataContext().postMessage(e)},e.saveUserScoreToCloud=function(t){if("undefined"==typeof wx||a.PlatformName.WECHAT!=a.default.currentPlatform)return null;e.saveUserDataToCloud("score",""+t),o.default.instance.isReady&&o.default.instance.game_saveScoreToService(t)},e.saveUserDataToCloud=function(t,n){if("undefined"!=typeof wx&&a.PlatformName.WECHAT==a.default.currentPlatform){var o=Math.floor((new Date).getTime()/1e3);"score"==t&&(e.postMessage({action:"__rdm__myScore",value:parseInt(n)}),n='{"wxgame":{"score":'+n+', "update_time":'+o+"}}");try{wx.setUserCloudStorage({KVDataList:[{key:t,value:n}],success:function(e){console.log(e)},fail:function(e){console.log(e)}})}catch(e){}}},e}();n.default=i,cc._RF.pop()},{"../base/GameValues":"GameValues","../deer/DeerSDK":"DeerSDK"}],WXRankDataManager:[function(e,t,n){"use strict";cc._RF.push(t,"d58eelXEchO3538OB+XKyy5","WXRankDataManager");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("./WXRankVO"),i=e("./WXRankEventNames"),r=function(e){function t(){var n=e.call(this)||this;if(n._friendRankData=[],n._myIndex=-1,n._myScore=0,console.log("\u3010WXRankDataManager\u3011\u521d\u59cb\u5316"),t._instance)throw new Error("Please use WXRankDataManager.instance");t._instance=n,n.getUserInfo();try{wx.onMessage(function(e){if(console.log("\u3010WXRankDataManager\u3011constructor, wx.onMessage"),console.log(e),e)switch(e.action){case"__rdm__myScore":n.myScore=e.value}})}catch(e){}return n}return o(t,e),Object.defineProperty(t,"instance",{get:function(){return t._instance||new t,t._instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"friendRankData",{get:function(){return this._friendRankData.concat()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"friendRankNext",{get:function(){return this._friendRankNext},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"friendRankPrevious",{get:function(){return this._friendRankPrevious},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"friendRankMine",{get:function(){return this._friendRankMine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"myIndex",{get:function(){return this._myIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"myScore",{get:function(){return this._myScore},set:function(e){this._myScore!=e&&(this._myScore=e,t._instance.dispatchEvent(new cc.Event(i.default.MY_SCORE_CHANGE,!1)),this.refreshAllData())},enumerable:!0,configurable:!0}),t.prototype.getUserInfo=function(){var e=this;try{wx.getUserInfo({openIdList:["selfOpenId"],success:function(t){console.log("user info"),console.log(t);try{var n=t.data;e._userInfo=n[0]}catch(n){e._userInfo=t.userInfo}},fail:function(){},complete:function(){e.refreshRankingData()}})}catch(e){}},t.prototype.refreshAllData=function(){if(this._userInfo){var e=this._userInfo.openId,n=this._userInfo.avatarUrl;n=n.replace(/\/\d+$/,""),console.log("my avatar url = ",n),console.log("my open id = ",e);for(var o=this._friendRankData.length,a=0;a<o;a++){var r=this._friendRankData[a],s=r.avatar;s=s.replace(/\/\d+$/,""),console.log("vo.isSelf="+r.isSelf,r.nickname,r.score,r.avatar),(!0===r.isSelf||e&&r.openID==e||n&&s==n)&&(this._friendRankMine=r,this._myScore>r.score&&(r.score=this._myScore,this.sortFriendRankData()))}if(this._friendRankData){var c=this._friendRankData.concat(),l=c.indexOf(this._friendRankMine);this._myIndex>=0&&c.splice(l,1),this._friendRankPrevious=null,this._friendRankNext=null;for(a=c.length-1;a>=0;a--)if(this._myScore<c[a].score){this._friendRankNext=c[a],a<c.length-1&&(this._friendRankPrevious=c[a+1]);break}console.log("my rank is "+this._myIndex,", total is "+o),t._instance.dispatchEvent(new cc.Event(i.default.FRIEND_RANK_CHANGE,!1))}}else this.getUserInfo()},t.prototype.sortFriendRankData=function(){this._friendRankData.sort(function(e,t){return t.score-e.score});for(var e=this._friendRankData.length,t=0;t<e;t++)this._friendRankData[t].rank=t+1},t.prototype.refreshRankingData=function(){var e=this;console.log("\u83b7\u53d6\u6392\u884c\u699c\u6570\u636e\u3002\u3002\u3002\u3002\u3002"),"undefined"!=typeof wx&&wx.getFriendCloudStorage({keyList:["score","userPropVIP"],success:function(t){console.log("=================@@@@@@@@@@@@@@@@@@@@@@@@================="),console.log(t),console.log(e._userInfo);for(var n=[],o=t.data,i=0;i<o.length;i++){var r=o[i],s=new a.default;s.nickname=r.nickname,s.avatar=r.avatarUrl,s.openID=r.openid,s.isSelf=!0===r.isSelf;for(var c=r.KVDataList,l=c.length,u=0;u<l;u++){var d=c[u],f=d.key,p=d.value;if(console.log("\u3010KVData\u3011",u,"key="+f,"value="+p),"userPropVIP"==f)s.isVIP="1"==p;else if("score"==f)try{var h=JSON.parse(p);s.score=parseInt(h.wxgame.score)}catch(e){}}n.push(s)}e._friendRankData=n,e.sortFriendRankData(),e.refreshAllData()}})},t}(cc.Node);n.default=r;var s=function(e){function t(t,n){void 0===n&&(n=null);var o=e.call(this)||this;if("undefined"==typeof wx)return null;var a=new cc.Texture2D,i=wx.createImage();return i.src=t,i.onload=function(){a.initWithElement(i),a.handleLoadedTexture(),n&&n()},o.setTexture(a),o}return o(t,e),t}(cc.SpriteFrame);n.AWXImage=s,cc._RF.pop()},{"./WXRankEventNames":"WXRankEventNames","./WXRankVO":"WXRankVO"}],WXRankEventNames:[function(e,t,n){"use strict";cc._RF.push(t,"bd39d1ZA5tP9JqD3MmT7zYX","WXRankEventNames"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.FRIEND_RANK_CHANGE="friendRankChange",e.MY_SCORE_CHANGE="myScoreChange",e}();n.default=o,cc._RF.pop()},{}],WXRankVO:[function(e,t,n){"use strict";cc._RF.push(t,"25afa5mSc9DX69Aogxf55xw","WXRankVO"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(){this.rank=0,this.nickname=null,this.avatar=null,this.openID=null,this.score=0,this.isSelf=!1,this.isVIP=!1}}();n.default=o,cc._RF.pop()},{}],WXRewardVideoAdCloseComfirm:[function(e,t,n){"use strict";cc._RF.push(t,"d2ac4rbPc5CVoJH963MIfqy","WXRewardVideoAdCloseComfirm"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./WXEventNames"),a=e("./WXUtils"),i=e("./WXRewardVideoAd"),r=function(){function e(){}return e.reset=function(){a.default.eventManager.removeEventListener(o.default.REWARD_VIDEO_AD_CLOSE,this.videoAdEventsHandler,this),a.default.eventManager.removeEventListener(o.default.REWARD_VIDEO_AD_COMPLETE,this.videoAdEventsHandler,this),a.default.eventManager.removeEventListener(o.default.REWARD_VIDEO_AD_ERROR,this.videoAdEventsHandler,this)},e.init=function(e,t,n,i){void 0===n&&(n="\u4e0b\u6b21\u518d\u8bf4"),void 0===i&&(i="\u89c2\u770b\u89c6\u9891"),this._alertTitle=e,this._alertConent=t,this._alertCancel=n,this._alertConfirmLabel=i,this.reset(),a.default.eventManager.addEventListener(o.default.REWARD_VIDEO_AD_CLOSE,this.videoAdEventsHandler,this,100),a.default.eventManager.addEventListener(o.default.REWARD_VIDEO_AD_COMPLETE,this.videoAdEventsHandler,this,100),a.default.eventManager.addEventListener(o.default.REWARD_VIDEO_AD_ERROR,this.videoAdEventsHandler,this,100)},e.videoAdEventsHandler=function(e){if(this.reset(),e.type==o.default.REWARD_VIDEO_AD_CLOSE){if(!i.default.isReady)return;e.stopPropagation(),a.default.showAlert(this._alertTitle,this._alertConent,this._alertConfirmLabel,this._alertCancel,this.alertConfirmCallback.bind(this))}},e.alertConfirmCallback=function(){i.default.show(),null!=this.closeAlertPlayAgainCallback&&this.closeAlertPlayAgainCallback()},e.closeAlertPlayAgainCallback=null,e}();n.default=r,cc._RF.pop()},{"./WXEventNames":"WXEventNames","./WXRewardVideoAd":"WXRewardVideoAd","./WXUtils":"WXUtils"}],WXRewardVideoAd:[function(e,t,n){"use strict";cc._RF.push(t,"49ddbGjBlpLhaUOcmKhj7i6","WXRewardVideoAd"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./WXEventNames"),a=e("./WXUtils"),i=e("../deer/DeerSDK"),r=e("./WXBannerAd"),s=e("../base/GameValues"),c=e("../GameCoreEventNames"),l=function(){function e(){}return Object.defineProperty(e,"adID",{get:function(){return e._adID},set:function(t){console.log("----  \u5fae\u4fe1\u89c6\u9891\u5e7f\u544aset ad id ----",t),e._adID!=t&&(e._adID=t,e.reset())},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isReady",{get:function(){return e._isReady},enumerable:!0,configurable:!0}),Object.defineProperty(e,"lastVideoAdTime",{get:function(){return e._lastVideoAdTime},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isPlaying",{get:function(){return e._isPlaying},enumerable:!0,configurable:!0}),e.show=function(){if(console.log("----  \u5fae\u4fe1\u89c6\u9891\u5e7f\u544ashow ----"),console.log("WXRewardVideoAd._isReady",e._isReady),!e._isReady)return!1;if(e._isPlaying&&(new Date).getTime()-e._lastVideoAdStartTime>2e4&&(e._isPlaying=!1),!e._isPlaying){a.default.eventManager.dispatchEventWith(c.default.MUTE_MUSIC),r.default.currentAd?(e._originalBannerAdIsShowing=r.default.currentAd.isShowing,r.default.currentAd.hide()):e._originalBannerAdIsShowing=!1;try{return e._ad&&(s.default.isMeiZu||s.default.currentPlatform===s.PlatformName.BAIDU||e._ad.load(),console.error("\u64ad\u653e\u89c6\u9891\u5e7f\u544a show",e._ad),e._ad.show()),a.default.eventManager.dispatchEventWith(c.default.MUTE_MUSIC),e._isPlaying=!0,e._lastVideoAdStartTime=(new Date).getTime(),!0}catch(t){e._isPlaying=!1}return!1}},e.reset=function(){if(console.log("----  \u5fae\u4fe1\u89c6\u9891\u5e7f\u544areset ----"),"undefined"!=typeof wx&&(e._ad&&(e._ad.offLoad(e.adLoadCallback),e._ad.offClose(e.adCloseCallback),e._ad.offError(e.adErrorCallback),e._ad=null),e._isReady=!1,e._isPlaying=!1,e._adID&&(console.log("----  \u5224\u65ad\u5e73\u53f0 ----"),"undefined"!=typeof wx))){if(s.default.currentPlatform==s.PlatformName.VIVO){if(console.log("----  vivo\u5e73\u53f0\u89c6\u9891\u5e7f\u544a\u521d\u59cb\u5316 ----"),"undefined"==typeof qg)return;e._ad=qg.createRewardedVideoAd({adUnitId:e._adID})}else s.default.currentPlatform==s.PlatformName.BAIDU?e._ad=swan.createRewardedVideoAd({adUnitId:e._adID,appSid:s.default.appSid}):e._ad=i.default.instance.wx.createRewardedVideoAd({adUnitId:e._adID});e._ad&&(e._ad.onLoad(e.adLoadCallback),e._ad.onClose(e.adCloseCallback),e._ad.onError(e.adErrorCallback),e._ad.load())}},e.adLoadCallback=function(){console.log("----  \u5fae\u4fe1\u89c6\u9891\u5e7f\u544aadLoadCallback ----"),e._isReady=!0,a.default.eventManager.dispatchEventWith(o.default.REWARD_VIDEO_AD_READY)},e.adCloseCallback=function(t){void 0===t&&(t=null),console.log("----  \u5fae\u4fe1\u89c6\u9891\u5e7f\u544aadCloseCallback ----",t),a.default.eventManager.dispatchEventWith(c.default.UNMUTE_MUSIC),r.default.currentAd&&e._originalBannerAdIsShowing&&(r.default.currentAd.show(),e._originalBannerAdIsShowing=!1),e._isPlaying=!1,s.default.isMeiZu||t&&1==t.isEnded?(e._lastVideoAdTime=(new Date).getTime(),a.default.eventManager.dispatchEventWith(o.default.REWARD_VIDEO_AD_COMPLETE),e.reset()):(a.default.showToast("\u8bf7\u770b\u5b8c\u6574\u6bb5\u89c6\u9891"),a.default.eventManager.dispatchEventWith(o.default.REWARD_VIDEO_AD_CLOSE))},e.adErrorCallback=function(t){switch(console.log("----  \u5fae\u4fe1\u89c6\u9891\u5e7f\u544aadErrorCallback ----"),console.log(t),t.errCode){case-4:console.log("\u6fc0\u52b1\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25,\u4e00\u5206\u949f\u5185\u4e0d\u80fd\u91cd\u590d\u52a0\u8f7d",JSON.stringify(t)),qg.showToast({message:"\u6fc0\u52b1\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25,\u4e00\u5206\u949f\u5185\u4e0d\u80fd\u91cd\u590d\u52a0\u8f7d"})}a.default.eventManager.dispatchEventWith(c.default.UNMUTE_MUSIC),r.default.currentAd&&e._originalBannerAdIsShowing&&(r.default.currentAd.show(),e._originalBannerAdIsShowing=!1),e._isPlaying=!1,a.default.eventManager.dispatchEventWith(o.default.REWARD_VIDEO_AD_ERROR)},e._isReady=!1,e._lastVideoAdTime=0,e._lastVideoAdStartTime=0,e._originalBannerAdIsShowing=!1,e}();n.default=l,cc._RF.pop()},{"../GameCoreEventNames":"GameCoreEventNames","../base/GameValues":"GameValues","../deer/DeerSDK":"DeerSDK","./WXBannerAd":"WXBannerAd","./WXEventNames":"WXEventNames","./WXUtils":"WXUtils"}],WXShare:[function(e,t,n){"use strict";cc._RF.push(t,"afa72AvAepLAKhpKXFMijpO","WXShare"),Object.defineProperty(n,"__esModule",{value:!0});var o,a=e("../base/GameValues"),i=e("../deer/DeerSDK"),r=function(){function e(){}return e.setOnShareAppMessage=function(t,n,o){if(void 0===o&&(o=null),console.log("----  WXShare ----"),console.log("-  setOnShareAppMessage  -"),"undefined"!=typeof wx){if(console.log(t,n,o),t&&(e._onShareAppMessageData.title=t),n&&(e._onShareAppMessageData.imageUrl=n),o){var a="";Object.keys(o).forEach(function(e){""!=a&&(a+="&"),a+=e+"="+encodeURIComponent(o[e])}),""!=a&&(e._onShareAppMessageData.query=a)}i.default.instance.wx.onShareAppMessage(function(){return e._onShareAppMessageData})}},e.shareApp=function(t,n,r,s,c,l,u){if(void 0===r&&(r=null),void 0===s&&(s=null),void 0===c&&(c=null),void 0===l&&(l=!0),void 0===u&&(u=null),"undefined"!=typeof wx){if(a.default.currentPlatform!=a.PlatformName.WECHAT&&(l=!1),l=!1,u||(u=o.REQUEST),e._shareAppTime=(new Date).getTime(),e._shareAppData={title:t,imageUrl:n,intent:u,success:function(t){e._shareAppData=null,s&&s(t)},fail:function(t){e._shareAppData=null,c&&c(t)},__us__:l},window.tt&&(e._shareAppData={query:"",intent:u,success:function(t){console.log("\u5206\u4eab\u6210\u529f",t),e._shareAppData=null,s&&s(t)},fail:function(t){e._shareAppData=null,console.log("\u5206\u4eab\u5931\u8d25",t)},__us__:!0}),wx.onShow(e.shareAppBackCallback.bind(e)),r){var d="";Object.keys(r).forEach(function(e){""!=d&&(d+="&"),d+=e+"="+encodeURIComponent(r[e])}),""!=d&&(e._shareAppData.query=d)}i.default.instance.wx.shareAppMessage(e._shareAppData)}},e.shareAppBackCallback=function(){wx.offShow(e.shareAppBackCallback.bind(e))},e.shareAppToGroup=function(e,t,n,o){if(void 0===n&&(n=null),void 0===o&&(o=null),console.log("----  WXShare ----"),console.log("-  shareAppToGroup  -"),"undefined"!=typeof wx)try{var a={title:e,imageUrl:t};if(null!=o&&(a.success=function(e){var t=null;e&&e.shareTickets&&(t=e.shareTickets[0]),o.call(null,t)}),n){var r="";Object.keys(n).forEach(function(e){""!=r&&(r+="&"),r+=e+"="+encodeURIComponent(n[e])}),""!=r&&(a.query=r)}i.default.instance.wx.shareAppMessage(a)}catch(e){}},e.getQueryData=function(){if(console.log("----  WXShare ----"),console.log("-  getQueryData  -"),"undefined"==typeof wx)return{};var e=wx.getLaunchOptionsSync();return e?e.query:{}},e._onShareAppMessageData={fail:function(){wx.showToast({title:"\u5206\u4eab\u5931\u8d25",icon:"none"})}},e._shareAppTime=0,e._mustFailRate=.5,e._mustFailCounter=3,e._shareTimes=0,e}();n.default=r,function(e){e.REQUEST="REQUEST",e.INVITE="INVITE",e.CHALLENGE="CHALLENGE",e.SHARE="SHARE"}(o=n.ShareIntent||(n.ShareIntent={})),cc._RF.pop()},{"../base/GameValues":"GameValues","../deer/DeerSDK":"DeerSDK"}],WXUser:[function(e,t,n){"use strict";cc._RF.push(t,"2aa85l/HZ9H972gaL+zqd6m","WXUser"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../base/GameValues"),a=e("./WXOpenData"),i=e("../deer/DeerSDK");n.USER_PROP_VIP="userPropVIP";var r=function(){function e(){}return Object.defineProperty(e,"lastCode",{get:function(){return this._lastCode},enumerable:!0,configurable:!0}),e.login=function(){!0!==e._isLogining&&"undefined"!=typeof wx&&(console.log("----  WXUser ----"),console.log("-  login  -"),e._isLogining=!0,wx.login({success:function(t){console.log("login success"),console.log(t),e._lastCode=t.code,e.doLoginCallback(),e.tryToGetUserInfo()},fail:function(t){e._isLogining=!1},complete:function(){e._isLogining=!1}}))},e.onLogin=function(t){-1==e._loginCallbacks.indexOf(t)&&e._loginCallbacks.push(t)},e.offLogin=function(t){var n=e._loginCallbacks.indexOf(t);n>=0&&e._loginCallbacks.splice(n,1)},e.doLoginCallback=function(){e._lastCode&&e._loginCallbacks.length>0&&(this._loginCallbacks.forEach(function(t){t(e._lastCode)}),this._loginCallbacks=[])},e.setUserInfoData=function(t){if(console.log("------setUserInfoData-------"),console.log(t),t&&t.userInfo){e._userInfo=t.userInfo,e.iv=t.iv,e.rawData=t.rawData,e.encryptedData=t.encryptedData,e.signature=t.signature;try{e._userInfoCallbacks.length>0&&(this._userInfoCallbacks.forEach(function(e){e()}),this._userInfoCallbacks=[])}catch(e){}e.destroyAllUserInfoButtons(),i.default.instance.getWXUserInfo()}},e.onUserInfo=function(t){e._userInfo?t():(-1==e._userInfoCallbacks.indexOf(t)&&e._userInfoCallbacks.push(t),e.tryToGetUserInfo())},e.offUserInfo=function(t){var n=e._userInfoCallbacks.indexOf(t);n>=0&&e._userInfoCallbacks.splice(n,1)},e.tryToGetUserInfo=function(){e._userInfo||"undefined"!=typeof wx&&(e._isTryingToGetUserInfo||(e._isTryingToGetUserInfo=!0,wx.getSetting({success:function(t){console.log("wx.getSetting",JSON.stringify(t)),t.authSetting["scope.userInfo"]&&wx.getUserInfo({withCredentials:!0,lang:"zh_CN",success:function(t){e.setUserInfoData(t)}})},complete:function(){e._isTryingToGetUserInfo=!1}})))},Object.defineProperty(e,"userInfo",{get:function(){return e._userInfo},enumerable:!0,configurable:!0}),e.createUserInfoButton=function(t,n,a){if(void 0===a&&(a=null),"undefined"!=typeof wx&&!o.default.isToutiao){var i=wx.createUserInfoButton({type:"image",image:t,withCredentials:!0,lang:"zh_CN",style:{left:n.x,top:n.y,width:n.width,height:n.height,lineHeight:40}});return i&&(e._userInfoButtons.push(i),i.onTap(function(t){console.log("user info button on tap"),console.log(t),e.setUserInfoData(t),null!=a&&a(t)})),o.default.currentPlatform==o.PlatformName.QQCM&&(e._userInfo||wx.getUserInfo({withCredentials:!0,lang:"zh_CN",from:"#wx user#",success:function(t){console.log("\u3010\u7528\u6237\u4fe1\u606f\u6309\u94ae\u3011\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u6210\u529f"),e.setUserInfoData(t)}})),i}},e.destroyUserInfoButton=function(t){try{t.destroy()}catch(e){}var n=e._userInfoButtons.indexOf(t);n>=0&&e._userInfoButtons.splice(n,1)},e.destroyAllUserInfoButtons=function(){e._userInfoButtons.forEach(function(e){e.destroy()}),e._userInfoButtons=[]},e.setVIP=function(e){void 0===e&&(e=!0),a.default.saveUserDataToCloud(n.USER_PROP_VIP,e?"1":"0"),i.default.instance.isReady&&i.default.instance.user_setVIP(e)},e._isLogining=!1,e._loginCallbacks=[],e._userInfo=null,e._userInfoCallbacks=[],e._isTryingToGetUserInfo=!1,e._userInfoButtons=[],e}();n.default=r,cc._RF.pop()},{"../base/GameValues":"GameValues","../deer/DeerSDK":"DeerSDK","./WXOpenData":"WXOpenData"}],WXUtils:[function(e,t,n){"use strict";cc._RF.push(t,"7e684/+2gBEHYHLNGaPGa7/","WXUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../managers/Utils"),a=e("../base/GameValues"),i=function(){function e(){}return e.showToast=function(e,t){void 0===t&&(t=1500),console.log("----  WX Utils ----"),console.log("-  showToast  -"),console.log(e),a.default.currentPlatform!=a.PlatformName.IOS&&a.default.currentPlatform!=a.PlatformName.ANDROID&&(t<10&&(t*=1e3),"undefined"!=typeof wx&&(a.default.isMeiZu&&"undefined"!=typeof mz?mz.showToast({duration:t,message:e}):wx.showToast({title:e,icon:"none",duration:t,mask:!1})))},e.hideToast=function(){console.log("----  WX Utils ----"),console.log("-  hideToast  -"),"undefined"!=typeof wx&&a.default.currentPlatform!=a.PlatformName.OPPO&&a.default.currentPlatform!=a.PlatformName.VIVO&&wx.hideToast({})},e.showLoading=function(e,t){if(void 0===e&&(e=""),void 0===t&&(t=!1),console.log("----  WX Utils ----"),console.log("-  showLoading  -"),console.log(e),"undefined"!=typeof wx&&a.default.currentPlatform!=a.PlatformName.OPPO&&a.default.currentPlatform!=a.PlatformName.VIVO)try{wx.showLoading({title:e,mask:t})}catch(e){}},e.hideLoading=function(){if(console.log("----  WX Utils ----"),console.log("-  hideLoading  -"),a.default.currentPlatform!=a.PlatformName.OPPO&&a.default.currentPlatform!=a.PlatformName.VIVO&&"undefined"!=typeof wx)try{wx.hideLoading()}catch(e){}},e.navigateToMiniProgram=function(e,t,n,o,a){if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===o&&(o=null),void 0===a&&(a=null),console.log("----  WX Utils ----"),console.log("-  navigateToMiniProgram  -"),console.log(e,t),"undefined"!=typeof wx)try{wx.navigateToMiniProgram({appId:e,path:t,extraData:n,success:o,fail:a})}catch(e){}else a&&a()},e.getLaunchOptionsSync=function(){return console.log("----  WX Utils ----"),console.log("-  getLaunchOptionsSync  -"),"undefined"==typeof wx?null:wx.getLaunchOptionsSync()},e.getMenuButtonLayout=function(){if(console.log("----  WX Utils ----"),console.log("-  getMenuButtonLayout  -"),"undefined"==typeof wx)return null;var e=wx.getMenuButtonBoundingClientRect();console.log("screen rect game is "+JSON.stringify(e));var t=o.default.fromScreenRect({x:e.left,y:e.top,width:e.width,height:e.height});return console.log("in game is "+JSON.stringify(t)),t},e.openCustomerServiceConversation=function(){if(console.log("----  WX Utils ----"),console.log("-  openCustomerServiceConversation  -"),"undefined"==typeof wx)return null;wx.openCustomerServiceConversation()},e.showAlert=function(e,t,n,o,a,i){if(void 0===n&&(n=null),void 0===o&&(o=null),void 0===a&&(a=null),void 0===i&&(i=null),console.log("----  WX Utils ----"),console.log("-  showAlert  -"),"undefined"==typeof wx)return null!=i?i():null!=a&&a(),null;var r={};r.title=e,r.content=t,o?(r.showCancel=!0,r.cancelText=o):r.showCancel=!1,n&&(r.confirmText=n),r.success=function(e){e&&(e.confirm?a&&a():e.cancel&&i&&i())},wx.showModal(r)},e}();n.default=i,cc._RF.pop()},{"../base/GameValues":"GameValues","../managers/Utils":"Utils"}],WeaponBulletUpgradeData:[function(e,t,n){"use strict";cc._RF.push(t,"7239fsm/nhFZL5aMWZi1rPR","WeaponBulletUpgradeData");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e=o([i],e)}());n.default=r,cc._RF.pop()},{}],WeaponHarmUpgradeData:[function(e,t,n){"use strict";cc._RF.push(t,"b3f81iAE35NVoyDGT8456wg","WeaponHarmUpgradeData");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){}return e=o([i],e)}());n.default=r,cc._RF.pop()},{}],WeaponInfo:[function(e,t,n){"use strict";cc._RF.push(t,"b5e3alprw1MOIj7bMixKusx","WeaponInfo");var o=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function e(){this.harmlevelinfo=new Array,this.bulletlevelinfo=new Array}return e=o([i],e)}());n.default=r,cc._RF.pop()},{}],WeaponItem:[function(e,t,n){"use strict";cc._RF.push(t,"9f68arcvQJLzrBSIR/Lns+G","WeaponItem");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../module/data/MainDataMgr"),r=e("../../../control/valuecount/MaxCount"),s=e("../../../control/GameConfig"),c=e("../../../gamecore/managers/GameManager"),l=e("../../../control/GameEventName"),u=e("../../../module/data/StageDataMgr"),d=e("../../../gamecore/GameCoreEventNames"),f=e("../../../GameUtils"),p=e("../../guide/GuideEventName"),h=e("../MainIntensifyMgr"),g=e("../MainScene"),_=e("../../guide/GuideNewControl"),y=e("../MainIntensify"),m=e("./SkinItem"),v=cc._decorator,b=v.ccclass,M=v.property,w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.attack=null,t.bullet=null,t.head=null,t.iconluck=null,t.allcontent=null,t.txtWeaponName=null,t.levelnode=null,t.lucknode=null,t.attacklevel=null,t.bulletlevel=null,t.luck=null,t.weaponinfo=null,t.skincost=null,t.harmcost=null,t.bullecost=null,t}var n;return o(t,e),n=t,t.prototype.onLoad=function(){null!=this.weaponinfo&&(c.default.eventManager.addEventListener(l.default.UPDATE_WEAPON_EQUIP_STATE,this.onUpdateEquipState,this),c.default.eventManager.addEventListener(d.default.DATA_CHANGE,this.onDataChange,this),c.default.eventManager.addEventListener(m.default.WEAPONPRICEEVENT,this.refreshUi,this))},t.prototype.onDataChange=function(e){e.data==u.default.KEY_USER_GOLD_NUM&&this.isBulebg()},t.prototype.isBulebg=function(){if(this.levelnode&&1==this.levelnode.active);else{var e=this.lucknode.getComponent(cc.Sprite);s.default.instance.useCoin(this.skincost,!1).value<0?e.spriteFrame=h.default.lockunbg:e.spriteFrame=h.default.lockbg}},t.prototype.start=function(){var e=this;null!=this.allcontent.getChildByName(h.default.weaponSelectRect.name)&&this.scheduleOnce(function(){var t=new cc.Event.EventCustom(n.LOCATE_WEAPON_ITEM_EVENT,!0);t.detail=e.node.position,e.node.dispatchEvent(t)})},t.prototype.onluck=function(){f.default.showToast("The weapon has not been unlocked yet, so stay tuned")},t.prototype.init=function(e){var t=this;void 0!=e?(this.weaponinfo=e,this.txtWeaponName.string=this.weaponinfo.name,this.refreshUi(),this.initEquit(),c.default.resManager.getRes("textures/weapon/"+this.weaponinfo.weaponid,function(e){try{t.head.spriteFrame=e}catch(e){}})):(this.iconluck.active=!0,this.allcontent.active=!1)},t.prototype.initEquit=function(){var e,t=i.default.instance.getData(i.default.KEY_USER_WEAPON_INFO)[this.weaponinfo.weaponid];void 0!=t&&(1==t.isequip?(h.default.weaponSelectRect.parent=this.allcontent,h.default.weaponSelectRect.position=cc.v2(-175,3),h.default.weaponStar.parent=this.allcontent.getChildByName("wuqidi"),h.default.weaponStar.position=cc.v2(0,0),h.default.weaponStar.active=!0,(e=this.lucknode.getChildByName("titletext")).y=0,e.getComponent(cc.Label).fontSize=30,e.getComponent(cc.Label).string="Equipped",this.lucknode.getComponent(cc.Sprite).spriteFrame=h.default.lockunbg):((e=this.lucknode.getChildByName("titletext")).y=0,e.getComponent(cc.Label).fontSize=30,e.getComponent(cc.Label).string="Equip",this.lucknode.getComponent(cc.Sprite).spriteFrame=h.default.lockbg,this.lucknode.on(cc.Node.EventType.TOUCH_END,this.buyWeapon,this)))},t.prototype.onUpdateEquipState=function(e){var t=this;if(e.data==this.weaponinfo.weaponid){var o=this.lucknode.getChildByName("titletext");o.y=0,o.getComponent(cc.Label).fontSize=30,o.getComponent(cc.Label).string="Equipped",this.lucknode.getComponent(cc.Sprite).spriteFrame=h.default.lockunbg,h.default.weaponStar.parent=this.allcontent.getChildByName("wuqidi"),h.default.weaponStar.position=cc.v2(0,0),h.default.weaponStar.active=!0,h.default.weaponSelectRect.parent=this.allcontent,h.default.weaponSelectRect.position=cc.v2(-175,3);var a=new cc.Event.EventCustom(n.LOCATE_WEAPON_ITEM_EVENT,!0);a.detail=this.node.position,this.node.dispatchEvent(a)}else this.scheduleOnce(function(){if(null==t.allcontent.getChildByName(h.default.weaponSelectRect.name)){t.saveEquip(!1);var e=t.lucknode.getChildByName("titletext");"Equipped"==e.getComponent(cc.Label).string&&(e.getComponent(cc.Label).string="Equip",e.y=0,e.getComponent(cc.Label).fontSize=30,t.lucknode.getComponent(cc.Sprite).spriteFrame=h.default.lockbg)}})},t.prototype.settingEquip=function(){c.default.soundsManager.playTapSound(),1==this.saveEquip(!0)?c.default.eventManager.dispatchEventWith(l.default.UPDATE_WEAPON_EQUIP_STATE,this.weaponinfo.weaponid):f.default.showToast("Equipment not yet purchased")},t.prototype.saveEquip=function(e){var t=i.default.instance.getData(i.default.KEY_USER_WEAPON_INFO),n=t[this.weaponinfo.weaponid];return void 0!=n&&(n.isequip=e,t[this.weaponinfo.weaponid]=n,i.default.instance.setData(i.default.KEY_USER_WEAPON_INFO,t),!0)},t.prototype.refreshUi=function(){var e=this,t=i.default.instance.getData(i.default.KEY_USER_WEAPON_INFO)[this.weaponinfo.weaponid];if(t&&void 0!=t){this.levelnode&&this.levelnode.destroy(),this.levelnode=cc.instantiate(h.default.buylayout),this.allcontent.addChild(this.levelnode),this.levelnode.opacity=0,this.levelnode.active=!0,this.attacklevel=this.levelnode.getChildByName("addattack").getChildByName("attacktext").getComponent(cc.Label),this.bulletlevel=this.levelnode.getChildByName("addbullet").getChildByName("bullettext").getComponent(cc.Label),this.lucknode&&this.lucknode.destroy(),this.lucknode=cc.instantiate(h.default.anniugao),this.allcontent.addChild(this.lucknode),this.lucknode.active=!0;var n=this.lucknode.getChildByName("titletext");n.y=0,n.getComponent(cc.Label).fontSize=30,n.getComponent(cc.Label).string="Equipped",this.lucknode.getComponent(cc.Sprite).spriteFrame=h.default.lockunbg,this.lucknode.on(cc.Node.EventType.TOUCH_END,this.buyWeapon,this),this.lucknode.getChildByName("count").opacity=0,this.lucknode.getChildByName("gold").opacity=0,this.refreshBulle(t.bulle),this.refreshWeapon(t.harm)}else this.lucknode&&this.lucknode.destroy(),this.lucknode=cc.instantiate(h.default.anniugao),this.allcontent.addChild(this.lucknode),this.lucknode.active=!0,this.lucknode.on(cc.Node.EventType.TOUCH_END,this.buyWeapon,this),this.luck=this.lucknode.getChildByName("count").getComponent(cc.Label),this.levelnode&&this.levelnode.destroy(),this.attack.string=r.default.instance.formatVlue(this.weaponinfo.harmlevelinfo[0].harm),this.bullet.string=this.weaponinfo.bulletlevelinfo[0].bulletcount+"",this.luck.string=r.default.instance.formatVlue(this.weaponinfo.cost),this.skincost=this.weaponinfo.cost;this.scheduleOnce(function(){e.isBulebg()})},t.prototype.refreshBulle=function(e){var t=s.default.instance.getBulleInfo(e,this.weaponinfo);this.bullet.string=t.bulle,i.default.Buffer[5]||(i.default.Buffer[5]=0),t.cost=r.default.instance.formatCoid(t.cost.value*(1-i.default.Buffer[5]/100),t.cost.unit);var n=r.default.instance.formatVlue(t.cost);this.bulletlevel.string=n,this.bullecost=t.cost},t.prototype.refreshWeapon=function(e){var t=s.default.instance.getHarmInfo(e,this.weaponinfo);this.attack.string=r.default.instance.formatVlue(t.harm),i.default.Buffer[5]||(i.default.Buffer[5]=0),t.cost=r.default.instance.formatCoid(t.cost.value*(1-i.default.Buffer[5]/100),t.cost.unit),this.attacklevel.string=r.default.instance.formatVlue(t.cost),this.harmcost=t.cost},t.prototype.saveSkinInfo=function(){var e=i.default.instance.getData(i.default.KEY_USER_WEAPON_INFO),t=e[this.weaponinfo.weaponid];return void 0==t&&((t=new i.UserWeaponInfo).id=this.weaponinfo.weaponid,t.harm=0,t.bulle=0,t.isequip=!0),e[this.weaponinfo.weaponid]=t,c.default.eventManager.dispatchEventWith(l.default.UPDATE_WEAPON_EQUIP_STATE,this.weaponinfo.weaponid),i.default.instance.setData(i.default.KEY_USER_WEAPON_INFO,e),this.refreshUi(),f.default.buriedPoint(14,this.weaponinfo.weaponid+""),!0},t.prototype.saveSkinHarm=function(){var e=s.default.instance.useCoin(this.harmcost);if(e.value<0)return c.default.soundsManager.playSound("sound/cuowu"),void this.onPlay();h.default.commonLevelUp.parent=this.allcontent.getChildByName("wuqidi"),h.default.commonLevelUp.getComponent(cc.ParticleSystem).resetSystem(),h.default.commonLevelUp.position=cc.v2(0,0),h.default.commonLevelUp.active=!0,this.scheduleOnce(function(){h.default.commonLevelUp.active=!1},.3),c.default.soundsManager.playSound("sound/goldlevel");var t=i.default.instance.getData(i.default.KEY_USER_WEAPON_INFO),n=t[this.weaponinfo.weaponid];void 0!=n&&(n.harm+=1),t[this.weaponinfo.weaponid]=n,i.default.instance.setData(i.default.KEY_USER_WEAPON_INFO,t),this.refreshWeapon(n.harm),u.default.instance.setData(u.default.KEY_USER_GOLD_NUM,e),this.endGUide(),f.default.buriedPoint(15,n.harm+"")},t.prototype.endGUide=function(){0==i.default.instance.getData(i.default.KEY_IS_NEW_USER)&&(c.default.eventManager.dispatchEventWith(p.default.GUIDE_CLOSE),c.default.eventManager.dispatchEventWith(l.default.START_SCROLL,1),this.addGuide(),f.default.buriedPoint(38))},t.prototype.addGuide=function(){var e=cc.instantiate(cc.find("Canvas").getComponent(g.default).guide);cc.find("Canvas").addChild(e),this.scheduleOnce(function(){e.getComponent(_.default).init("guide7","<color=#00ff00>You have become stronger, click to continue</c><br/><color=#ffffff>to challenge more difficult levels\uff01</c>",i.default.INTENSIFY_NODE.getComponent(y.default).bt1)})},t.prototype.saveSkinBulle=function(){var e=s.default.instance.useCoin(this.bullecost);if(e.value<0)return c.default.soundsManager.playSound("sound/cuowu"),void this.onPlay();h.default.commonLevelUp.parent=this.allcontent.getChildByName("wuqidi"),h.default.commonLevelUp.getComponent(cc.ParticleSystem).resetSystem(),h.default.commonLevelUp.position=cc.v2(0,0),h.default.commonLevelUp.active=!0,this.scheduleOnce(function(){h.default.commonLevelUp.active=!1},.4),c.default.soundsManager.playSound("sound/goldlevel");var t=i.default.instance.getData(i.default.KEY_USER_WEAPON_INFO),n=t[this.weaponinfo.weaponid];void 0!=n&&(n.bulle+=1),t[this.weaponinfo.weaponid]=n,i.default.instance.setData(i.default.KEY_USER_WEAPON_INFO,t),this.refreshBulle(n.bulle),u.default.instance.setData(u.default.KEY_USER_GOLD_NUM,e),this.endGUide()},t.prototype.buyWeapon=function(){var e=this.lucknode.getChildByName("titletext");if("Equip"!=e.getComponent(cc.Label).string)if("Equipped"!=e.getComponent(cc.Label).string){var t=s.default.instance.useCoin(this.skincost);if(t.value<0)return c.default.soundsManager.playSound("sound/cuowu"),void this.onPlay();c.default.soundsManager.playSound("sound/goldlevel"),this.saveSkinInfo(),u.default.instance.setData(u.default.KEY_USER_GOLD_NUM,t)}else f.default.showToast("Equipped");else this.settingEquip()},t.prototype.onPlay=function(){console.log(this.node.parent.name),f.default.loadRes("prefabs/goldnot",cc.Prefab,!0,function(e){var t=cc.instantiate(e);cc.find("Canvas").addChild(t)})},t.prototype.onDestroy=function(){c.default.eventManager.removeEventListener(l.default.UPDATE_WEAPON_EQUIP_STATE,this.onUpdateEquipState,this),c.default.eventManager.removeEventListener(d.default.DATA_CHANGE,this.onDataChange,this),c.default.eventManager.removeEventListener(m.default.WEAPONPRICEEVENT,this.refreshUi,this)},t.LOCATE_WEAPON_ITEM_EVENT="locateWeaponItemEvent",a([M(cc.Label)],t.prototype,"attack",void 0),a([M(cc.Label)],t.prototype,"bullet",void 0),a([M(cc.Sprite)],t.prototype,"head",void 0),a([M(cc.Node)],t.prototype,"iconluck",void 0),a([M(cc.Node)],t.prototype,"allcontent",void 0),a([M(cc.Label)],t.prototype,"txtWeaponName",void 0),t=n=a([b],t)}(cc.Component);n.default=w,cc._RF.pop()},{"../../../GameUtils":"GameUtils","../../../control/GameConfig":"GameConfig","../../../control/GameEventName":"GameEventName","../../../control/valuecount/MaxCount":"MaxCount","../../../gamecore/GameCoreEventNames":"GameCoreEventNames","../../../gamecore/managers/GameManager":"GameManager","../../../module/data/MainDataMgr":"MainDataMgr","../../../module/data/StageDataMgr":"StageDataMgr","../../guide/GuideEventName":"GuideEventName","../../guide/GuideNewControl":"GuideNewControl","../MainIntensify":"MainIntensify","../MainIntensifyMgr":"MainIntensifyMgr","../MainScene":"MainScene","./SkinItem":"SkinItem"}],XYJAPI:[function(e,t,n){"use strict";cc._RF.push(t,"a38d5Eiy5BKm5JdG9C4Evdc","XYJAPI"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../managers/GameManager"),a=e("../libs/md5"),i=e("./XYJEventNames"),r=e("../wechat/WXUser"),s=e("../base/GameValues"),c=e("../deer/DeerSDK"),l=e("../wechat/WXImage"),u=e("../wechat/WXData"),d=function(){function e(){}return Object.defineProperty(e,"baseURL",{get:function(){return e._baseURL},enumerable:!0,configurable:!0}),Object.defineProperty(e,"flg",{get:function(){return e._flg},enumerable:!0,configurable:!0}),Object.defineProperty(e,"userInfo",{get:function(){return e._userInfo},enumerable:!0,configurable:!0}),e.init=function(t){if(!e._initialized){e._initialized=!0,e._flg=t,s.default.isDebug,e._baseURL="https://api.yz061.com",console.log("----  \u5c0f\u5e7a\u9e21 API ----"),console.log("-  init   -"),console.log(e._baseURL);var n=s.default.getLocalData("XYJChannel");if(n&&"null"!=n&&"undefined"!=n&&(e.inviterChannel=n),"undefined"!=typeof wx){var o=wx.getLaunchOptionsSync();console.log("\u3010XYJAPI\u3011launchOptions",o);var a=o.query;a.openID&&(e.inviterOpenID=a.openID),a.userID&&(e.inviterUserID=a.userID),a.nickname&&(e.inviterNickname=decodeURIComponent(a.nickname)),a.time&&(e.inviterTime=parseInt(a.time),isNaN(e.inviterTime)&&(e.inviterTime=0)),e.gameStartTime=Math.floor((new Date).getTime()/1e3),a.action&&(e.inviterAction=a.action),a.channel&&"null"!=a.channel&&"undefined"!=a.channel&&(e.inviterChannel=a.channel,s.default.saveLocalData("XYJChannel",e.inviterChannel)),a.recordID&&(e.inviterGameRecordID=a.recordID)}e.enabled=!0,e.login()}},e.login=function(){r.default.onLogin(e.wxLoginHandler.bind(e)),r.default.login()},e.wxLoginHandler=function(t){e._code=t,console.log("----  \u5c0f\u5e7a\u9e21 API ----"),console.log("-  wxLoginHandler   -"),e.loginToPlatform()},e.loginToPlatform=function(){if(console.log("----  \u5c0f\u5e7a\u9e21 API ----"),console.log("-  loginToPlatform   -"),"undefined"!=typeof wx){var t={code:e._code,opId:e.inviterOpenID,channel:e.inviterChannel,flg:e._flg},n=u.default.fromAppID;n&&(t.appid=n),console.log("the data is",t),console.log("request Ball.Api.Auth.WechatLogin"),console.log("url is "+e._baseURL+"/auth"),wx.request({url:e._baseURL+"/auth",data:t,method:"POST",success:e.loginFeedbackCallback,fail:function(e){console.log("failed to call Ball.Api.Auth.WechatLogin"),console.log(e),o.default.eventManager.dispatchEventWith(i.default.EVENT_INIT_FAILED)}})}},e.loginFeedbackCallback=function(t){if(console.log("----  \u5c0f\u5e7a\u9e21 API ----"),console.log("-  loginFeedbackCallback   -"),console.log(t),t.data){try{e.userOpenID=t.data.result.openid,e.userToken=t.data.result.token,console.log("userOpenID="+e.userOpenID),console.log("userToken="+e.userToken),o.default.eventManager.dispatchEventWith(i.default.EVENT_USER_READY),e.sendFeedbackDaily(),e.bindingToPlatform()}catch(e){console.log("\u3010ERROR\u3011",e),o.default.eventManager.dispatchEventWith(i.default.EVENT_INIT_FAILED)}"undefined"!=typeof wx&&wx.onHide(function(){e.ad_reportShownNow()})}else console.log("loginFeedbackCallback \u6570\u636e\u9519\u8bef")},e.bindingToPlatform=function(){console.log("----  \u5c0f\u5e7a\u9e21 API ----"),console.log("-  bindingToPlatform   -"),r.default.offUserInfo(e.bindingToPlatform.bind(e)),r.default.encryptedData?(e.encryptedData=r.default.encryptedData,e.iv=r.default.iv,e._userInfo=r.default.userInfo,console.log("encryptedData="+e.encryptedData),console.log("iv="+e.iv),console.log("userInfo=",e._userInfo),wx.request({url:e._baseURL+"/binding",data:{flg:e._flg,token:e.userToken,enc:e.encryptedData,iv:e.iv},method:"POST",success:e.loginBindingCallback,fail:function(e){console.log("failed to call Ball.Api.Auth.Binding"),console.log(e),o.default.eventManager.dispatchEventWith(i.default.EVENT_INIT_FAILED)}})):r.default.onUserInfo(e.bindingToPlatform.bind(e))},e.getAffairs=function(t){void 0===t&&(t=null),e._affairs?t&&t(e._affairs.concat()):wx.request({url:e._baseURL+"/additional?flg="+e.flg,data:{},method:"GET",success:function(n){try{var o=n.data.result.affairs;e._affairs=o.concat(),t&&t(o)}catch(e){}},fail:function(e){}})},e.loginBindingCallback=function(t){try{e.userUnionID=t.data.data.unionId}catch(e){}o.default.eventManager.dispatchEventWith(i.default.EVENT_ALL_READY)},e.sendFeedbackDaily=function(){wx.request({url:e._baseURL+"/daily",data:{flg:e._flg,uid:e.userOpenID,channel:e.inviterChannel},method:"POST",success:function(e){},fail:function(e){}})},e.sendFeedbackShare=function(t){void 0===t&&(t=null),wx.request({url:e._baseURL+"/stat",data:{flg:e._flg,uid:e.userOpenID,channel:e.inviterChannel,loc:"share",shareType:t},method:"POST",success:function(e){},fail:function(e){}})},e.sendFeedbackVideo=function(){wx.request({url:e._baseURL+"/stat",data:{flg:e._flg,uid:e.userOpenID,channel:e.inviterChannel,loc:"video"},method:"POST",success:function(e){},fail:function(e){}})},Object.defineProperty(e,"enabled",{get:function(){return e._enabled},set:function(t){e._enabled!=t&&(e._enabled=t,e._enabled?(null==e._original_ad_getAdData&&(e._original_ad_getAdData=c.default.instance.ad_getAdData.bind(c.default.instance)),c.default.instance.ad_getAdData=e.ad_getAdData.bind(e)):c.default.instance.ad_getAdData=e._original_ad_getAdData,c.default.instance.trackProxyFun=e.track.bind(e))},enumerable:!0,configurable:!0}),e.disenable=function(){e._enabled&&(e._enabled=!1)},e.track=function(t,n){void 0===n&&(n=null);var o={flg:e.flg,uid:e.userOpenID};if(e.inviterChannel&&(o.channel=e.inviterChannel),t==c.DeerTrackAction.SHOW_REWARD_AD_SUC)o.loc="video";else{if(t!=c.DeerTrackAction.SHARE_IMG_SHOW)return;o.loc="share",n&&n.share_id&&(o.sid=n.share_id)}wx.request({url:"https://api.yz061.com/stat",data:o,method:"GET",success:function(e){},fail:function(e){}})},e.ad_getAdData=function(t,n,o,a){if(void 0===n&&(n=null),void 0===o&&(o=null),void 0===a&&(a=null),e.userOpenID)if(-1!=e.proxyAdTypes.indexOf(t)){var i=c.default.instance.ad_getAds(t,a);if(i)null!=n&&n(i);else{var r=e._adTypeCallbacks["ad_"+t];r||(r={success:[],fail:[],flag:[]},e._adTypeCallbacks["ad_"+t]=r),r.success.push(n),r.fail.push(o),r.flag.push(a),e._isRequestingAdData||(e._isRequestingAdData=!0,wx.request({url:"https://api.yz061.com/game/"+e.flg,method:"GET",success:e.ad_getAdData_success.bind(e),fail:e.ad_getAdData_fail.bind(e)}))}}else e._original_ad_getAdData(t,n,o,a);else o&&o(null)},e.ad_getAdData_success=function(t){e._isRequestingAdData=!1;try{var n=t.data;if(1!=n.status)return void e.ad_getAdData_fail(null);n.result.forEach(function(t){var n=t.location_name,o=t.location_flg,a=t.url;-1!=a.indexOf("?")?a+="&uid="+e.userOpenID:a+="?uid="+e.userOpenID,wx.request({url:a,success:function(a){var i=a.data;if(i&&i.result)if(2==t.matter_type){var r=i.result;r.forEach(function(e){e.share_info=e.share_title,delete e.share_title}),c.default.instance._shareData=r}else if(1==t.matter_type){var l=i.result;if(l&&l.length>0){for(var u=[],d=0;d<l.length;d++){var f=l[d],p=!0,h=new c.DeerAdVO;if(h.id=parseInt(f.ad_id),h.appID=f.ad_appid,h.name=f.ad_name,h.path=f.ad_path,h.desc=f.desc,h.icon=f.ad_img,h.previewImg=f.ad_qrimg,h.flag=o,h.ad_count=f.ad_count,h.ad_dot=f.ad_dot,h.navigate=e.ad_navigate.bind(h),h.reportShown=e.ad_reportShown.bind(h),h.__loc=t,h.img_256_129=f.ad_img,h.img_1000_840=f.ad_img,h.bannerImg=f.ad_img,void 0!=f.ad_device){var g=""+f.ad_device;"1"==g?h.device=c.DeerDeviceType.ANDROID:"2"==g&&(h.device=c.DeerDeviceType.IOS),(h.device!=c.DeerDeviceType.ANDROID||s.default.isAndroid)&&(h.device!=c.DeerDeviceType.IOS||s.default.isIOS)||(p=!1)}p&&u.push(h)}var _=void 0;-1!=n.indexOf("\u731c\u4f60\u559c\u6b22")?_=c.DeerAdType.RECOMMEND:-1!=n.indexOf("\u7206\u6b3e\u6e38\u620f")?_=c.DeerAdType.HOT:-1!=n.indexOf("banner")?_=c.DeerAdType.BANNER:"\u6b7b\u4ea1\u63a8\u8350"==n?_=c.DeerAdType.GAME_OVER:"\u62bd\u5c49"==n?_=c.DeerAdType.BOARD:-1!=n.indexOf("\u5927\u56fe")?_=c.DeerAdType.RICH:"\u5f39\u7a97"==n&&(_=c.DeerAdType.POP),_&&c.default.instance.ad_addAds(_,u);var y=e._adTypeCallbacks["ad_"+_];if(delete e._adTypeCallbacks["ad_"+_],y){var m=y.success,v=y.flag;for(d=0;d<m.length;d++){var b=v[d],M=c.default.instance.ad_getAds(_,b),w=m[d];w&&w(M)}}}}}})})}catch(e){}},e.ad_getAdData_fail=function(t){Object.keys(e._adTypeCallbacks).forEach(function(t){var n=e._adTypeCallbacks[t];if(n){var o=n.fail;o&&o.forEach(function(e){e&&e()})}}),e._isRequestingAdData=!1},e.ad_navigate=function(){var t=this,n=t.__loc.game_flg,o=""+t.id,a=t.__loc.location_id,i={gflg:n,uid:e.userOpenID,ad_id:o,location_id:a};e.inviterChannel&&(i.channel=e.inviterChannel),wx.request({url:"https://api.yz061.com/reportad",data:i,method:"GET",success:function(e){},fail:function(e){}});try{wx.navigateToMiniProgram({appId:t.appID,path:t.path,fail:function(e){t.previewImg&&l.default.previewImage([t.previewImg])},success:function(){i.status="cb",wx.request({url:"https://api.yz061.com/reportad",data:i,method:"GET"})}})}catch(e){console.log("########################",e)}},e.ad_reportShown=function(){void 0==this.__shownTimes&&(this.__shownTimes=0),this.__shownTimes++;this.__loc.game_flg;var t=""+this.id,n=this.__loc.location_id,o=t+"_"+n;e._ad_ShownData[o]||(e._ad_ShownData[o]={ad_id:t,location_id:n,num:0}),e._ad_ShownData[o].num++},e.ad_reportShownNow=function(){var t={gflg:e.flg,flg:e.flg,uid:e.userOpenID};t.data=Object.keys(e._ad_ShownData).map(function(t){return e._ad_ShownData[t]}),0!=t.data.length&&(e._ad_ShownData={},e.inviterChannel&&(t.channel=e.inviterChannel),wx.request({url:"https://api.yz061.com/exposure",data:t,method:"POST",success:function(e){},fail:function(e){}}))},e.createSign=function(t){var n=[];for(var o in t){var i=t[o];void 0!=i&&""!=i&&n.push(""+o)}n.sort();for(var r="",s=0;s<n.length;s++){var c=n[s];s>0&&(r+="&"),r+=c+"="+t[c]}return r+="&key="+e.flg,r=(r=a.md5(r)).toUpperCase()},e._flg=null,e.proxyAdTypes=[c.DeerAdType.BANNER,c.DeerAdType.RECOMMEND,c.DeerAdType.HOT,c.DeerAdType.BOARD,c.DeerAdType.GAME_OVER,c.DeerAdType.RICH],e.gameVersion=null,e.inviterOpenID=null,e.inviterUserID=null,e.inviterNickname=null,e.inviterTime=0,e.gameStartTime=0,e.inviterAction=null,e.inviterGameRecordID=null,e.inviterChannel=null,e.relayLimitedTime=30,e.userOpenID=null,e.userUnionID=null,e.userNickname=null,e.userToken=null,e.encryptedData=null,e.iv=null,e._userInfo=null,e._enabled=!1,e._original_ad_getAdData=null,e._isRequestingAdData=!1,e._adTypeCallbacks={},e._ad_ShownData={},e}();n.default=d,cc._RF.pop()},{"../base/GameValues":"GameValues","../deer/DeerSDK":"DeerSDK","../libs/md5":"md5","../managers/GameManager":"GameManager","../wechat/WXData":"WXData","../wechat/WXImage":"WXImage","../wechat/WXUser":"WXUser","./XYJEventNames":"XYJEventNames"}],XYJEventNames:[function(e,t,n){"use strict";cc._RF.push(t,"4dfd2UAvoVDWKw8AptodUR+","XYJEventNames"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.EVENT_USER_READY="xyj_userReady",e.EVENT_ALL_READY="xyj_allReady",e.EVENT_INIT_FAILED="xyj_initFailed",e}();n.default=o,cc._RF.pop()},{}],XYJMoreGameButton:[function(e,t,n){"use strict";cc._RF.push(t,"5fcb1YhOTJADJxplhnYTTcy","XYJMoreGameButton");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../managers/GameManager"),r=e("../wechat/WXUtils"),s=e("../wechat/WXImage"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wxAppID="wx269f9d2cb8130024",t.wxAppPath="",t.previewImage="",t}return o(t,e),t.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.tapHandler,this)},t.prototype.tapHandler=function(e){var t=this;this.node.opacity<10||(i.default.soundsManager.playTapSound(),r.default.navigateToMiniProgram(this.wxAppID,this.wxAppPath,null,null,function(e){t.wxAppPath&&s.default.previewImage([t.previewImage])}))},t.prototype.onDestroy=function(){},a([u({displayName:"\u5fae\u4fe1AppID"})],t.prototype,"wxAppID",void 0),a([u({displayName:"\u8df3\u8f6c\u9875\u9762"})],t.prototype,"wxAppPath",void 0),a([u({displayName:"\u9884\u89c8\u56fe"})],t.prototype,"previewImage",void 0),t=a([l],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../managers/GameManager":"GameManager","../wechat/WXImage":"WXImage","../wechat/WXUtils":"WXUtils"}],XyxAPI:[function(e,t,n){"use strict";cc._RF.push(t,"a22c0LGAe5Hxb+BrkLW6Ehq","XyxAPI"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./DeerSDK"),a=e("../base/GameValues");n.XYXAPIURL="https://fx.xyxapi.com/home/index.php";var i=function(){function e(){this._webid=""}return Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userInfo",{get:function(){return this._userInfo},set:function(e){this._userInfo=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indexData",{get:function(){return this._indexData},set:function(e){this._indexData=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gamelist",{get:function(){return this._gamelist},set:function(e){this._gamelist=e},enumerable:!0,configurable:!0}),e.prototype.getGamelist=function(e){for(var t in this.gamelist){var n=this.gamelist[t];if(n.appID==e)return n.id}return""},Object.defineProperty(e.prototype,"webid",{set:function(e){this._webid=e},enumerable:!0,configurable:!0}),e.prototype.send=function(e,t,i){if(void 0===e&&(e=1),void 0===t&&(t=null),void 0===i&&(i=null),"undefined"!=typeof wx)if(""!=this._webid){var r=n.XYXAPIURL+"?webid="+this._webid+"&",s="&version="+a.default.gameVersion,c="&openid="+o.default.instance.userVO.openID,l="&nickName="+o.default.instance.userVO.nickname,u="&avatarUrl="+o.default.instance.userVO.avatar,d="&gender=0";o.default.instance.wxUserInfo&&(d="&gender="+o.default.instance.wxUserInfo.gender);var f=wx.getLaunchOptionsSync(),p=void 0==f.query.scene?null:f.query.scene,h="&scene="+decodeURIComponent(p);o.default.instance.appID;switch(e){case 1:r=r+"act=userinfo"+l+u+d+h+c+s;break;case 2:r=r+"act=index"+c+s;break;case 3:r=r+"act=end&level="+t.level+"&id="+t.id+c+s;break;case 4:r=r+"act=game&id="+t.id+c+s;break;case 5:r=r+"act=cgame&id="+t.id+c+s;break;case 6:r=r+"act=gamelist"+c+s}wx.request({url:r,data:null,method:"GET",success:function(e){console.log("--XyxAPI-- success"),console.log("--XyxAPI--",e),i&&i(e)},fail:function(e){console.log("--XyxAPI-- fail"),console.log("--XyxAPI--",e)}})}else console.error("\u5fc5\u987b\u4f20webid")},e}();n.default=i,cc._RF.pop()},{"../base/GameValues":"GameValues","./DeerSDK":"DeerSDK"}],"ald-game-conf":[function(e,t,n){"use strict";cc._RF.push(t,"1ca85SUv7dI9YuKuVlmZh3R","ald-game-conf"),n.app_key="ffe8def4792b99796a2a3fe1af71236b",n.getLocation=!1,cc._RF.pop()},{}],"ald-game":[function(e,t,n){"use strict";cc._RF.push(t,"1deb92I05tJ+qDkfOWGvsCb","ald-game");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function t(e,t){h++,e.as=m,e.at=y,e.rq_c=h,e.ifo=c,e.ak=s.app_key,e.uu=l,e.v=i,e.st=Date.now(),e.ev=t,e.wsr=g,e.ufo=function(e){if(void 0===e||""===e)return"";var t={};for(var n in e)"rawData"!=n&&"errMsg"!=n&&(t[n]=e[n]);return t}(e.ufo),e.ec=p,wx.Queue.push(function(){return new Promise(function(t,n){wx.request({url:"https://"+r+".aldwx.com/d.html",data:e,header:{se:d||"",op:f||"",img:M||""},method:"GET",success:function(){t("")},fail:function(){t("")}})})})}function n(e){var t={};for(var n in e)t[n]=e[n];return t}function a(e){for(var t="",n=0;n<e.length;n++)e[n].length>t.length&&(t=e[n]);return t}if("undefined"!=typeof wx){wx.Queue=new function(){this.concurrency=5,this.queue=[],this.tasks=[],this.activeCount=0;var e=this;this.push=function(t){this.tasks.push(new Promise(function(n,o){var a=function(){e.activeCount++,t().then(function(e){n(e)}).then(function(){e.next()})};e.activeCount<e.concurrency?a():e.queue.push(a)}))},this.all=function(){return Promise.all(this.tasks)},this.next=function(){e.activeCount--,e.queue.length>0&&e.queue.shift()()}},wx.Queue.all();var i="1.0.0",r="glog",s=e("./ald-game-conf");""===s.app_key&&console.error("\u8bf7\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u586b\u5199\u60a8\u7684app_key"),s.app_key=s.app_key.replace(/\s/g,""),"undefined"!=typeof wx&&wx.request({url:"https://"+r+".aldwx.com/config/app.json",method:"GET",success:function(e){200===e.statusCode&&(e.data.version!=i&&console.warn("\u60a8\u7684SDK\u4e0d\u662f\u6700\u65b0\u7248\u672c\uff0c\u8bf7\u5c3d\u5feb\u5347\u7ea7\uff01"),e.data.warn&&console.warn(e.data.warn),e.data.error&&console.error(e.data.error))}});var c="",l=function(){var e="";try{e=wx.getStorageSync("aldstat_uuid"),wx.setStorageSync("ald_ifo",!0)}catch(t){e="uuid_getstoragesync"}if(e)c=!1;else{e=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()+e()+e()+e()+e()}(),c=!0;try{wx.setStorageSync("aldstat_uuid",e)}catch(e){wx.setStorageSync("aldstat_uuid","uuid_getstoragesync")}}return e}(),u={},d="",f="",p=0,h="",g=wx.getLaunchOptionsSync(),_=Date.now(),y=""+Date.now()+Math.floor(1e7*Math.random()),m=""+Date.now()+Math.floor(1e7*Math.random()),v=0,b="",M="",w=!0,E=["aldSendEvent","aldOnShareAppMessage","aldShareAppMessage","aldSendSession","aldSendOpenid"];Promise.all([new Promise(function(e,t){wx.getSetting({success:function(t){t.authSetting["scope.userInfo"]?wx.getUserInfo({success:function(t){M=a(t.userInfo.avatarUrl.split("/")),e(t)},fail:function(){e("")}}):e("")},fail:function(){e("")}})}),new Promise(function(e,t){wx.getNetworkType({success:function(t){e(t)},fail:function(){e("")}})}),new Promise(function(e,t){s.getLocation?wx.getLocation({success:function(t){e(t)},fail:function(){e("")}}):wx.getSetting({success:function(t){t.authSetting["scope.userLocation"]?(wx.getLocation({success:function(t){e(t)},fail:function(){e("")}}),e("")):e("")},fail:function(){e("")}})})]).then(function(e){""!==e[2]?(u.lat=e[2].latitude||"",u.lng=e[2].longitude||"",u.spd=e[2].speed||""):(u.lat="",u.lng="",u.spd=""),""!==e[1]?u.nt=e[1].networkType||"":u.nt="";var o=n(u);""!==e[0]&&(o.ufo=e[0],b=e[0]),t(o,"init")}),wx.onShow(function(e){h=0,g=e,v=Date.now(),w||(y=""+Date.now()+Math.floor(1e7*Math.random()),c=!1,wx.setStorageSync("ald_ifo",!1)),w=!1;var o=n(u),a=n(u);o.sm=v-_,e.query.ald_share_src&&e.shareTicket&&"1044"===e.scene?(a.tp="ald_share_click",new Promise(function(e,t){"1044"==g.scene?wx.getShareInfo({shareTicket:g.shareTicket,success:function(t){e(t)},fail:function(){e("")}}):e("")}).then(function(e){a.ct=e,t(a,"event")})):e.query.ald_share_src&&(a.tp="ald_share_click",a.ct="1",t(a,"event")),t(o,"show")}),wx.onHide(function(){var e=n(u);e.dr=Date.now()-v,""===b?wx.getSetting({success:function(n){n.authSetting["scope.userInfo"]?wx.getUserInfo({success:function(n){e.ufo=n,b=n,M=a(n.userInfo.avatarUrl.split("/")),t(e,"hide")}}):t(e,"hide")}}):t(e,"hide")}),wx.onError(function(e){var o=n(u);o.tp="ald_error_message",o.ct=e,p++,t(o,"event")});for(var S={aldSendEvent:function(e,a){var i=n(u);""!==e&&"string"==typeof e&&e.length<=255?(i.tp=e,"string"==typeof a&&a.length<=255?(i.ct=String(a),t(i,"event")):"object"==(void 0===a?"undefined":o(a))?(JSON.stringify(a).length>=255&&console.error("\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u53c2\u6570\u4e0d\u80fd\u8d85\u8fc7255\u4e2a\u5b57\u7b26"),i.ct=JSON.stringify(a),t(i,"event")):void 0===a||""===a?t(i,"event"):console.error("\u4e8b\u4ef6\u53c2\u6570\u5fc5\u987b\u4e3aString,Object\u7c7b\u578b,\u4e14\u53c2\u6570\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7255\u4e2a\u5b57\u7b26")):console.error("\u4e8b\u4ef6\u540d\u79f0\u5fc5\u987b\u4e3aString\u7c7b\u578b\u4e14\u4e0d\u80fd\u8d85\u8fc7255\u4e2a\u5b57\u7b26")},aldOnShareAppMessage:function(e){wx.updateShareMenu({withShareTicket:!0,complete:function(){wx.onShareAppMessage(function(){var o=e(),a="",i="";a=void 0!==o.success?o.success:"",i=void 0!==o.fail?o.fail:"";var r;r=void 0!==g.query.ald_share_src?void 0!==o.query?(g.query.ald_share_src.indexOf(l),o.query+"&ald_share_src="+g.query.ald_share_src+","+l):(g.query.ald_share_src.indexOf(l),"ald_share_src="+g.query.ald_share_src+","+l):void 0!==o.query?o.query+"&ald_share_src="+l:"ald_share_src="+l;var s=n(u);return o.query=r,s.ct=o,s.tp="ald_share_chain",t(s,"event"),o.success=function(e){s.tp="ald_share_status",t(s,"event"),""!==a&&a(e)},o.fail=function(e){s.tp="ald_share_fail",t(s,"event"),""!==i&&i(e)},o})}})},aldShareAppMessage:function(e){var o=e,a="",i="";a=void 0!==o.success?o.success:"",i=void 0!==o.fail?o.fail:"";var r;r=void 0!==g.query.ald_share_src?void 0!==o.query?(g.query.ald_share_src.indexOf(l),o.query+"&ald_share_src="+g.query.ald_share_src+","+l):(g.query.ald_share_src.indexOf(l),"ald_share_src="+g.query.ald_share_src+","+l):void 0!==o.query?o.query+"&ald_share_src="+l:"ald_share_src="+l,o.query=r;var s=n(u);s.ct=o,s.tp="ald_share_chain",t(s,"event"),o.success=function(e){s.tp="ald_share_status",t(s,"event"),""!==a&&a(e)},o.fail=function(e){s.tp="ald_share_fail",t(s,"event"),""!==i&&i(e)},wx.updateShareMenu({withShareTicket:!0,complete:function(){wx.shareAppMessage(o)}})},aldSendSession:function(e){if(""!==e&&e){var o=n(u);o.tp="session",o.ct="session",d=e,""===b?wx.getSetting({success:function(e){e.authSetting["scope.userInfo"]?wx.getUserInfo({success:function(e){o.ufo=e,t(o,"event")}}):t(o,"event")}}):(o.ufo=b,""!==b&&(o.gid=""),t(o,"event"))}else console.error("\u8bf7\u4f20\u5165\u4ece\u540e\u53f0\u83b7\u53d6\u7684session_key")},aldSendOpenid:function(e){if(""!==e&&e){f=e;var o=n(u);o.tp="openid",o.ct="openid",t(o,"event")}else console.error("openID\u4e0d\u80fd\u4e3a\u7a7a")}},O=0;O<E.length;O++)!function(e,t){Object.defineProperty(wx,e,{value:t,writable:!1,enumerable:!0,configurable:!0})}(E[O],S[E[O]]);try{var R=wx.getSystemInfoSync();u.br=R.brand||"",u.md=R.model,u.pr=R.pixelRatio,u.sw=R.screenWidth,u.sh=R.screenHeight,u.ww=R.windowWidth,u.wh=R.windowHeight,u.lang=R.language,u.wv=R.version,u.sv=R.system,u.wvv=R.platform,u.fs=R.fontSizeSetting,u.wsdk=R.SDKVersion,u.bh=R.benchmarkLevel||"",u.bt=R.battery||"",u.wf=R.wifiSignal||"",u.lng="",u.lat="",u.nt="",u.spd="",u.ufo=""}catch(e){}}}(),cc._RF.pop()},{"./ald-game-conf":"ald-game-conf"}],long:[function(e,t,n){"use strict";cc._RF.push(t,"f4c9aIKl1NFuoBcTXe5nFhk","long");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,a){"object"==(void 0===n?"undefined":o(n))&&"object"==(void 0===t?"undefined":o(t))?t.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==(void 0===n?"undefined":o(n))?n.Long=a():e.Long=a()}("undefined"!=typeof self?self:void 0,function(){return function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t){function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function o(e){return!0===(e&&e.__isLong__)}function a(e,t){var n,o,a;return t?(a=0<=(e>>>=0)&&e<256)&&(o=d[e])?o:(n=r(e,(0|e)<0?-1:0,!0),a&&(d[e]=n),n):(a=-128<=(e|=0)&&e<128)&&(o=u[e])?o:(n=r(e,e<0?-1:0,!1),a&&(u[e]=n),n)}function i(e,t){if(isNaN(e))return t?m:y;if(t){if(e<0)return m;if(e>=h)return E}else{if(e<=-g)return S;if(e+1>=g)return w}return e<0?i(-e,t).neg():r(e%p|0,e/p|0,t)}function r(e,t,o){return new n(e,t,o)}function s(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return y;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var o;if((o=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===o)return s(e.substring(1),t,n).neg();for(var a=i(f(n,8)),r=y,c=0;c<e.length;c+=8){var l=Math.min(8,e.length-c),u=parseInt(e.substring(c,c+l),n);if(l<8){var d=i(f(n,l));r=r.mul(d).add(i(u))}else r=(r=r.mul(a)).add(i(u))}return r.unsigned=t,r}function c(e,t){return"number"==typeof e?i(e,t):"string"==typeof e?s(e,t):r(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}e.exports=n;var l=null;try{l=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=o;var u={},d={};n.fromInt=a,n.fromNumber=i,n.fromBits=r;var f=Math.pow;n.fromString=s,n.fromValue=c;var p=4294967296,h=p*p,g=h/2,_=a(1<<24),y=a(0);n.ZERO=y;var m=a(0,!0);n.UZERO=m;var v=a(1);n.ONE=v;var b=a(1,!0);n.UONE=b;var M=a(-1);n.NEG_ONE=M;var w=r(-1,2147483647,!1);n.MAX_VALUE=w;var E=r(-1,-1,!0);n.MAX_UNSIGNED_VALUE=E;var S=r(0,-2147483648,!1);n.MIN_VALUE=S;var O=n.prototype;O.toInt=function(){return this.unsigned?this.low>>>0:this.low},O.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},O.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=i(e),n=this.div(t),o=n.mul(t).sub(this);return n.toString(e)+o.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=i(f(e,6),this.unsigned),r=this,s="";;){var c=r.div(a),l=(r.sub(c.mul(a)).toInt()>>>0).toString(e);if((r=c).isZero())return l+s;for(;l.length<6;)l="0"+l;s=""+l+s}},O.getHighBits=function(){return this.high},O.getHighBitsUnsigned=function(){return this.high>>>0},O.getLowBits=function(){return this.low},O.getLowBitsUnsigned=function(){return this.low>>>0},O.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},O.isZero=function(){return 0===this.high&&0===this.low},O.eqz=O.isZero,O.isNegative=function(){return!this.unsigned&&this.high<0},O.isPositive=function(){return this.unsigned||this.high>=0},O.isOdd=function(){return 1==(1&this.low)},O.isEven=function(){return 0==(1&this.low)},O.equals=function(e){return o(e)||(e=c(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},O.eq=O.equals,O.notEquals=function(e){return!this.eq(e)},O.neq=O.notEquals,O.ne=O.notEquals,O.lessThan=function(e){return this.comp(e)<0},O.lt=O.lessThan,O.lessThanOrEqual=function(e){return this.comp(e)<=0},O.lte=O.lessThanOrEqual,O.le=O.lessThanOrEqual,O.greaterThan=function(e){return this.comp(e)>0},O.gt=O.greaterThan,O.greaterThanOrEqual=function(e){return this.comp(e)>=0},O.gte=O.greaterThanOrEqual,O.ge=O.greaterThanOrEqual,O.compare=function(e){if(o(e)||(e=c(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},O.comp=O.compare,O.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(v)},O.neg=O.negate,O.add=function(e){o(e)||(e=c(e));var t=this.high>>>16,n=65535&this.high,a=this.low>>>16,i=65535&this.low,s=e.high>>>16,l=65535&e.high,u=e.low>>>16,d=0,f=0,p=0,h=0;return p+=(h+=i+(65535&e.low))>>>16,f+=(p+=a+u)>>>16,d+=(f+=n+l)>>>16,d+=t+s,r((p&=65535)<<16|(h&=65535),(d&=65535)<<16|(f&=65535),this.unsigned)},O.subtract=function(e){return o(e)||(e=c(e)),this.add(e.neg())},O.sub=O.subtract,O.multiply=function(e){if(this.isZero())return y;if(o(e)||(e=c(e)),l)return r(l.mul(this.low,this.high,e.low,e.high),l.get_high(),this.unsigned);if(e.isZero())return y;if(this.eq(S))return e.isOdd()?S:y;if(e.eq(S))return this.isOdd()?S:y;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(_)&&e.lt(_))return i(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,n=65535&this.high,a=this.low>>>16,s=65535&this.low,u=e.high>>>16,d=65535&e.high,f=e.low>>>16,p=65535&e.low,h=0,g=0,m=0,v=0;return m+=(v+=s*p)>>>16,g+=(m+=a*p)>>>16,m&=65535,g+=(m+=s*f)>>>16,h+=(g+=n*p)>>>16,g&=65535,h+=(g+=a*f)>>>16,g&=65535,h+=(g+=s*d)>>>16,h+=t*p+n*f+a*d+s*u,r((m&=65535)<<16|(v&=65535),(h&=65535)<<16|(g&=65535),this.unsigned)},O.mul=O.multiply,O.divide=function(e){if(o(e)||(e=c(e)),e.isZero())throw Error("division by zero");if(l)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?r((this.unsigned?l.div_u:l.div_s)(this.low,this.high,e.low,e.high),l.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?m:y;var t,n,a;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return m;if(e.gt(this.shru(1)))return b;a=m}else{if(this.eq(S))return e.eq(v)||e.eq(M)?S:e.eq(S)?v:(t=this.shr(1).div(e).shl(1)).eq(y)?e.isNegative()?v:M:(n=this.sub(e.mul(t)),a=t.add(n.div(e)));if(e.eq(S))return this.unsigned?m:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=y}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(t)/Math.LN2),u=s<=48?1:f(2,s-48),d=i(t),p=d.mul(e);p.isNegative()||p.gt(n);)p=(d=i(t-=u,this.unsigned)).mul(e);d.isZero()&&(d=v),a=a.add(d),n=n.sub(p)}return a},O.div=O.divide,O.modulo=function(e){return o(e)||(e=c(e)),l?r((this.unsigned?l.rem_u:l.rem_s)(this.low,this.high,e.low,e.high),l.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},O.mod=O.modulo,O.rem=O.modulo,O.not=function(){return r(~this.low,~this.high,this.unsigned)},O.and=function(e){return o(e)||(e=c(e)),r(this.low&e.low,this.high&e.high,this.unsigned)},O.or=function(e){return o(e)||(e=c(e)),r(this.low|e.low,this.high|e.high,this.unsigned)},O.xor=function(e){return o(e)||(e=c(e)),r(this.low^e.low,this.high^e.high,this.unsigned)},O.shiftLeft=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?r(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):r(0,this.low<<e-32,this.unsigned)},O.shl=O.shiftLeft,O.shiftRight=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?r(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):r(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},O.shr=O.shiftRight,O.shiftRightUnsigned=function(e){if(o(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?r(this.low>>>e|t<<32-e,t>>>e,this.unsigned):r(32===e?t:t>>>e-32,0,this.unsigned)},O.shru=O.shiftRightUnsigned,O.shr_u=O.shiftRightUnsigned,O.toSigned=function(){return this.unsigned?r(this.low,this.high,!1):this},O.toUnsigned=function(){return this.unsigned?this:r(this.low,this.high,!0)},O.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},O.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},O.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,o){return o?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}}])}),cc._RF.pop()},{}],md5:[function(e,t,n){"use strict";cc._RF.push(t,"0564fYJ+pdCQ4bVz/tt7vZN","md5"),Object.defineProperty(n,"__esModule",{value:!0}),n.md5=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,o,a,i,r;return a=2147483648&e,i=2147483648&t,r=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(o=1073741824&t)?2147483648^r^a^i:n|o?1073741824&r?3221225472^r^a^i:1073741824^r^a^i:r^a^i}function o(e,o,a,i,r,s,c){return n(t(e=n(e,n(n(function(e,t,n){return e&t|~e&n}(o,a,i),r),c)),s),o)}function a(e,o,a,i,r,s,c){return n(t(e=n(e,n(n(function(e,t,n){return e&n|t&~n}(o,a,i),r),c)),s),o)}function i(e,o,a,i,r,s,c){return n(t(e=n(e,n(n(function(e,t,n){return e^t^n}(o,a,i),r),c)),s),o)}function r(e,o,a,i,r,s,c){return n(t(e=n(e,n(n(function(e,t,n){return t^(e|~n)}(o,a,i),r),c)),s),o)}function s(e){var t,n="",o="";for(t=0;t<=3;t++)n+=(o="0"+(e>>>8*t&255).toString(16)).substr(o.length-2,2);return n}var c,l,u,d,f,p,h,g,_,y=Array();for(y=function(e){for(var t,n=e.length,o=n+8,a=16*((o-o%64)/64+1),i=Array(a-1),r=0,s=0;s<n;)r=s%4*8,i[t=(s-s%4)/4]=i[t]|e.charCodeAt(s)<<r,s++;return r=s%4*8,i[t=(s-s%4)/4]=i[t]|128<<r,i[a-2]=n<<3,i[a-1]=n>>>29,i}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t}(e)),p=1732584193,h=4023233417,g=2562383102,_=271733878,c=0;c<y.length;c+=16)l=p,u=h,d=g,f=_,h=r(h=r(h=r(h=r(h=i(h=i(h=i(h=i(h=a(h=a(h=a(h=a(h=o(h=o(h=o(h=o(h,g=o(g,_=o(_,p=o(p,h,g,_,y[c+0],7,3614090360),h,g,y[c+1],12,3905402710),p,h,y[c+2],17,606105819),_,p,y[c+3],22,3250441966),g=o(g,_=o(_,p=o(p,h,g,_,y[c+4],7,4118548399),h,g,y[c+5],12,1200080426),p,h,y[c+6],17,2821735955),_,p,y[c+7],22,4249261313),g=o(g,_=o(_,p=o(p,h,g,_,y[c+8],7,1770035416),h,g,y[c+9],12,2336552879),p,h,y[c+10],17,4294925233),_,p,y[c+11],22,2304563134),g=o(g,_=o(_,p=o(p,h,g,_,y[c+12],7,1804603682),h,g,y[c+13],12,4254626195),p,h,y[c+14],17,2792965006),_,p,y[c+15],22,1236535329),g=a(g,_=a(_,p=a(p,h,g,_,y[c+1],5,4129170786),h,g,y[c+6],9,3225465664),p,h,y[c+11],14,643717713),_,p,y[c+0],20,3921069994),g=a(g,_=a(_,p=a(p,h,g,_,y[c+5],5,3593408605),h,g,y[c+10],9,38016083),p,h,y[c+15],14,3634488961),_,p,y[c+4],20,3889429448),g=a(g,_=a(_,p=a(p,h,g,_,y[c+9],5,568446438),h,g,y[c+14],9,3275163606),p,h,y[c+3],14,4107603335),_,p,y[c+8],20,1163531501),g=a(g,_=a(_,p=a(p,h,g,_,y[c+13],5,2850285829),h,g,y[c+2],9,4243563512),p,h,y[c+7],14,1735328473),_,p,y[c+12],20,2368359562),g=i(g,_=i(_,p=i(p,h,g,_,y[c+5],4,4294588738),h,g,y[c+8],11,2272392833),p,h,y[c+11],16,1839030562),_,p,y[c+14],23,4259657740),g=i(g,_=i(_,p=i(p,h,g,_,y[c+1],4,2763975236),h,g,y[c+4],11,1272893353),p,h,y[c+7],16,4139469664),_,p,y[c+10],23,3200236656),g=i(g,_=i(_,p=i(p,h,g,_,y[c+13],4,681279174),h,g,y[c+0],11,3936430074),p,h,y[c+3],16,3572445317),_,p,y[c+6],23,76029189),g=i(g,_=i(_,p=i(p,h,g,_,y[c+9],4,3654602809),h,g,y[c+12],11,3873151461),p,h,y[c+15],16,530742520),_,p,y[c+2],23,3299628645),g=r(g,_=r(_,p=r(p,h,g,_,y[c+0],6,4096336452),h,g,y[c+7],10,1126891415),p,h,y[c+14],15,2878612391),_,p,y[c+5],21,4237533241),g=r(g,_=r(_,p=r(p,h,g,_,y[c+12],6,1700485571),h,g,y[c+3],10,2399980690),p,h,y[c+10],15,4293915773),_,p,y[c+1],21,2240044497),g=r(g,_=r(_,p=r(p,h,g,_,y[c+8],6,1873313359),h,g,y[c+15],10,4264355552),p,h,y[c+6],15,2734768916),_,p,y[c+13],21,1309151649),g=r(g,_=r(_,p=r(p,h,g,_,y[c+4],6,4149444226),h,g,y[c+11],10,3174756917),p,h,y[c+2],15,718787259),_,p,y[c+9],21,3951481745),p=n(p,l),h=n(h,u),g=n(g,d),_=n(_,f);return(s(p)+s(h)+s(g)+s(_)).toLowerCase()},cc._RF.pop()},{}],minimal:[function(require,module,exports){(function(global){"use strict";cc._RF.push(module,"52885MjfK1Jo6ipwkaEtsza","minimal");var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(b){var r,u,t,n;r={1:[function(e,t){t.exports=function(e,t){for(var n=Array(arguments.length-1),o=0,a=2,i=!0;a<arguments.length;)n[o++]=arguments[a++];return new Promise(function(a,r){n[o]=function(e){if(i)if(i=!1,e)r(e);else{for(var t=Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];a.apply(null,t)}};try{e.apply(t||null,n)}catch(e){i&&(i=!1,r(e))}})}},{}],2:[function(e,t,n){var o=n;o.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;1<--t%4&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var a=Array(64),i=Array(123),r=0;r<64;)i[a[r]=r<26?r+65:r<52?r+71:r<62?r-4:r-59|43]=r++;o.encode=function(e,t,n){for(var o,i=null,r=[],s=0,c=0;t<n;){var l=e[t++];switch(c){case 0:r[s++]=a[l>>2],o=(3&l)<<4,c=1;break;case 1:r[s++]=a[o|l>>4],o=(15&l)<<2,c=2;break;case 2:r[s++]=a[o|l>>6],r[s++]=a[63&l],c=0}8191<s&&((i||(i=[])).push(String.fromCharCode.apply(String,r)),s=0)}return c&&(r[s++]=a[o],r[s++]=61,1===c&&(r[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,r.slice(0,s))),i.join("")):String.fromCharCode.apply(String,r.slice(0,s))};var s="invalid encoding";o.decode=function(e,t,n){for(var o,a=n,r=0,c=0;c<e.length;){var l=e.charCodeAt(c++);if(61===l&&1<r)break;if((l=i[l])===b)throw Error(s);switch(r){case 0:o=l,r=1;break;case 1:t[n++]=o<<2|(48&l)>>4,o=l,r=2;break;case 2:t[n++]=(15&o)<<4|(60&l)>>2,o=l,r=3;break;case 3:t[n++]=(3&o)<<6|l,r=0}}if(1===r)throw Error(s);return n-a},o.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],3:[function(e,t){function n(){this.t={}}(t.exports=n).prototype.on=function(e,t,n){return(this.t[e]||(this.t[e]=[])).push({fn:t,ctx:n||this}),this},n.prototype.off=function(e,t){if(e===b)this.t={};else if(t===b)this.t[e]=[];else for(var n=this.t[e],o=0;o<n.length;)n[o].fn===t?n.splice(o,1):++o;return this},n.prototype.emit=function(e){var t=this.t[e];if(t){for(var n=[],o=1;o<arguments.length;)n.push(arguments[o++]);for(o=0;o<t.length;)t[o].fn.apply(t[o++].ctx,n)}return this}},{}],4:[function(e,t){function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),o=128===n[3];function a(e,o,a){t[0]=e,o[a]=n[0],o[a+1]=n[1],o[a+2]=n[2],o[a+3]=n[3]}function i(e,o,a){t[0]=e,o[a]=n[3],o[a+1]=n[2],o[a+2]=n[1],o[a+3]=n[0]}function r(e,o){return n[0]=e[o],n[1]=e[o+1],n[2]=e[o+2],n[3]=e[o+3],t[0]}function s(e,o){return n[3]=e[o],n[2]=e[o+1],n[1]=e[o+2],n[0]=e[o+3],t[0]}e.writeFloatLE=o?a:i,e.writeFloatBE=o?i:a,e.readFloatLE=o?r:s,e.readFloatBE=o?s:r}():function(){function t(e,t,n,o){var a=t<0?1:0;if(a&&(t=-t),0===t)e(0<1/t?0:2147483648,n,o);else if(isNaN(t))e(2143289344,n,o);else if(3.4028234663852886e38<t)e((a<<31|2139095040)>>>0,n,o);else if(t<1.1754943508222875e-38)e((a<<31|Math.round(t/1.401298464324817e-45))>>>0,n,o);else{var i=Math.floor(Math.log(t)/Math.LN2);e((a<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,n,o)}}function n(e,t,n){var o=e(t,n),a=2*(o>>31)+1,i=o>>>23&255,r=8388607&o;return 255===i?r?NaN:a*(1/0):0===i?1.401298464324817e-45*a*r:a*Math.pow(2,i-150)*(r+8388608)}e.writeFloatLE=t.bind(null,o),e.writeFloatBE=t.bind(null,a),e.readFloatLE=n.bind(null,i),e.readFloatBE=n.bind(null,r)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),o=128===n[7];function a(e,o,a){t[0]=e,o[a]=n[0],o[a+1]=n[1],o[a+2]=n[2],o[a+3]=n[3],o[a+4]=n[4],o[a+5]=n[5],o[a+6]=n[6],o[a+7]=n[7]}function i(e,o,a){t[0]=e,o[a]=n[7],o[a+1]=n[6],o[a+2]=n[5],o[a+3]=n[4],o[a+4]=n[3],o[a+5]=n[2],o[a+6]=n[1],o[a+7]=n[0]}function r(e,o){return n[0]=e[o],n[1]=e[o+1],n[2]=e[o+2],n[3]=e[o+3],n[4]=e[o+4],n[5]=e[o+5],n[6]=e[o+6],n[7]=e[o+7],t[0]}function s(e,o){return n[7]=e[o],n[6]=e[o+1],n[5]=e[o+2],n[4]=e[o+3],n[3]=e[o+4],n[2]=e[o+5],n[1]=e[o+6],n[0]=e[o+7],t[0]}e.writeDoubleLE=o?a:i,e.writeDoubleBE=o?i:a,e.readDoubleLE=o?r:s,e.readDoubleBE=o?s:r}():function(){function t(e,t,n,o,a,i){var r=o<0?1:0;if(r&&(o=-o),0===o)e(0,a,i+t),e(0<1/o?0:2147483648,a,i+n);else if(isNaN(o))e(0,a,i+t),e(2146959360,a,i+n);else if(1.7976931348623157e308<o)e(0,a,i+t),e((r<<31|2146435072)>>>0,a,i+n);else{var s;if(o<2.2250738585072014e-308)e((s=o/5e-324)>>>0,a,i+t),e((r<<31|s/4294967296)>>>0,a,i+n);else{var c=Math.floor(Math.log(o)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=o*Math.pow(2,-c))>>>0,a,i+t),e((r<<31|c+1023<<20|1048576*s&1048575)>>>0,a,i+n)}}}function n(e,t,n,o,a){var i=e(o,a+t),r=e(o,a+n),s=2*(r>>31)+1,c=r>>>20&2047,l=4294967296*(1048575&r)+i;return 2047===c?l?NaN:s*(1/0):0===c?5e-324*s*l:s*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,o,0,4),e.writeDoubleBE=t.bind(null,a,4,0),e.readDoubleLE=n.bind(null,i,0,4),e.readDoubleBE=n.bind(null,r,4,0)}(),e}function o(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function a(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function r(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=n(n)},{}],5:[function(t,n,i){function r(t){try{var n=eval("require")(t);if(n&&(n.length||Object.keys(n).length))return n}catch(t){}return null}n.exports=r},{}],6:[function(e,t){t.exports=function(e,t,n){var o=n||8192,a=o>>>1,i=null,r=o;return function(n){if(n<1||a<n)return e(n);o<r+n&&(i=e(o),r=0);var s=t.call(i,r,r+=n);return 7&r&&(r=1+(7|r)),s}}},{}],7:[function(e,t,n){var o=n;o.length=function(e){for(var t=0,n=0,o=0;o<e.length;++o)(n=e.charCodeAt(o))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(o+1))?(++o,t+=4):t+=3;return t},o.read=function(e,t,n){if(n-t<1)return"";for(var o,a=null,i=[],r=0;t<n;)(o=e[t++])<128?i[r++]=o:191<o&&o<224?i[r++]=(31&o)<<6|63&e[t++]:239<o&&o<365?(o=((7&o)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[r++]=55296+(o>>10),i[r++]=56320+(1023&o)):i[r++]=(15&o)<<12|(63&e[t++])<<6|63&e[t++],8191<r&&((a||(a=[])).push(String.fromCharCode.apply(String,i)),r=0);return a?(r&&a.push(String.fromCharCode.apply(String,i.slice(0,r))),a.join("")):String.fromCharCode.apply(String,i.slice(0,r))},o.write=function(e,t,n){for(var o,a,i=n,r=0;r<e.length;++r)(o=e.charCodeAt(r))<128?t[n++]=o:(o<2048?t[n++]=o>>6|192:(55296==(64512&o)&&56320==(64512&(a=e.charCodeAt(r+1)))?(o=65536+((1023&o)<<10)+(1023&a),++r,t[n++]=o>>18|240,t[n++]=o>>12&63|128):t[n++]=o>>12|224,t[n++]=o>>6&63|128),t[n++]=63&o|128);return n-i}},{}],8:[function(e,t,n){var o=n;function a(){o.Reader.n(o.BufferReader),o.util.n()}o.build="minimal",o.Writer=e(16),o.BufferWriter=e(17),o.Reader=e(9),o.BufferReader=e(10),o.util=e(15),o.rpc=e(12),o.roots=e(11),o.configure=a,o.Writer.n(o.BufferWriter),a()},{10:10,11:11,12:12,15:15,16:16,17:17,9:9}],9:[function(e,t){t.exports=s;var n,o=e(15),a=o.LongBits,i=o.utf8;function r(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function s(e){this.buf=e,this.pos=0,this.len=e.length}var c,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new s(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new s(e);throw Error("illegal buffer")};function u(){var e=new a(0,0),t=0;if(!(4<this.len-this.pos)){for(;t<3;++t){if(this.pos>=this.len)throw r(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,4<this.len-this.pos){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw r(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw r(this,8);return new a(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}s.create=o.Buffer?function(e){return(s.create=function(e){return o.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l,s.prototype.i=o.Array.prototype.subarray||o.Array.prototype.slice,s.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,r(this,10);return c}),s.prototype.int32=function(){return 0|this.uint32()},s.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},s.prototype.bool=function(){return 0!==this.uint32()},s.prototype.fixed32=function(){if(this.pos+4>this.len)throw r(this,4);return d(this.buf,this.pos+=4)},s.prototype.sfixed32=function(){if(this.pos+4>this.len)throw r(this,4);return 0|d(this.buf,this.pos+=4)},s.prototype.float=function(){if(this.pos+4>this.len)throw r(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},s.prototype.double=function(){if(this.pos+8>this.len)throw r(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},s.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw r(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this.i.call(this.buf,t,n)},s.prototype.string=function(){var e=this.bytes();return i.read(e,0,e.length)},s.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw r(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw r(this)}while(128&this.buf[this.pos++]);return this},s.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},s.n=function(e){n=e;var t=o.Long?"toLong":"toNumber";o.merge(s.prototype,{int64:function(){return u.call(this)[t](!1)},uint64:function(){return u.call(this)[t](!0)},sint64:function(){return u.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},{15:15}],10:[function(e,t){t.exports=a;var n=e(9);(a.prototype=Object.create(n.prototype)).constructor=a;var o=e(15);function a(e){n.call(this,e)}o.Buffer&&(a.prototype.i=o.Buffer.prototype.slice),a.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},{15:15,9:9}],11:[function(e,t){t.exports={}},{}],12:[function(e,t,n){n.Service=e(13)},{13:13}],13:[function(e,t){t.exports=o;var n=e(15);function o(e,t,o){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!o}((o.prototype=Object.create(n.EventEmitter.prototype)).constructor=o).prototype.rpcCall=function e(t,o,a,i,r){if(!i)throw TypeError("request must be specified");var s=this;if(!r)return n.asPromise(e,s,t,o,a,i);if(!s.rpcImpl)return setTimeout(function(){r(Error("already ended"))},0),b;try{return s.rpcImpl(t,o[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(e,n){if(e)return s.emit("error",e,t),r(e);if(null===n)return s.end(!0),b;if(!(n instanceof a))try{n=a[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),r(e)}return s.emit("data",n,t),r(null,n)})}catch(e){return s.emit("error",e,t),setTimeout(function(){r(e)},0),b}},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{15:15}],14:[function(e,t){t.exports=o;var n=e(15);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var a=o.zero=new o(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var i=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return a;var t=e<0;t&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return t&&(i=~i>>>0,n=~n>>>0,4294967295<++n&&(n=0,4294967295<++i&&(i=0))),new o(n,i)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(n.isString(e)){if(!n.Long)return o.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):a},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var r=String.prototype.charCodeAt;o.fromHash=function(e){return e===i?a:new o((r.call(e,0)|r.call(e,1)<<8|r.call(e,2)<<16|r.call(e,3)<<24)>>>0,(r.call(e,4)|r.call(e,5)<<8|r.call(e,6)<<16|r.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},{15:15}],15:[function(e,t,n){var o=n;function a(e,t,n){for(var o=Object.keys(t),a=0;a<o.length;++a)e[o[a]]!==b&&n||(e[o[a]]=t[o[a]]);return e}function i(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),n&&a(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}o.asPromise=e(1),o.base64=e(2),o.EventEmitter=e(3),o.float=e(4),o.inquire=e(5),o.utf8=e(7),o.pool=e(6),o.LongBits=e(14),o.global="undefined"!=typeof window&&window||void 0!==global&&global||"undefined"!=typeof self&&self||this,o.emptyArray=Object.freeze?Object.freeze([]):[],o.emptyObject=Object.freeze?Object.freeze({}):{},o.isNode=!!(o.global.process&&o.global.process.versions&&o.global.process.versions.node),o.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},o.isString=function(e){return"string"==typeof e||e instanceof String},o.isObject=function(e){return e&&"object"==(void 0===e?"undefined":_typeof(e))},o.isset=o.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=(void 0===n?"undefined":_typeof(n))||0<(Array.isArray(n)?n.length:Object.keys(n).length))},o.Buffer=function(){try{var e=o.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),o.r=null,o.u=null,o.newBuffer=function(e){return"number"==typeof e?o.Buffer?o.u(e):new o.Array(e):o.Buffer?o.r(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},o.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,o.Long=o.global.dcodeIO&&o.global.dcodeIO.Long||o.global.Long||o.inquire("long"),o.key2Re=/^true|false|0|1$/,o.key32Re=/^-?(?:0|[1-9][0-9]*)$/,o.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,o.longToHash=function(e){return e?o.LongBits.from(e).toHash():o.LongBits.zeroHash},o.longFromHash=function(e,t){var n=o.LongBits.fromHash(e);return o.Long?o.Long.fromBits(n.lo,n.hi,t):n.toNumber(!!t)},o.merge=a,o.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},o.newError=i,o.ProtocolError=i("ProtocolError"),o.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;-1<n;--n)if(1===t[e[n]]&&this[e[n]]!==b&&null!==this[e[n]])return e[n]}},o.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},o.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},o.n=function(){var e=o.Buffer;e?(o.r=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},o.u=e.allocUnsafe||function(t){return new e(t)}):o.r=o.u=null}},{1:1,14:14,2:2,3:3,4:4,5:5,6:6,7:7}],16:[function(e,t){t.exports=l;var n,o=e(15),a=o.LongBits,i=o.base64,r=o.utf8;function s(e,t,n){this.fn=e,this.len=t,this.next=b,this.val=n}function c(){}function l(){this.len=0,this.head=new s(c,0,0),this.tail=this.head,this.states=null}function u(e,t,n){t[n]=255&e}function d(e,t){this.len=e,this.next=b,this.val=t}function f(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;127<e.lo;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function p(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}l.create=o.Buffer?function(){return(l.create=function(){return new n})()}:function(){return new l},l.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(l.alloc=o.pool(l.alloc,o.Array.prototype.subarray)),l.prototype.e=function(e,t,n){return this.tail=this.tail.next=new s(e,t,n),this.len+=t,this},(d.prototype=Object.create(s.prototype)).fn=function(e,t,n){for(;127<e;)t[n++]=127&e|128,e>>>=7;t[n]=e},l.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new d((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},l.prototype.int32=function(e){return e<0?this.e(f,10,a.fromNumber(e)):this.uint32(e)},l.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},l.prototype.int64=l.prototype.uint64=function(e){var t=a.from(e);return this.e(f,t.length(),t)},l.prototype.sint64=function(e){var t=a.from(e).zzEncode();return this.e(f,t.length(),t)},l.prototype.bool=function(e){return this.e(u,1,e?1:0)},l.prototype.sfixed32=l.prototype.fixed32=function(e){return this.e(p,4,e>>>0)},l.prototype.sfixed64=l.prototype.fixed64=function(e){var t=a.from(e);return this.e(p,4,t.lo).e(p,4,t.hi)},l.prototype.float=function(e){return this.e(o.float.writeFloatLE,4,e)},l.prototype.double=function(e){return this.e(o.float.writeDoubleLE,8,e)};var h=o.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var o=0;o<e.length;++o)t[n+o]=e[o]};l.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this.e(u,1,0);if(o.isString(e)){var n=l.alloc(t=i.length(e));i.decode(e,n,0),e=n}return this.uint32(t).e(h,t,e)},l.prototype.string=function(e){var t=r.length(e);return t?this.uint32(t).e(r.write,t,e):this.e(u,1,0)},l.prototype.fork=function(){return this.states=new function(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}(this),this.head=this.tail=new s(c,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new s(c,0,0),this.len=0),this},l.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},l.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},l.n=function(e){n=e}},{15:15}],17:[function(e,t){t.exports=i;var n=e(16);(i.prototype=Object.create(n.prototype)).constructor=i;var o=e(15),a=o.Buffer;function i(){n.call(this)}i.alloc=function(e){return(i.alloc=o.u)(e)};var r=a&&a.prototype instanceof Uint8Array&&"set"===a.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var o=0;o<e.length;)t[n++]=e[o++]};function s(e,t,n){e.length<40?o.utf8.write(e,t,n):t.utf8Write(e,n)}i.prototype.bytes=function(e){o.isString(e)&&(e=o.r(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this.e(r,t,e),this},i.prototype.string=function(e){var t=a.byteLength(e);return this.uint32(t),t&&this.e(s,t,e),this}},{15:15,16:16}]},u={},t=[8],n=function e(t){var n=u[t];return n||r[t][0].call(n=u[t]={exports:{}},e,n,n.exports),n.exports}(t[0]),n.util.global.protobuf=n,"function"==typeof define&&define.amd&&define(["long"],function(e){return e&&e.isLong&&(n.util.Long=e,n.configure()),n}),"object"==(void 0===module?"undefined":_typeof(module))&&module&&module.exports&&(module.exports=n)}(),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],pbcus:[function(e,t,n){"use strict";cc._RF.push(t,"72494mvz2xOyasb4z2hsEAS","pbcus"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.PetsAttackParameterMeta=n.ImageUpgradeMeta=n.VipMeta=n.OfflineRevenueMeta=n.SignInMeta=n.HurtUpgradeMeta=n.RoleUpgradeMeta=n.RoleUnlockMeta=n.LevelResetMeta=n.LevelMeta=n.GameMeta=n.CoinRewardMeta=n.BulletUpgradeMeta=n.BaseUpgradeMeta=n.BaseUnlockMeta=n.ArmsUpgradeParameterMeta=n.ArmsUnlockMeta=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./protobufjs/minimal"));var i=a.Reader,r=a.Writer,s=a.util,c=a.roots.default||(a.roots.default={});n.ArmsUnlockMeta=c.ArmsUnlockMeta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.name="",e.prototype.type=0,e.prototype.price=0,e.prototype.priceUnit=0,e.prototype.baseHurt=0,e.prototype.hurtUnit=0,e.prototype.updateHurt=0,e.prototype.updateHurtUnit=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),t.uint32(8).int32(e.id),t.uint32(18).string(e.name),t.uint32(24).int32(e.type),t.uint32(32).int32(e.price),t.uint32(40).int32(e.priceUnit),t.uint32(48).int32(e.baseHurt),t.uint32(56).int32(e.hurtUnit),t.uint32(64).int32(e.updateHurt),t.uint32(72).int32(e.updateHurtUnit),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.ArmsUnlockMeta;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:o.id=e.int32();break;case 2:o.name=e.string();break;case 3:o.type=e.int32();break;case 4:o.price=e.int32();break;case 5:o.priceUnit=e.int32();break;case 6:o.baseHurt=e.int32();break;case 7:o.hurtUnit=e.int32();break;case 8:o.updateHurt=e.int32();break;case 9:o.updateHurtUnit=e.int32();break;default:e.skipType(7&a)}}if(!o.hasOwnProperty("id"))throw s.ProtocolError("missing required 'id'",{instance:o});if(!o.hasOwnProperty("name"))throw s.ProtocolError("missing required 'name'",{instance:o});if(!o.hasOwnProperty("type"))throw s.ProtocolError("missing required 'type'",{instance:o});if(!o.hasOwnProperty("price"))throw s.ProtocolError("missing required 'price'",{instance:o});if(!o.hasOwnProperty("priceUnit"))throw s.ProtocolError("missing required 'priceUnit'",{instance:o});if(!o.hasOwnProperty("baseHurt"))throw s.ProtocolError("missing required 'baseHurt'",{instance:o});if(!o.hasOwnProperty("hurtUnit"))throw s.ProtocolError("missing required 'hurtUnit'",{instance:o});if(!o.hasOwnProperty("updateHurt"))throw s.ProtocolError("missing required 'updateHurt'",{instance:o});if(!o.hasOwnProperty("updateHurtUnit"))throw s.ProtocolError("missing required 'updateHurtUnit'",{instance:o});return o},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":o(e))||null===e?"object expected":s.isInteger(e.id)?s.isString(e.name)?s.isInteger(e.type)?s.isInteger(e.price)?s.isInteger(e.priceUnit)?s.isInteger(e.baseHurt)?s.isInteger(e.hurtUnit)?s.isInteger(e.updateHurt)?s.isInteger(e.updateHurtUnit)?null:"updateHurtUnit: integer expected":"updateHurt: integer expected":"hurtUnit: integer expected":"baseHurt: integer expected":"priceUnit: integer expected":"price: integer expected":"type: integer expected":"name: string expected":"id: integer expected"},e.fromObject=function(e){if(e instanceof c.ArmsUnlockMeta)return e;var t=new c.ArmsUnlockMeta;return null!=e.id&&(t.id=0|e.id),null!=e.name&&(t.name=String(e.name)),null!=e.type&&(t.type=0|e.type),null!=e.price&&(t.price=0|e.price),null!=e.priceUnit&&(t.priceUnit=0|e.priceUnit),null!=e.baseHurt&&(t.baseHurt=0|e.baseHurt),null!=e.hurtUnit&&(t.hurtUnit=0|e.hurtUnit),null!=e.updateHurt&&(t.updateHurt=0|e.updateHurt),null!=e.updateHurtUnit&&(t.updateHurtUnit=0|e.updateHurtUnit),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.name="",n.type=0,n.price=0,n.priceUnit=0,n.baseHurt=0,n.hurtUnit=0,n.updateHurt=0,n.updateHurtUnit=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.price&&e.hasOwnProperty("price")&&(n.price=e.price),null!=e.priceUnit&&e.hasOwnProperty("priceUnit")&&(n.priceUnit=e.priceUnit),null!=e.baseHurt&&e.hasOwnProperty("baseHurt")&&(n.baseHurt=e.baseHurt),null!=e.hurtUnit&&e.hasOwnProperty("hurtUnit")&&(n.hurtUnit=e.hurtUnit),null!=e.updateHurt&&e.hasOwnProperty("updateHurt")&&(n.updateHurt=e.updateHurt),null!=e.updateHurtUnit&&e.hasOwnProperty("updateHurtUnit")&&(n.updateHurtUnit=e.updateHurtUnit),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.ArmsUpgradeParameterMeta=c.ArmsUpgradeParameterMeta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.priceAddCoefficient=0,e.prototype.tryoutBuffCoefficient=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),t.uint32(8).int32(e.priceAddCoefficient),t.uint32(16).int32(e.tryoutBuffCoefficient),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.ArmsUpgradeParameterMeta;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:o.priceAddCoefficient=e.int32();break;case 2:o.tryoutBuffCoefficient=e.int32();break;default:e.skipType(7&a)}}if(!o.hasOwnProperty("priceAddCoefficient"))throw s.ProtocolError("missing required 'priceAddCoefficient'",{instance:o});if(!o.hasOwnProperty("tryoutBuffCoefficient"))throw s.ProtocolError("missing required 'tryoutBuffCoefficient'",{instance:o});return o},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":o(e))||null===e?"object expected":s.isInteger(e.priceAddCoefficient)?s.isInteger(e.tryoutBuffCoefficient)?null:"tryoutBuffCoefficient: integer expected":"priceAddCoefficient: integer expected"},e.fromObject=function(e){if(e instanceof c.ArmsUpgradeParameterMeta)return e;var t=new c.ArmsUpgradeParameterMeta;return null!=e.priceAddCoefficient&&(t.priceAddCoefficient=0|e.priceAddCoefficient),null!=e.tryoutBuffCoefficient&&(t.tryoutBuffCoefficient=0|e.tryoutBuffCoefficient),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.priceAddCoefficient=0,n.tryoutBuffCoefficient=0),null!=e.priceAddCoefficient&&e.hasOwnProperty("priceAddCoefficient")&&(n.priceAddCoefficient=e.priceAddCoefficient),null!=e.tryoutBuffCoefficient&&e.hasOwnProperty("tryoutBuffCoefficient")&&(n.tryoutBuffCoefficient=e.tryoutBuffCoefficient),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.BaseUnlockMeta=c.BaseUnlockMeta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.upgradeId=0,e.prototype.type=0,e.prototype.describe="",e.prototype.priceType=0,e.prototype.price=0,e.prototype.priceUnit=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),t.uint32(8).int32(e.upgradeId),t.uint32(16).int32(e.type),t.uint32(26).string(e.describe),t.uint32(32).int32(e.priceType),t.uint32(40).int32(e.price),t.uint32(48).int32(e.priceUnit),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.BaseUnlockMeta;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:o.upgradeId=e.int32();break;case 2:o.type=e.int32();break;case 3:o.describe=e.string();break;case 4:o.priceType=e.int32();break;case 5:o.price=e.int32();break;case 6:o.priceUnit=e.int32();break;default:e.skipType(7&a)}}if(!o.hasOwnProperty("upgradeId"))throw s.ProtocolError("missing required 'upgradeId'",{instance:o});if(!o.hasOwnProperty("type"))throw s.ProtocolError("missing required 'type'",{instance:o});if(!o.hasOwnProperty("describe"))throw s.ProtocolError("missing required 'describe'",{instance:o});if(!o.hasOwnProperty("priceType"))throw s.ProtocolError("missing required 'priceType'",{instance:o});if(!o.hasOwnProperty("price"))throw s.ProtocolError("missing required 'price'",{instance:o});if(!o.hasOwnProperty("priceUnit"))throw s.ProtocolError("missing required 'priceUnit'",{instance:o});return o},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":o(e))||null===e?"object expected":s.isInteger(e.upgradeId)?s.isInteger(e.type)?s.isString(e.describe)?s.isInteger(e.priceType)?s.isInteger(e.price)?s.isInteger(e.priceUnit)?null:"priceUnit: integer expected":"price: integer expected":"priceType: integer expected":"describe: string expected":"type: integer expected":"upgradeId: integer expected"},e.fromObject=function(e){if(e instanceof c.BaseUnlockMeta)return e;var t=new c.BaseUnlockMeta;return null!=e.upgradeId&&(t.upgradeId=0|e.upgradeId),null!=e.type&&(t.type=0|e.type),null!=e.describe&&(t.describe=String(e.describe)),null!=e.priceType&&(t.priceType=0|e.priceType),null!=e.price&&(t.price=0|e.price),null!=e.priceUnit&&(t.priceUnit=0|e.priceUnit),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.upgradeId=0,n.type=0,n.describe="",n.priceType=0,n.price=0,n.priceUnit=0),null!=e.upgradeId&&e.hasOwnProperty("upgradeId")&&(n.upgradeId=e.upgradeId),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.describe&&e.hasOwnProperty("describe")&&(n.describe=e.describe),null!=e.priceType&&e.hasOwnProperty("priceType")&&(n.priceType=e.priceType),null!=e.price&&e.hasOwnProperty("price")&&(n.price=e.price),null!=e.priceUnit&&e.hasOwnProperty("priceUnit")&&(n.priceUnit=e.priceUnit),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.BaseUpgradeMeta=c.BaseUpgradeMeta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.speedAddCoefficient=0,e.prototype.offlineAddCoefficient=0,e.prototype.coinAddCoefficient=0,e.prototype.priceBasicConsumption=0,e.prototype.priceCoefficient=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),t.uint32(8).int32(e.speedAddCoefficient),t.uint32(16).int32(e.offlineAddCoefficient),t.uint32(24).int32(e.coinAddCoefficient),t.uint32(32).int32(e.priceBasicConsumption),t.uint32(40).int32(e.priceCoefficient),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.BaseUpgradeMeta;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:o.speedAddCoefficient=e.int32();break;case 2:o.offlineAddCoefficient=e.int32();break;case 3:o.coinAddCoefficient=e.int32();break;case 4:o.priceBasicConsumption=e.int32();break;case 5:o.priceCoefficient=e.int32();break;default:e.skipType(7&a)}}if(!o.hasOwnProperty("speedAddCoefficient"))throw s.ProtocolError("missing required 'speedAddCoefficient'",{instance:o});if(!o.hasOwnProperty("offlineAddCoefficient"))throw s.ProtocolError("missing required 'offlineAddCoefficient'",{instance:o});if(!o.hasOwnProperty("coinAddCoefficient"))throw s.ProtocolError("missing required 'coinAddCoefficient'",{instance:o});if(!o.hasOwnProperty("priceBasicConsumption"))throw s.ProtocolError("missing required 'priceBasicConsumption'",{instance:o});if(!o.hasOwnProperty("priceCoefficient"))throw s.ProtocolError("missing required 'priceCoefficient'",{instance:o});return o},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":o(e))||null===e?"object expected":s.isInteger(e.speedAddCoefficient)?s.isInteger(e.offlineAddCoefficient)?s.isInteger(e.coinAddCoefficient)?s.isInteger(e.priceBasicConsumption)?s.isInteger(e.priceCoefficient)?null:"priceCoefficient: integer expected":"priceBasicConsumption: integer expected":"coinAddCoefficient: integer expected":"offlineAddCoefficient: integer expected":"speedAddCoefficient: integer expected"},e.fromObject=function(e){if(e instanceof c.BaseUpgradeMeta)return e;var t=new c.BaseUpgradeMeta;return null!=e.speedAddCoefficient&&(t.speedAddCoefficient=0|e.speedAddCoefficient),null!=e.offlineAddCoefficient&&(t.offlineAddCoefficient=0|e.offlineAddCoefficient),null!=e.coinAddCoefficient&&(t.coinAddCoefficient=0|e.coinAddCoefficient),null!=e.priceBasicConsumption&&(t.priceBasicConsumption=0|e.priceBasicConsumption),null!=e.priceCoefficient&&(t.priceCoefficient=0|e.priceCoefficient),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.speedAddCoefficient=0,n.offlineAddCoefficient=0,n.coinAddCoefficient=0,n.priceBasicConsumption=0,n.priceCoefficient=0),null!=e.speedAddCoefficient&&e.hasOwnProperty("speedAddCoefficient")&&(n.speedAddCoefficient=e.speedAddCoefficient),null!=e.offlineAddCoefficient&&e.hasOwnProperty("offlineAddCoefficient")&&(n.offlineAddCoefficient=e.offlineAddCoefficient),null!=e.coinAddCoefficient&&e.hasOwnProperty("coinAddCoefficient")&&(n.coinAddCoefficient=e.coinAddCoefficient),null!=e.priceBasicConsumption&&e.hasOwnProperty("priceBasicConsumption")&&(n.priceBasicConsumption=e.priceBasicConsumption),null!=e.priceCoefficient&&e.hasOwnProperty("priceCoefficient")&&(n.priceCoefficient=e.priceCoefficient),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.BulletUpgradeMeta=c.BulletUpgradeMeta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.grade=0,e.prototype.shootType=0,e.prototype.bulletNum=0,e.prototype.fireNum=0,e.prototype.scatteringRate=0,e.prototype.type=0,e.prototype.upgradePrice=0,e.prototype.priceUnit=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),t.uint32(8).int32(e.id),t.uint32(16).int32(e.grade),t.uint32(24).int32(e.shootType),t.uint32(32).int32(e.bulletNum),t.uint32(40).int32(e.fireNum),t.uint32(48).int32(e.scatteringRate),t.uint32(56).int32(e.type),t.uint32(64).int32(e.upgradePrice),t.uint32(72).int32(e.priceUnit),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.BulletUpgradeMeta;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:o.id=e.int32();break;case 2:o.grade=e.int32();break;case 3:o.shootType=e.int32();break;case 4:o.bulletNum=e.int32();break;case 5:o.fireNum=e.int32();break;case 6:o.scatteringRate=e.int32();break;case 7:o.type=e.int32();break;case 8:o.upgradePrice=e.int32();break;case 9:o.priceUnit=e.int32();break;default:e.skipType(7&a)}}if(!o.hasOwnProperty("id"))throw s.ProtocolError("missing required 'id'",{instance:o});if(!o.hasOwnProperty("grade"))throw s.ProtocolError("missing required 'grade'",{instance:o});if(!o.hasOwnProperty("shootType"))throw s.ProtocolError("missing required 'shootType'",{instance:o});if(!o.hasOwnProperty("bulletNum"))throw s.ProtocolError("missing required 'bulletNum'",{instance:o});if(!o.hasOwnProperty("fireNum"))throw s.ProtocolError("missing required 'fireNum'",{instance:o});if(!o.hasOwnProperty("scatteringRate"))throw s.ProtocolError("missing required 'scatteringRate'",{instance:o});if(!o.hasOwnProperty("type"))throw s.ProtocolError("missing required 'type'",{instance:o});if(!o.hasOwnProperty("upgradePrice"))throw s.ProtocolError("missing required 'upgradePrice'",{instance:o});if(!o.hasOwnProperty("priceUnit"))throw s.ProtocolError("missing required 'priceUnit'",{instance:o});return o},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":o(e))||null===e?"object expected":s.isInteger(e.id)?s.isInteger(e.grade)?s.isInteger(e.shootType)?s.isInteger(e.bulletNum)?s.isInteger(e.fireNum)?s.isInteger(e.scatteringRate)?s.isInteger(e.type)?s.isInteger(e.upgradePrice)?s.isInteger(e.priceUnit)?null:"priceUnit: integer expected":"upgradePrice: integer expected":"type: integer expected":"scatteringRate: integer expected":"fireNum: integer expected":"bulletNum: integer expected":"shootType: integer expected":"grade: integer expected":"id: integer expected"},e.fromObject=function(e){if(e instanceof c.BulletUpgradeMeta)return e;var t=new c.BulletUpgradeMeta;return null!=e.id&&(t.id=0|e.id),null!=e.grade&&(t.grade=0|e.grade),null!=e.shootType&&(t.shootType=0|e.shootType),null!=e.bulletNum&&(t.bulletNum=0|e.bulletNum),null!=e.fireNum&&(t.fireNum=0|e.fireNum),null!=e.scatteringRate&&(t.scatteringRate=0|e.scatteringRate),null!=e.type&&(t.type=0|e.type),null!=e.upgradePrice&&(t.upgradePrice=0|e.upgradePrice),null!=e.priceUnit&&(t.priceUnit=0|e.priceUnit),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.grade=0,n.shootType=0,n.bulletNum=0,n.fireNum=0,n.scatteringRate=0,n.type=0,n.upgradePrice=0,n.priceUnit=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.grade&&e.hasOwnProperty("grade")&&(n.grade=e.grade),null!=e.shootType&&e.hasOwnProperty("shootType")&&(n.shootType=e.shootType),null!=e.bulletNum&&e.hasOwnProperty("bulletNum")&&(n.bulletNum=e.bulletNum),null!=e.fireNum&&e.hasOwnProperty("fireNum")&&(n.fireNum=e.fireNum),null!=e.scatteringRate&&e.hasOwnProperty("scatteringRate")&&(n.scatteringRate=e.scatteringRate),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.upgradePrice&&e.hasOwnProperty("upgradePrice")&&(n.upgradePrice=e.upgradePrice),null!=e.priceUnit&&e.hasOwnProperty("priceUnit")&&(n.priceUnit=e.priceUnit),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.CoinRewardMeta=c.CoinRewardMeta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.armsMagnification=0,e.prototype.time=0,e.prototype.boxRewardNum=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),t.uint32(8).int32(e.armsMagnification),t.uint32(16).int32(e.time),t.uint32(24).int32(e.boxRewardNum),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.CoinRewardMeta;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:o.armsMagnification=e.int32();break;case 2:o.time=e.int32();break;case 3:o.boxRewardNum=e.int32();break;default:e.skipType(7&a)}}if(!o.hasOwnProperty("armsMagnification"))throw s.ProtocolError("missing required 'armsMagnification'",{instance:o});if(!o.hasOwnProperty("time"))throw s.ProtocolError("missing required 'time'",{instance:o});if(!o.hasOwnProperty("boxRewardNum"))throw s.ProtocolError("missing required 'boxRewardNum'",{instance:o});return o},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":o(e))||null===e?"object expected":s.isInteger(e.armsMagnification)?s.isInteger(e.time)?s.isInteger(e.boxRewardNum)?null:"boxRewardNum: integer expected":"time: integer expected":"armsMagnification: integer expected"},e.fromObject=function(e){if(e instanceof c.CoinRewardMeta)return e;var t=new c.CoinRewardMeta;return null!=e.armsMagnification&&(t.armsMagnification=0|e.armsMagnification),null!=e.time&&(t.time=0|e.time),null!=e.boxRewardNum&&(t.boxRewardNum=0|e.boxRewardNum),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.armsMagnification=0,n.time=0,n.boxRewardNum=0),null!=e.armsMagnification&&e.hasOwnProperty("armsMagnification")&&(n.armsMagnification=e.armsMagnification),null!=e.time&&e.hasOwnProperty("time")&&(n.time=e.time),null!=e.boxRewardNum&&e.hasOwnProperty("boxRewardNum")&&(n.boxRewardNum=e.boxRewardNum),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.GameMeta=c.GameMeta=function(){function e(e){if(this.levelMeta=[],this.levelResetMeta=[],this.baseUnlockMeta=[],this.baseUpgradeMeta=[],this.roleUnlockMeta=[],this.roleUpgradeMeta=[],this.bulletUpgradeMeta=[],this.armsUnlockMeta=[],this.hurtUpgradeMeta=[],this.signInMeta=[],this.offlineRevenueMeta=[],this.armsUpgradeParameterMeta=[],this.coinRewardMeta=[],this.vipMeta=[],this.imageUpgradeMeta=[],this.petsAttackParameterMeta=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.levelMeta=s.emptyArray,e.prototype.levelResetMeta=s.emptyArray,e.prototype.baseUnlockMeta=s.emptyArray,e.prototype.baseUpgradeMeta=s.emptyArray,e.prototype.roleUnlockMeta=s.emptyArray,e.prototype.roleUpgradeMeta=s.emptyArray,e.prototype.bulletUpgradeMeta=s.emptyArray,e.prototype.armsUnlockMeta=s.emptyArray,e.prototype.hurtUpgradeMeta=s.emptyArray,e.prototype.signInMeta=s.emptyArray,e.prototype.offlineRevenueMeta=s.emptyArray,e.prototype.armsUpgradeParameterMeta=s.emptyArray,e.prototype.coinRewardMeta=s.emptyArray,e.prototype.metaVer=s.Long?s.Long.fromBits(0,0,!1):0,e.prototype.vipMeta=s.emptyArray,e.prototype.imageUpgradeMeta=s.emptyArray,e.prototype.petsAttackParameterMeta=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=r.create()),null!=e.levelMeta&&e.levelMeta.length)for(var n=0;n<e.levelMeta.length;++n)c.LevelMeta.encode(e.levelMeta[n],t.uint32(10).fork()).ldelim();if(null!=e.levelResetMeta&&e.levelResetMeta.length)for(var o=0;o<e.levelResetMeta.length;++o)c.LevelResetMeta.encode(e.levelResetMeta[o],t.uint32(18).fork()).ldelim();if(null!=e.baseUnlockMeta&&e.baseUnlockMeta.length)for(var a=0;a<e.baseUnlockMeta.length;++a)c.BaseUnlockMeta.encode(e.baseUnlockMeta[a],t.uint32(26).fork()).ldelim();if(null!=e.baseUpgradeMeta&&e.baseUpgradeMeta.length)for(var i=0;i<e.baseUpgradeMeta.length;++i)c.BaseUpgradeMeta.encode(e.baseUpgradeMeta[i],t.uint32(34).fork()).ldelim();if(null!=e.roleUnlockMeta&&e.roleUnlockMeta.length)for(var s=0;s<e.roleUnlockMeta.length;++s)c.RoleUnlockMeta.encode(e.roleUnlockMeta[s],t.uint32(42).fork()).ldelim();if(null!=e.roleUpgradeMeta&&e.roleUpgradeMeta.length)for(var l=0;l<e.roleUpgradeMeta.length;++l)c.RoleUpgradeMeta.encode(e.roleUpgradeMeta[l],t.uint32(50).fork()).ldelim();if(null!=e.bulletUpgradeMeta&&e.bulletUpgradeMeta.length)for(var u=0;u<e.bulletUpgradeMeta.length;++u)c.BulletUpgradeMeta.encode(e.bulletUpgradeMeta[u],t.uint32(58).fork()).ldelim();if(null!=e.armsUnlockMeta&&e.armsUnlockMeta.length)for(var d=0;d<e.armsUnlockMeta.length;++d)c.ArmsUnlockMeta.encode(e.armsUnlockMeta[d],t.uint32(66).fork()).ldelim();if(null!=e.hurtUpgradeMeta&&e.hurtUpgradeMeta.length)for(var f=0;f<e.hurtUpgradeMeta.length;++f)c.HurtUpgradeMeta.encode(e.hurtUpgradeMeta[f],t.uint32(74).fork()).ldelim();if(null!=e.signInMeta&&e.signInMeta.length)for(var p=0;p<e.signInMeta.length;++p)c.SignInMeta.encode(e.signInMeta[p],t.uint32(82).fork()).ldelim();if(null!=e.offlineRevenueMeta&&e.offlineRevenueMeta.length)for(var h=0;h<e.offlineRevenueMeta.length;++h)c.OfflineRevenueMeta.encode(e.offlineRevenueMeta[h],t.uint32(90).fork()).ldelim();if(null!=e.armsUpgradeParameterMeta&&e.armsUpgradeParameterMeta.length)for(var g=0;g<e.armsUpgradeParameterMeta.length;++g)c.ArmsUpgradeParameterMeta.encode(e.armsUpgradeParameterMeta[g],t.uint32(98).fork()).ldelim();if(null!=e.coinRewardMeta&&e.coinRewardMeta.length)for(var _=0;_<e.coinRewardMeta.length;++_)c.CoinRewardMeta.encode(e.coinRewardMeta[_],t.uint32(106).fork()).ldelim();if(t.uint32(112).int64(e.metaVer),null!=e.vipMeta&&e.vipMeta.length)for(var y=0;y<e.vipMeta.length;++y)c.VipMeta.encode(e.vipMeta[y],t.uint32(122).fork()).ldelim();if(null!=e.imageUpgradeMeta&&e.imageUpgradeMeta.length)for(var m=0;m<e.imageUpgradeMeta.length;++m)c.ImageUpgradeMeta.encode(e.imageUpgradeMeta[m],t.uint32(130).fork()).ldelim();if(null!=e.petsAttackParameterMeta&&e.petsAttackParameterMeta.length)for(var v=0;v<e.petsAttackParameterMeta.length;++v)c.PetsAttackParameterMeta.encode(e.petsAttackParameterMeta[v],t.uint32(138).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.GameMeta;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:o.levelMeta&&o.levelMeta.length||(o.levelMeta=[]),o.levelMeta.push(c.LevelMeta.decode(e,e.uint32()));break;case 2:o.levelResetMeta&&o.levelResetMeta.length||(o.levelResetMeta=[]),o.levelResetMeta.push(c.LevelResetMeta.decode(e,e.uint32()));break;case 3:o.baseUnlockMeta&&o.baseUnlockMeta.length||(o.baseUnlockMeta=[]),o.baseUnlockMeta.push(c.BaseUnlockMeta.decode(e,e.uint32()));break;case 4:o.baseUpgradeMeta&&o.baseUpgradeMeta.length||(o.baseUpgradeMeta=[]),o.baseUpgradeMeta.push(c.BaseUpgradeMeta.decode(e,e.uint32()));break;case 5:o.roleUnlockMeta&&o.roleUnlockMeta.length||(o.roleUnlockMeta=[]),o.roleUnlockMeta.push(c.RoleUnlockMeta.decode(e,e.uint32()));break;case 6:o.roleUpgradeMeta&&o.roleUpgradeMeta.length||(o.roleUpgradeMeta=[]),o.roleUpgradeMeta.push(c.RoleUpgradeMeta.decode(e,e.uint32()));break;case 7:o.bulletUpgradeMeta&&o.bulletUpgradeMeta.length||(o.bulletUpgradeMeta=[]),o.bulletUpgradeMeta.push(c.BulletUpgradeMeta.decode(e,e.uint32()));break;case 8:o.armsUnlockMeta&&o.armsUnlockMeta.length||(o.armsUnlockMeta=[]),o.armsUnlockMeta.push(c.ArmsUnlockMeta.decode(e,e.uint32()));break;case 9:o.hurtUpgradeMeta&&o.hurtUpgradeMeta.length||(o.hurtUpgradeMeta=[]),o.hurtUpgradeMeta.push(c.HurtUpgradeMeta.decode(e,e.uint32()));break;case 10:o.signInMeta&&o.signInMeta.length||(o.signInMeta=[]),o.signInMeta.push(c.SignInMeta.decode(e,e.uint32()));break;case 11:o.offlineRevenueMeta&&o.offlineRevenueMeta.length||(o.offlineRevenueMeta=[]),o.offlineRevenueMeta.push(c.OfflineRevenueMeta.decode(e,e.uint32()));break;case 12:o.armsUpgradeParameterMeta&&o.armsUpgradeParameterMeta.length||(o.armsUpgradeParameterMeta=[]),o.armsUpgradeParameterMeta.push(c.ArmsUpgradeParameterMeta.decode(e,e.uint32()));break;case 13:o.coinRewardMeta&&o.coinRewardMeta.length||(o.coinRewardMeta=[]),o.coinRewardMeta.push(c.CoinRewardMeta.decode(e,e.uint32()));break;case 14:o.metaVer=e.int64();break;case 15:o.vipMeta&&o.vipMeta.length||(o.vipMeta=[]),o.vipMeta.push(c.VipMeta.decode(e,e.uint32()));break;case 16:o.imageUpgradeMeta&&o.imageUpgradeMeta.length||(o.imageUpgradeMeta=[]),o.imageUpgradeMeta.push(c.ImageUpgradeMeta.decode(e,e.uint32()));break;case 17:o.petsAttackParameterMeta&&o.petsAttackParameterMeta.length||(o.petsAttackParameterMeta=[]),o.petsAttackParameterMeta.push(c.PetsAttackParameterMeta.decode(e,e.uint32()));break;default:e.skipType(7&a)}}if(!o.hasOwnProperty("metaVer"))throw s.ProtocolError("missing required 'metaVer'",{instance:o});return o},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":o(e))||null===e)return"object expected";if(null!=e.levelMeta&&e.hasOwnProperty("levelMeta")){if(!Array.isArray(e.levelMeta))return"levelMeta: array expected";for(var t=0;t<e.levelMeta.length;++t){var n=c.LevelMeta.verify(e.levelMeta[t]);if(n)return"levelMeta."+n}}if(null!=e.levelResetMeta&&e.hasOwnProperty("levelResetMeta")){if(!Array.isArray(e.levelResetMeta))return"levelResetMeta: array expected";for(var a=0;a<e.levelResetMeta.length;++a){var i=c.LevelResetMeta.verify(e.levelResetMeta[a]);if(i)return"levelResetMeta."+i}}if(null!=e.baseUnlockMeta&&e.hasOwnProperty("baseUnlockMeta")){if(!Array.isArray(e.baseUnlockMeta))return"baseUnlockMeta: array expected";for(var r=0;r<e.baseUnlockMeta.length;++r){var l=c.BaseUnlockMeta.verify(e.baseUnlockMeta[r]);if(l)return"baseUnlockMeta."+l}}if(null!=e.baseUpgradeMeta&&e.hasOwnProperty("baseUpgradeMeta")){if(!Array.isArray(e.baseUpgradeMeta))return"baseUpgradeMeta: array expected";for(var u=0;u<e.baseUpgradeMeta.length;++u){var d=c.BaseUpgradeMeta.verify(e.baseUpgradeMeta[u]);if(d)return"baseUpgradeMeta."+d}}if(null!=e.roleUnlockMeta&&e.hasOwnProperty("roleUnlockMeta")){if(!Array.isArray(e.roleUnlockMeta))return"roleUnlockMeta: array expected";for(var f=0;f<e.roleUnlockMeta.length;++f){var p=c.RoleUnlockMeta.verify(e.roleUnlockMeta[f]);if(p)return"roleUnlockMeta."+p}}if(null!=e.roleUpgradeMeta&&e.hasOwnProperty("roleUpgradeMeta")){if(!Array.isArray(e.roleUpgradeMeta))return"roleUpgradeMeta: array expected";for(var h=0;h<e.roleUpgradeMeta.length;++h){var g=c.RoleUpgradeMeta.verify(e.roleUpgradeMeta[h]);if(g)return"roleUpgradeMeta."+g}}if(null!=e.bulletUpgradeMeta&&e.hasOwnProperty("bulletUpgradeMeta")){if(!Array.isArray(e.bulletUpgradeMeta))return"bulletUpgradeMeta: array expected";for(var _=0;_<e.bulletUpgradeMeta.length;++_){var y=c.BulletUpgradeMeta.verify(e.bulletUpgradeMeta[_]);if(y)return"bulletUpgradeMeta."+y}}if(null!=e.armsUnlockMeta&&e.hasOwnProperty("armsUnlockMeta")){if(!Array.isArray(e.armsUnlockMeta))return"armsUnlockMeta: array expected";for(var m=0;m<e.armsUnlockMeta.length;++m){var v=c.ArmsUnlockMeta.verify(e.armsUnlockMeta[m]);if(v)return"armsUnlockMeta."+v}}if(null!=e.hurtUpgradeMeta&&e.hasOwnProperty("hurtUpgradeMeta")){if(!Array.isArray(e.hurtUpgradeMeta))return"hurtUpgradeMeta: array expected";for(var b=0;b<e.hurtUpgradeMeta.length;++b){var M=c.HurtUpgradeMeta.verify(e.hurtUpgradeMeta[b]);if(M)return"hurtUpgradeMeta."+M}}if(null!=e.signInMeta&&e.hasOwnProperty("signInMeta")){if(!Array.isArray(e.signInMeta))return"signInMeta: array expected";for(var w=0;w<e.signInMeta.length;++w){var E=c.SignInMeta.verify(e.signInMeta[w]);if(E)return"signInMeta."+E}}if(null!=e.offlineRevenueMeta&&e.hasOwnProperty("offlineRevenueMeta")){if(!Array.isArray(e.offlineRevenueMeta))return"offlineRevenueMeta: array expected";for(var S=0;S<e.offlineRevenueMeta.length;++S){var O=c.OfflineRevenueMeta.verify(e.offlineRevenueMeta[S]);if(O)return"offlineRevenueMeta."+O}}if(null!=e.armsUpgradeParameterMeta&&e.hasOwnProperty("armsUpgradeParameterMeta")){if(!Array.isArray(e.armsUpgradeParameterMeta))return"armsUpgradeParameterMeta: array expected";for(var R=0;R<e.armsUpgradeParameterMeta.length;++R){var A=c.ArmsUpgradeParameterMeta.verify(e.armsUpgradeParameterMeta[R]);if(A)return"armsUpgradeParameterMeta."+A}}if(null!=e.coinRewardMeta&&e.hasOwnProperty("coinRewardMeta")){if(!Array.isArray(e.coinRewardMeta))return"coinRewardMeta: array expected";for(var D=0;D<e.coinRewardMeta.length;++D){var C=c.CoinRewardMeta.verify(e.coinRewardMeta[D]);if(C)return"coinRewardMeta."+C}}if(!(s.isInteger(e.metaVer)||e.metaVer&&s.isInteger(e.metaVer.low)&&s.isInteger(e.metaVer.high)))return"metaVer: integer|Long expected";if(null!=e.vipMeta&&e.hasOwnProperty("vipMeta")){if(!Array.isArray(e.vipMeta))return"vipMeta: array expected";for(var P=0;P<e.vipMeta.length;++P){var I=c.VipMeta.verify(e.vipMeta[P]);if(I)return"vipMeta."+I}}if(null!=e.imageUpgradeMeta&&e.hasOwnProperty("imageUpgradeMeta")){if(!Array.isArray(e.imageUpgradeMeta))return"imageUpgradeMeta: array expected";for(var T=0;T<e.imageUpgradeMeta.length;++T){var N=c.ImageUpgradeMeta.verify(e.imageUpgradeMeta[T]);if(N)return"imageUpgradeMeta."+N}}if(null!=e.petsAttackParameterMeta&&e.hasOwnProperty("petsAttackParameterMeta")){if(!Array.isArray(e.petsAttackParameterMeta))return"petsAttackParameterMeta: array expected";for(var U=0;U<e.petsAttackParameterMeta.length;++U){var k=c.PetsAttackParameterMeta.verify(e.petsAttackParameterMeta[U]);if(k)return"petsAttackParameterMeta."+k}}return null},e.fromObject=function(e){if(e instanceof c.GameMeta)return e;var t=new c.GameMeta;if(e.levelMeta){if(!Array.isArray(e.levelMeta))throw TypeError(".GameMeta.levelMeta: array expected");t.levelMeta=[];for(var n=0;n<e.levelMeta.length;++n){if("object"!==o(e.levelMeta[n]))throw TypeError(".GameMeta.levelMeta: object expected");t.levelMeta[n]=c.LevelMeta.fromObject(e.levelMeta[n])}}if(e.levelResetMeta){if(!Array.isArray(e.levelResetMeta))throw TypeError(".GameMeta.levelResetMeta: array expected");t.levelResetMeta=[];for(var a=0;a<e.levelResetMeta.length;++a){if("object"!==o(e.levelResetMeta[a]))throw TypeError(".GameMeta.levelResetMeta: object expected");t.levelResetMeta[a]=c.LevelResetMeta.fromObject(e.levelResetMeta[a])}}if(e.baseUnlockMeta){if(!Array.isArray(e.baseUnlockMeta))throw TypeError(".GameMeta.baseUnlockMeta: array expected");t.baseUnlockMeta=[];for(var i=0;i<e.baseUnlockMeta.length;++i){if("object"!==o(e.baseUnlockMeta[i]))throw TypeError(".GameMeta.baseUnlockMeta: object expected");t.baseUnlockMeta[i]=c.BaseUnlockMeta.fromObject(e.baseUnlockMeta[i])}}if(e.baseUpgradeMeta){if(!Array.isArray(e.baseUpgradeMeta))throw TypeError(".GameMeta.baseUpgradeMeta: array expected");t.baseUpgradeMeta=[];for(var r=0;r<e.baseUpgradeMeta.length;++r){if("object"!==o(e.baseUpgradeMeta[r]))throw TypeError(".GameMeta.baseUpgradeMeta: object expected");t.baseUpgradeMeta[r]=c.BaseUpgradeMeta.fromObject(e.baseUpgradeMeta[r])}}if(e.roleUnlockMeta){if(!Array.isArray(e.roleUnlockMeta))throw TypeError(".GameMeta.roleUnlockMeta: array expected");t.roleUnlockMeta=[];for(var l=0;l<e.roleUnlockMeta.length;++l){if("object"!==o(e.roleUnlockMeta[l]))throw TypeError(".GameMeta.roleUnlockMeta: object expected");t.roleUnlockMeta[l]=c.RoleUnlockMeta.fromObject(e.roleUnlockMeta[l])}}if(e.roleUpgradeMeta){if(!Array.isArray(e.roleUpgradeMeta))throw TypeError(".GameMeta.roleUpgradeMeta: array expected");t.roleUpgradeMeta=[];for(var u=0;u<e.roleUpgradeMeta.length;++u){if("object"!==o(e.roleUpgradeMeta[u]))throw TypeError(".GameMeta.roleUpgradeMeta: object expected");t.roleUpgradeMeta[u]=c.RoleUpgradeMeta.fromObject(e.roleUpgradeMeta[u])}}if(e.bulletUpgradeMeta){if(!Array.isArray(e.bulletUpgradeMeta))throw TypeError(".GameMeta.bulletUpgradeMeta: array expected");t.bulletUpgradeMeta=[];for(var d=0;d<e.bulletUpgradeMeta.length;++d){if("object"!==o(e.bulletUpgradeMeta[d]))throw TypeError(".GameMeta.bulletUpgradeMeta: object expected");t.bulletUpgradeMeta[d]=c.BulletUpgradeMeta.fromObject(e.bulletUpgradeMeta[d])}}if(e.armsUnlockMeta){if(!Array.isArray(e.armsUnlockMeta))throw TypeError(".GameMeta.armsUnlockMeta: array expected");t.armsUnlockMeta=[];for(var f=0;f<e.armsUnlockMeta.length;++f){if("object"!==o(e.armsUnlockMeta[f]))throw TypeError(".GameMeta.armsUnlockMeta: object expected");t.armsUnlockMeta[f]=c.ArmsUnlockMeta.fromObject(e.armsUnlockMeta[f])}}if(e.hurtUpgradeMeta){if(!Array.isArray(e.hurtUpgradeMeta))throw TypeError(".GameMeta.hurtUpgradeMeta: array expected");t.hurtUpgradeMeta=[];for(var p=0;p<e.hurtUpgradeMeta.length;++p){if("object"!==o(e.hurtUpgradeMeta[p]))throw TypeError(".GameMeta.hurtUpgradeMeta: object expected");t.hurtUpgradeMeta[p]=c.HurtUpgradeMeta.fromObject(e.hurtUpgradeMeta[p])}}if(e.signInMeta){if(!Array.isArray(e.signInMeta))throw TypeError(".GameMeta.signInMeta: array expected");t.signInMeta=[];for(var h=0;h<e.signInMeta.length;++h){if("object"!==o(e.signInMeta[h]))throw TypeError(".GameMeta.signInMeta: object expected");t.signInMeta[h]=c.SignInMeta.fromObject(e.signInMeta[h])}}if(e.offlineRevenueMeta){if(!Array.isArray(e.offlineRevenueMeta))throw TypeError(".GameMeta.offlineRevenueMeta: array expected");t.offlineRevenueMeta=[];for(var g=0;g<e.offlineRevenueMeta.length;++g){if("object"!==o(e.offlineRevenueMeta[g]))throw TypeError(".GameMeta.offlineRevenueMeta: object expected");t.offlineRevenueMeta[g]=c.OfflineRevenueMeta.fromObject(e.offlineRevenueMeta[g])}}if(e.armsUpgradeParameterMeta){if(!Array.isArray(e.armsUpgradeParameterMeta))throw TypeError(".GameMeta.armsUpgradeParameterMeta: array expected");t.armsUpgradeParameterMeta=[];for(var _=0;_<e.armsUpgradeParameterMeta.length;++_){if("object"!==o(e.armsUpgradeParameterMeta[_]))throw TypeError(".GameMeta.armsUpgradeParameterMeta: object expected");t.armsUpgradeParameterMeta[_]=c.ArmsUpgradeParameterMeta.fromObject(e.armsUpgradeParameterMeta[_])}}if(e.coinRewardMeta){if(!Array.isArray(e.coinRewardMeta))throw TypeError(".GameMeta.coinRewardMeta: array expected");t.coinRewardMeta=[];for(var y=0;y<e.coinRewardMeta.length;++y){if("object"!==o(e.coinRewardMeta[y]))throw TypeError(".GameMeta.coinRewardMeta: object expected");t.coinRewardMeta[y]=c.CoinRewardMeta.fromObject(e.coinRewardMeta[y])}}if(null!=e.metaVer&&(s.Long?(t.metaVer=s.Long.fromValue(e.metaVer)).unsigned=!1:"string"==typeof e.metaVer?t.metaVer=parseInt(e.metaVer,10):"number"==typeof e.metaVer?t.metaVer=e.metaVer:"object"===o(e.metaVer)&&(t.metaVer=new s.LongBits(e.metaVer.low>>>0,e.metaVer.high>>>0).toNumber())),e.vipMeta){if(!Array.isArray(e.vipMeta))throw TypeError(".GameMeta.vipMeta: array expected");t.vipMeta=[];for(var m=0;m<e.vipMeta.length;++m){if("object"!==o(e.vipMeta[m]))throw TypeError(".GameMeta.vipMeta: object expected");t.vipMeta[m]=c.VipMeta.fromObject(e.vipMeta[m])}}if(e.imageUpgradeMeta){if(!Array.isArray(e.imageUpgradeMeta))throw TypeError(".GameMeta.imageUpgradeMeta: array expected");t.imageUpgradeMeta=[];for(var v=0;v<e.imageUpgradeMeta.length;++v){if("object"!==o(e.imageUpgradeMeta[v]))throw TypeError(".GameMeta.imageUpgradeMeta: object expected");t.imageUpgradeMeta[v]=c.ImageUpgradeMeta.fromObject(e.imageUpgradeMeta[v])}}if(e.petsAttackParameterMeta){if(!Array.isArray(e.petsAttackParameterMeta))throw TypeError(".GameMeta.petsAttackParameterMeta: array expected");t.petsAttackParameterMeta=[];for(var b=0;b<e.petsAttackParameterMeta.length;++b){if("object"!==o(e.petsAttackParameterMeta[b]))throw TypeError(".GameMeta.petsAttackParameterMeta: object expected");t.petsAttackParameterMeta[b]=c.PetsAttackParameterMeta.fromObject(e.petsAttackParameterMeta[b])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.levelMeta=[],n.levelResetMeta=[],n.baseUnlockMeta=[],n.baseUpgradeMeta=[],n.roleUnlockMeta=[],n.roleUpgradeMeta=[],n.bulletUpgradeMeta=[],n.armsUnlockMeta=[],n.hurtUpgradeMeta=[],n.signInMeta=[],n.offlineRevenueMeta=[],n.armsUpgradeParameterMeta=[],n.coinRewardMeta=[],n.vipMeta=[],n.imageUpgradeMeta=[],n.petsAttackParameterMeta=[]),t.defaults)if(s.Long){var o=new s.Long(0,0,!1);n.metaVer=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else n.metaVer=t.longs===String?"0":0;if(e.levelMeta&&e.levelMeta.length){n.levelMeta=[];for(var a=0;a<e.levelMeta.length;++a)n.levelMeta[a]=c.LevelMeta.toObject(e.levelMeta[a],t)}if(e.levelResetMeta&&e.levelResetMeta.length){n.levelResetMeta=[];for(var i=0;i<e.levelResetMeta.length;++i)n.levelResetMeta[i]=c.LevelResetMeta.toObject(e.levelResetMeta[i],t)}if(e.baseUnlockMeta&&e.baseUnlockMeta.length){n.baseUnlockMeta=[];for(var r=0;r<e.baseUnlockMeta.length;++r)n.baseUnlockMeta[r]=c.BaseUnlockMeta.toObject(e.baseUnlockMeta[r],t)}if(e.baseUpgradeMeta&&e.baseUpgradeMeta.length){n.baseUpgradeMeta=[];for(var l=0;l<e.baseUpgradeMeta.length;++l)n.baseUpgradeMeta[l]=c.BaseUpgradeMeta.toObject(e.baseUpgradeMeta[l],t)}if(e.roleUnlockMeta&&e.roleUnlockMeta.length){n.roleUnlockMeta=[];for(var u=0;u<e.roleUnlockMeta.length;++u)n.roleUnlockMeta[u]=c.RoleUnlockMeta.toObject(e.roleUnlockMeta[u],t)}if(e.roleUpgradeMeta&&e.roleUpgradeMeta.length){n.roleUpgradeMeta=[];for(var d=0;d<e.roleUpgradeMeta.length;++d)n.roleUpgradeMeta[d]=c.RoleUpgradeMeta.toObject(e.roleUpgradeMeta[d],t)}if(e.bulletUpgradeMeta&&e.bulletUpgradeMeta.length){n.bulletUpgradeMeta=[];for(var f=0;f<e.bulletUpgradeMeta.length;++f)n.bulletUpgradeMeta[f]=c.BulletUpgradeMeta.toObject(e.bulletUpgradeMeta[f],t)}if(e.armsUnlockMeta&&e.armsUnlockMeta.length){n.armsUnlockMeta=[];for(var p=0;p<e.armsUnlockMeta.length;++p)n.armsUnlockMeta[p]=c.ArmsUnlockMeta.toObject(e.armsUnlockMeta[p],t)}if(e.hurtUpgradeMeta&&e.hurtUpgradeMeta.length){n.hurtUpgradeMeta=[];for(var h=0;h<e.hurtUpgradeMeta.length;++h)n.hurtUpgradeMeta[h]=c.HurtUpgradeMeta.toObject(e.hurtUpgradeMeta[h],t)}if(e.signInMeta&&e.signInMeta.length){n.signInMeta=[];for(var g=0;g<e.signInMeta.length;++g)n.signInMeta[g]=c.SignInMeta.toObject(e.signInMeta[g],t)}if(e.offlineRevenueMeta&&e.offlineRevenueMeta.length){n.offlineRevenueMeta=[];for(var _=0;_<e.offlineRevenueMeta.length;++_)n.offlineRevenueMeta[_]=c.OfflineRevenueMeta.toObject(e.offlineRevenueMeta[_],t)}if(e.armsUpgradeParameterMeta&&e.armsUpgradeParameterMeta.length){n.armsUpgradeParameterMeta=[];for(var y=0;y<e.armsUpgradeParameterMeta.length;++y)n.armsUpgradeParameterMeta[y]=c.ArmsUpgradeParameterMeta.toObject(e.armsUpgradeParameterMeta[y],t)}if(e.coinRewardMeta&&e.coinRewardMeta.length){n.coinRewardMeta=[];for(var m=0;m<e.coinRewardMeta.length;++m)n.coinRewardMeta[m]=c.CoinRewardMeta.toObject(e.coinRewardMeta[m],t)}if(null!=e.metaVer&&e.hasOwnProperty("metaVer")&&("number"==typeof e.metaVer?n.metaVer=t.longs===String?String(e.metaVer):e.metaVer:n.metaVer=t.longs===String?s.Long.prototype.toString.call(e.metaVer):t.longs===Number?new s.LongBits(e.metaVer.low>>>0,e.metaVer.high>>>0).toNumber():e.metaVer),e.vipMeta&&e.vipMeta.length){n.vipMeta=[];for(var v=0;v<e.vipMeta.length;++v)n.vipMeta[v]=c.VipMeta.toObject(e.vipMeta[v],t)}if(e.imageUpgradeMeta&&e.imageUpgradeMeta.length){n.imageUpgradeMeta=[];for(var b=0;b<e.imageUpgradeMeta.length;++b)n.imageUpgradeMeta[b]=c.ImageUpgradeMeta.toObject(e.imageUpgradeMeta[b],t)}if(e.petsAttackParameterMeta&&e.petsAttackParameterMeta.length){n.petsAttackParameterMeta=[];for(var M=0;M<e.petsAttackParameterMeta.length;++M)n.petsAttackParameterMeta[M]=c.PetsAttackParameterMeta.toObject(e.petsAttackParameterMeta[M],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.LevelMeta=c.LevelMeta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.level=0,e.prototype.monster="",e.prototype.monsterId="",e.prototype.life=0,e.prototype.lifeUnit=0,e.prototype.hitCoinDrop=0,e.prototype.hitCoinNum=0,e.prototype.obstacle=0,e.prototype.obstacleType=0,e.prototype.obstacleSpeed=0,e.prototype.killCoinDrop=0,e.prototype.killCoinNum=0,e.prototype.bgId="",e.prototype.obstacleLife=0,e.prototype.obstacleInnerSpeed=0,e.prototype.obstacleOuterSpeed=0,e.prototype.obstacleInnerGeneratingSequence="",e.prototype.obstacleOuterGeneratingSequence="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),t.uint32(8).int32(e.level),t.uint32(18).string(e.monster),t.uint32(26).string(e.monsterId),t.uint32(32).int32(e.life),t.uint32(40).int32(e.lifeUnit),t.uint32(48).int32(e.hitCoinDrop),t.uint32(56).int32(e.hitCoinNum),t.uint32(64).int32(e.obstacle),t.uint32(72).int32(e.obstacleType),t.uint32(80).int32(e.obstacleSpeed),t.uint32(88).int32(e.killCoinDrop),t.uint32(96).int32(e.killCoinNum),t.uint32(106).string(e.bgId),t.uint32(112).int32(e.obstacleLife),t.uint32(120).int32(e.obstacleInnerSpeed),t.uint32(128).int32(e.obstacleOuterSpeed),t.uint32(138).string(e.obstacleInnerGeneratingSequence),t.uint32(146).string(e.obstacleOuterGeneratingSequence),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.LevelMeta;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:o.level=e.int32();break;case 2:o.monster=e.string();break;case 3:o.monsterId=e.string();break;case 4:o.life=e.int32();break;case 5:o.lifeUnit=e.int32();break;case 6:o.hitCoinDrop=e.int32();break;case 7:o.hitCoinNum=e.int32();break;case 8:o.obstacle=e.int32();break;case 9:o.obstacleType=e.int32();break;case 10:o.obstacleSpeed=e.int32();break;case 11:o.killCoinDrop=e.int32();break;case 12:o.killCoinNum=e.int32();break;case 13:o.bgId=e.string();break;case 14:o.obstacleLife=e.int32();break;case 15:o.obstacleInnerSpeed=e.int32();break;case 16:o.obstacleOuterSpeed=e.int32();break;case 17:o.obstacleInnerGeneratingSequence=e.string();break;case 18:o.obstacleOuterGeneratingSequence=e.string();break;default:e.skipType(7&a)}}if(!o.hasOwnProperty("level"))throw s.ProtocolError("missing required 'level'",{instance:o});if(!o.hasOwnProperty("monster"))throw s.ProtocolError("missing required 'monster'",{instance:o});if(!o.hasOwnProperty("monsterId"))throw s.ProtocolError("missing required 'monsterId'",{instance:o});if(!o.hasOwnProperty("life"))throw s.ProtocolError("missing required 'life'",{instance:o});if(!o.hasOwnProperty("lifeUnit"))throw s.ProtocolError("missing required 'lifeUnit'",{instance:o});if(!o.hasOwnProperty("hitCoinDrop"))throw s.ProtocolError("missing required 'hitCoinDrop'",{instance:o});if(!o.hasOwnProperty("hitCoinNum"))throw s.ProtocolError("missing required 'hitCoinNum'",{instance:o});if(!o.hasOwnProperty("obstacle"))throw s.ProtocolError("missing required 'obstacle'",{instance:o});if(!o.hasOwnProperty("obstacleType"))throw s.ProtocolError("missing required 'obstacleType'",{instance:o});if(!o.hasOwnProperty("obstacleSpeed"))throw s.ProtocolError("missing required 'obstacleSpeed'",{instance:o});if(!o.hasOwnProperty("killCoinDrop"))throw s.ProtocolError("missing required 'killCoinDrop'",{instance:o});if(!o.hasOwnProperty("killCoinNum"))throw s.ProtocolError("missing required 'killCoinNum'",{instance:o});if(!o.hasOwnProperty("bgId"))throw s.ProtocolError("missing required 'bgId'",{instance:o});if(!o.hasOwnProperty("obstacleLife"))throw s.ProtocolError("missing required 'obstacleLife'",{instance:o});if(!o.hasOwnProperty("obstacleInnerSpeed"))throw s.ProtocolError("missing required 'obstacleInnerSpeed'",{instance:o});if(!o.hasOwnProperty("obstacleOuterSpeed"))throw s.ProtocolError("missing required 'obstacleOuterSpeed'",{instance:o});if(!o.hasOwnProperty("obstacleInnerGeneratingSequence"))throw s.ProtocolError("missing required 'obstacleInnerGeneratingSequence'",{instance:o});if(!o.hasOwnProperty("obstacleOuterGeneratingSequence"))throw s.ProtocolError("missing required 'obstacleOuterGeneratingSequence'",{instance:o});return o},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":o(e))||null===e?"object expected":s.isInteger(e.level)?s.isString(e.monster)?s.isString(e.monsterId)?s.isInteger(e.life)?s.isInteger(e.lifeUnit)?s.isInteger(e.hitCoinDrop)?s.isInteger(e.hitCoinNum)?s.isInteger(e.obstacle)?s.isInteger(e.obstacleType)?s.isInteger(e.obstacleSpeed)?s.isInteger(e.killCoinDrop)?s.isInteger(e.killCoinNum)?s.isString(e.bgId)?s.isInteger(e.obstacleLife)?s.isInteger(e.obstacleInnerSpeed)?s.isInteger(e.obstacleOuterSpeed)?s.isString(e.obstacleInnerGeneratingSequence)?s.isString(e.obstacleOuterGeneratingSequence)?null:"obstacleOuterGeneratingSequence: string expected":"obstacleInnerGeneratingSequence: string expected":"obstacleOuterSpeed: integer expected":"obstacleInnerSpeed: integer expected":"obstacleLife: integer expected":"bgId: string expected":"killCoinNum: integer expected":"killCoinDrop: integer expected":"obstacleSpeed: integer expected":"obstacleType: integer expected":"obstacle: integer expected":"hitCoinNum: integer expected":"hitCoinDrop: integer expected":"lifeUnit: integer expected":"life: integer expected":"monsterId: string expected":"monster: string expected":"level: integer expected"},e.fromObject=function(e){if(e instanceof c.LevelMeta)return e;var t=new c.LevelMeta;return null!=e.level&&(t.level=0|e.level),null!=e.monster&&(t.monster=String(e.monster)),null!=e.monsterId&&(t.monsterId=String(e.monsterId)),null!=e.life&&(t.life=0|e.life),null!=e.lifeUnit&&(t.lifeUnit=0|e.lifeUnit),null!=e.hitCoinDrop&&(t.hitCoinDrop=0|e.hitCoinDrop),null!=e.hitCoinNum&&(t.hitCoinNum=0|e.hitCoinNum),null!=e.obstacle&&(t.obstacle=0|e.obstacle),null!=e.obstacleType&&(t.obstacleType=0|e.obstacleType),null!=e.obstacleSpeed&&(t.obstacleSpeed=0|e.obstacleSpeed),null!=e.killCoinDrop&&(t.killCoinDrop=0|e.killCoinDrop),null!=e.killCoinNum&&(t.killCoinNum=0|e.killCoinNum),null!=e.bgId&&(t.bgId=String(e.bgId)),null!=e.obstacleLife&&(t.obstacleLife=0|e.obstacleLife),null!=e.obstacleInnerSpeed&&(t.obstacleInnerSpeed=0|e.obstacleInnerSpeed),null!=e.obstacleOuterSpeed&&(t.obstacleOuterSpeed=0|e.obstacleOuterSpeed),null!=e.obstacleInnerGeneratingSequence&&(t.obstacleInnerGeneratingSequence=String(e.obstacleInnerGeneratingSequence)),null!=e.obstacleOuterGeneratingSequence&&(t.obstacleOuterGeneratingSequence=String(e.obstacleOuterGeneratingSequence)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.level=0,n.monster="",n.monsterId="",n.life=0,n.lifeUnit=0,n.hitCoinDrop=0,n.hitCoinNum=0,n.obstacle=0,n.obstacleType=0,n.obstacleSpeed=0,n.killCoinDrop=0,n.killCoinNum=0,n.bgId="",n.obstacleLife=0,n.obstacleInnerSpeed=0,n.obstacleOuterSpeed=0,n.obstacleInnerGeneratingSequence="",n.obstacleOuterGeneratingSequence=""),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.monster&&e.hasOwnProperty("monster")&&(n.monster=e.monster),null!=e.monsterId&&e.hasOwnProperty("monsterId")&&(n.monsterId=e.monsterId),null!=e.life&&e.hasOwnProperty("life")&&(n.life=e.life),null!=e.lifeUnit&&e.hasOwnProperty("lifeUnit")&&(n.lifeUnit=e.lifeUnit),null!=e.hitCoinDrop&&e.hasOwnProperty("hitCoinDrop")&&(n.hitCoinDrop=e.hitCoinDrop),null!=e.hitCoinNum&&e.hasOwnProperty("hitCoinNum")&&(n.hitCoinNum=e.hitCoinNum),null!=e.obstacle&&e.hasOwnProperty("obstacle")&&(n.obstacle=e.obstacle),null!=e.obstacleType&&e.hasOwnProperty("obstacleType")&&(n.obstacleType=e.obstacleType),null!=e.obstacleSpeed&&e.hasOwnProperty("obstacleSpeed")&&(n.obstacleSpeed=e.obstacleSpeed),null!=e.killCoinDrop&&e.hasOwnProperty("killCoinDrop")&&(n.killCoinDrop=e.killCoinDrop),null!=e.killCoinNum&&e.hasOwnProperty("killCoinNum")&&(n.killCoinNum=e.killCoinNum),null!=e.bgId&&e.hasOwnProperty("bgId")&&(n.bgId=e.bgId),null!=e.obstacleLife&&e.hasOwnProperty("obstacleLife")&&(n.obstacleLife=e.obstacleLife),null!=e.obstacleInnerSpeed&&e.hasOwnProperty("obstacleInnerSpeed")&&(n.obstacleInnerSpeed=e.obstacleInnerSpeed),null!=e.obstacleOuterSpeed&&e.hasOwnProperty("obstacleOuterSpeed")&&(n.obstacleOuterSpeed=e.obstacleOuterSpeed),null!=e.obstacleInnerGeneratingSequence&&e.hasOwnProperty("obstacleInnerGeneratingSequence")&&(n.obstacleInnerGeneratingSequence=e.obstacleInnerGeneratingSequence),null!=e.obstacleOuterGeneratingSequence&&e.hasOwnProperty("obstacleOuterGeneratingSequence")&&(n.obstacleOuterGeneratingSequence=e.obstacleOuterGeneratingSequence),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.LevelResetMeta=c.LevelResetMeta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resrtLevel=0,e.prototype.diamond=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),t.uint32(8).int32(e.resrtLevel),t.uint32(16).int32(e.diamond),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.LevelResetMeta;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:o.resrtLevel=e.int32();break;case 2:o.diamond=e.int32();break;default:e.skipType(7&a)}}if(!o.hasOwnProperty("resrtLevel"))throw s.ProtocolError("missing required 'resrtLevel'",{instance:o});if(!o.hasOwnProperty("diamond"))throw s.ProtocolError("missing required 'diamond'",{instance:o});return o},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":o(e))||null===e?"object expected":s.isInteger(e.resrtLevel)?s.isInteger(e.diamond)?null:"diamond: integer expected":"resrtLevel: integer expected"},e.fromObject=function(e){if(e instanceof c.LevelResetMeta)return e;var t=new c.LevelResetMeta;return null!=e.resrtLevel&&(t.resrtLevel=0|e.resrtLevel),null!=e.diamond&&(t.diamond=0|e.diamond),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resrtLevel=0,n.diamond=0),null!=e.resrtLevel&&e.hasOwnProperty("resrtLevel")&&(n.resrtLevel=e.resrtLevel),null!=e.diamond&&e.hasOwnProperty("diamond")&&(n.diamond=e.diamond),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.RoleUnlockMeta=c.RoleUnlockMeta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.name="",e.prototype.abilityType=0,e.prototype.describe="",e.prototype.priceType=0,e.prototype.price=0,e.prototype.priceUnit=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),t.uint32(8).int32(e.id),t.uint32(18).string(e.name),t.uint32(24).int32(e.abilityType),t.uint32(34).string(e.describe),t.uint32(40).int32(e.priceType),t.uint32(48).int32(e.price),t.uint32(56).int32(e.priceUnit),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.RoleUnlockMeta;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:o.id=e.int32();break;case 2:o.name=e.string();break;case 3:o.abilityType=e.int32();break;case 4:o.describe=e.string();break;case 5:o.priceType=e.int32();break;case 6:o.price=e.int32();break;case 7:o.priceUnit=e.int32();break;default:e.skipType(7&a)}}if(!o.hasOwnProperty("id"))throw s.ProtocolError("missing required 'id'",{instance:o});if(!o.hasOwnProperty("name"))throw s.ProtocolError("missing required 'name'",{instance:o});if(!o.hasOwnProperty("abilityType"))throw s.ProtocolError("missing required 'abilityType'",{instance:o});if(!o.hasOwnProperty("describe"))throw s.ProtocolError("missing required 'describe'",{instance:o});if(!o.hasOwnProperty("priceType"))throw s.ProtocolError("missing required 'priceType'",{instance:o});if(!o.hasOwnProperty("price"))throw s.ProtocolError("missing required 'price'",{instance:o});if(!o.hasOwnProperty("priceUnit"))throw s.ProtocolError("missing required 'priceUnit'",{instance:o});return o},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":o(e))||null===e?"object expected":s.isInteger(e.id)?s.isString(e.name)?s.isInteger(e.abilityType)?s.isString(e.describe)?s.isInteger(e.priceType)?s.isInteger(e.price)?s.isInteger(e.priceUnit)?null:"priceUnit: integer expected":"price: integer expected":"priceType: integer expected":"describe: string expected":"abilityType: integer expected":"name: string expected":"id: integer expected"},e.fromObject=function(e){if(e instanceof c.RoleUnlockMeta)return e;var t=new c.RoleUnlockMeta;return null!=e.id&&(t.id=0|e.id),null!=e.name&&(t.name=String(e.name)),null!=e.abilityType&&(t.abilityType=0|e.abilityType),null!=e.describe&&(t.describe=String(e.describe)),null!=e.priceType&&(t.priceType=0|e.priceType),null!=e.price&&(t.price=0|e.price),null!=e.priceUnit&&(t.priceUnit=0|e.priceUnit),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.name="",n.abilityType=0,n.describe="",n.priceType=0,n.price=0,n.priceUnit=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.abilityType&&e.hasOwnProperty("abilityType")&&(n.abilityType=e.abilityType),null!=e.describe&&e.hasOwnProperty("describe")&&(n.describe=e.describe),null!=e.priceType&&e.hasOwnProperty("priceType")&&(n.priceType=e.priceType),null!=e.price&&e.hasOwnProperty("price")&&(n.price=e.price),null!=e.priceUnit&&e.hasOwnProperty("priceUnit")&&(n.priceUnit=e.priceUnit),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.RoleUpgradeMeta=c.RoleUpgradeMeta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.roleGrade=0,e.prototype.abilityValue=0,e.prototype.type=0,e.prototype.upgradePrice=0,e.prototype.priceUnit=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),t.uint32(8).int32(e.id),t.uint32(16).int32(e.roleGrade),t.uint32(24).int32(e.abilityValue),t.uint32(32).int32(e.type),t.uint32(40).int32(e.upgradePrice),t.uint32(48).int32(e.priceUnit),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.RoleUpgradeMeta;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:o.id=e.int32();break;case 2:o.roleGrade=e.int32();break;case 3:o.abilityValue=e.int32();break;case 4:o.type=e.int32();break;case 5:o.upgradePrice=e.int32();break;case 6:o.priceUnit=e.int32();break;default:e.skipType(7&a)}}if(!o.hasOwnProperty("id"))throw s.ProtocolError("missing required 'id'",{instance:o});if(!o.hasOwnProperty("roleGrade"))throw s.ProtocolError("missing required 'roleGrade'",{instance:o});if(!o.hasOwnProperty("abilityValue"))throw s.ProtocolError("missing required 'abilityValue'",{instance:o});if(!o.hasOwnProperty("type"))throw s.ProtocolError("missing required 'type'",{instance:o});if(!o.hasOwnProperty("upgradePrice"))throw s.ProtocolError("missing required 'upgradePrice'",{instance:o});if(!o.hasOwnProperty("priceUnit"))throw s.ProtocolError("missing required 'priceUnit'",{instance:o});return o},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":o(e))||null===e?"object expected":s.isInteger(e.id)?s.isInteger(e.roleGrade)?s.isInteger(e.abilityValue)?s.isInteger(e.type)?s.isInteger(e.upgradePrice)?s.isInteger(e.priceUnit)?null:"priceUnit: integer expected":"upgradePrice: integer expected":"type: integer expected":"abilityValue: integer expected":"roleGrade: integer expected":"id: integer expected"},e.fromObject=function(e){if(e instanceof c.RoleUpgradeMeta)return e;var t=new c.RoleUpgradeMeta;return null!=e.id&&(t.id=0|e.id),null!=e.roleGrade&&(t.roleGrade=0|e.roleGrade),null!=e.abilityValue&&(t.abilityValue=0|e.abilityValue),null!=e.type&&(t.type=0|e.type),null!=e.upgradePrice&&(t.upgradePrice=0|e.upgradePrice),null!=e.priceUnit&&(t.priceUnit=0|e.priceUnit),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.roleGrade=0,n.abilityValue=0,n.type=0,n.upgradePrice=0,n.priceUnit=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.roleGrade&&e.hasOwnProperty("roleGrade")&&(n.roleGrade=e.roleGrade),null!=e.abilityValue&&e.hasOwnProperty("abilityValue")&&(n.abilityValue=e.abilityValue),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.upgradePrice&&e.hasOwnProperty("upgradePrice")&&(n.upgradePrice=e.upgradePrice),null!=e.priceUnit&&e.hasOwnProperty("priceUnit")&&(n.priceUnit=e.priceUnit),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.HurtUpgradeMeta=c.HurtUpgradeMeta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.hurtGrade=0,e.prototype.hurtNum=0,e.prototype.hurtUnit=0,e.prototype.type=0,e.prototype.upgradePrice=0,e.prototype.priceUnit=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),t.uint32(8).int32(e.id),t.uint32(16).int32(e.hurtGrade),t.uint32(24).int32(e.hurtNum),t.uint32(32).int32(e.hurtUnit),t.uint32(40).int32(e.type),t.uint32(48).int32(e.upgradePrice),t.uint32(56).int32(e.priceUnit),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.HurtUpgradeMeta;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:o.id=e.int32();break;case 2:o.hurtGrade=e.int32();break;case 3:o.hurtNum=e.int32();break;case 4:o.hurtUnit=e.int32();break;case 5:o.type=e.int32();break;case 6:o.upgradePrice=e.int32();break;case 7:o.priceUnit=e.int32();break;default:e.skipType(7&a)}}if(!o.hasOwnProperty("id"))throw s.ProtocolError("missing required 'id'",{instance:o});if(!o.hasOwnProperty("hurtGrade"))throw s.ProtocolError("missing required 'hurtGrade'",{instance:o});if(!o.hasOwnProperty("hurtNum"))throw s.ProtocolError("missing required 'hurtNum'",{instance:o});if(!o.hasOwnProperty("hurtUnit"))throw s.ProtocolError("missing required 'hurtUnit'",{instance:o});if(!o.hasOwnProperty("type"))throw s.ProtocolError("missing required 'type'",{instance:o});if(!o.hasOwnProperty("upgradePrice"))throw s.ProtocolError("missing required 'upgradePrice'",{instance:o});if(!o.hasOwnProperty("priceUnit"))throw s.ProtocolError("missing required 'priceUnit'",{instance:o});return o},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":o(e))||null===e?"object expected":s.isInteger(e.id)?s.isInteger(e.hurtGrade)?s.isInteger(e.hurtNum)?s.isInteger(e.hurtUnit)?s.isInteger(e.type)?s.isInteger(e.upgradePrice)?s.isInteger(e.priceUnit)?null:"priceUnit: integer expected":"upgradePrice: integer expected":"type: integer expected":"hurtUnit: integer expected":"hurtNum: integer expected":"hurtGrade: integer expected":"id: integer expected"},e.fromObject=function(e){if(e instanceof c.HurtUpgradeMeta)return e;var t=new c.HurtUpgradeMeta;return null!=e.id&&(t.id=0|e.id),null!=e.hurtGrade&&(t.hurtGrade=0|e.hurtGrade),null!=e.hurtNum&&(t.hurtNum=0|e.hurtNum),null!=e.hurtUnit&&(t.hurtUnit=0|e.hurtUnit),null!=e.type&&(t.type=0|e.type),null!=e.upgradePrice&&(t.upgradePrice=0|e.upgradePrice),null!=e.priceUnit&&(t.priceUnit=0|e.priceUnit),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.hurtGrade=0,n.hurtNum=0,n.hurtUnit=0,n.type=0,n.upgradePrice=0,n.priceUnit=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.hurtGrade&&e.hasOwnProperty("hurtGrade")&&(n.hurtGrade=e.hurtGrade),null!=e.hurtNum&&e.hasOwnProperty("hurtNum")&&(n.hurtNum=e.hurtNum),null!=e.hurtUnit&&e.hasOwnProperty("hurtUnit")&&(n.hurtUnit=e.hurtUnit),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.upgradePrice&&e.hasOwnProperty("upgradePrice")&&(n.upgradePrice=e.upgradePrice),null!=e.priceUnit&&e.hasOwnProperty("priceUnit")&&(n.priceUnit=e.priceUnit),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.SignInMeta=c.SignInMeta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.days=0,e.prototype.attackMagnification=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),t.uint32(8).int32(e.days),t.uint32(16).int32(e.attackMagnification),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.SignInMeta;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:o.days=e.int32();break;case 2:o.attackMagnification=e.int32();break;default:e.skipType(7&a)}}if(!o.hasOwnProperty("days"))throw s.ProtocolError("missing required 'days'",{instance:o});if(!o.hasOwnProperty("attackMagnification"))throw s.ProtocolError("missing required 'attackMagnification'",{instance:o});return o},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":o(e))||null===e?"object expected":s.isInteger(e.days)?s.isInteger(e.attackMagnification)?null:"attackMagnification: integer expected":"days: integer expected"},e.fromObject=function(e){if(e instanceof c.SignInMeta)return e;var t=new c.SignInMeta;return null!=e.days&&(t.days=0|e.days),null!=e.attackMagnification&&(t.attackMagnification=0|e.attackMagnification),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.days=0,n.attackMagnification=0),null!=e.days&&e.hasOwnProperty("days")&&(n.days=e.days),null!=e.attackMagnification&&e.hasOwnProperty("attackMagnification")&&(n.attackMagnification=e.attackMagnification),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.OfflineRevenueMeta=c.OfflineRevenueMeta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.offlineCoefficient=0,e.prototype.lowestOfflineTime=0,e.prototype.highestOfflineTime=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),t.uint32(8).int32(e.offlineCoefficient),t.uint32(16).int32(e.lowestOfflineTime),t.uint32(24).int32(e.highestOfflineTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.OfflineRevenueMeta;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:o.offlineCoefficient=e.int32();break;case 2:o.lowestOfflineTime=e.int32();break;case 3:o.highestOfflineTime=e.int32();break;default:e.skipType(7&a)}}if(!o.hasOwnProperty("offlineCoefficient"))throw s.ProtocolError("missing required 'offlineCoefficient'",{instance:o});if(!o.hasOwnProperty("lowestOfflineTime"))throw s.ProtocolError("missing required 'lowestOfflineTime'",{instance:o});if(!o.hasOwnProperty("highestOfflineTime"))throw s.ProtocolError("missing required 'highestOfflineTime'",{instance:o});return o},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":o(e))||null===e?"object expected":s.isInteger(e.offlineCoefficient)?s.isInteger(e.lowestOfflineTime)?s.isInteger(e.highestOfflineTime)?null:"highestOfflineTime: integer expected":"lowestOfflineTime: integer expected":"offlineCoefficient: integer expected"},e.fromObject=function(e){if(e instanceof c.OfflineRevenueMeta)return e;var t=new c.OfflineRevenueMeta;return null!=e.offlineCoefficient&&(t.offlineCoefficient=0|e.offlineCoefficient),null!=e.lowestOfflineTime&&(t.lowestOfflineTime=0|e.lowestOfflineTime),null!=e.highestOfflineTime&&(t.highestOfflineTime=0|e.highestOfflineTime),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.offlineCoefficient=0,n.lowestOfflineTime=0,n.highestOfflineTime=0),null!=e.offlineCoefficient&&e.hasOwnProperty("offlineCoefficient")&&(n.offlineCoefficient=e.offlineCoefficient),null!=e.lowestOfflineTime&&e.hasOwnProperty("lowestOfflineTime")&&(n.lowestOfflineTime=e.lowestOfflineTime),null!=e.highestOfflineTime&&e.hasOwnProperty("highestOfflineTime")&&(n.highestOfflineTime=e.highestOfflineTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.VipMeta=c.VipMeta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.time=0,e.prototype.rewardType=0,e.prototype.rewardNum=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),t.uint32(8).int32(e.type),t.uint32(16).int32(e.time),t.uint32(24).int32(e.rewardType),t.uint32(32).int32(e.rewardNum),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.VipMeta;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:o.type=e.int32();break;case 2:o.time=e.int32();break;case 3:o.rewardType=e.int32();break;case 4:o.rewardNum=e.int32();break;default:e.skipType(7&a)}}if(!o.hasOwnProperty("type"))throw s.ProtocolError("missing required 'type'",{instance:o});if(!o.hasOwnProperty("time"))throw s.ProtocolError("missing required 'time'",{instance:o});if(!o.hasOwnProperty("rewardType"))throw s.ProtocolError("missing required 'rewardType'",{instance:o});if(!o.hasOwnProperty("rewardNum"))throw s.ProtocolError("missing required 'rewardNum'",{instance:o});return o},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":o(e))||null===e?"object expected":s.isInteger(e.type)?s.isInteger(e.time)?s.isInteger(e.rewardType)?s.isInteger(e.rewardNum)?null:"rewardNum: integer expected":"rewardType: integer expected":"time: integer expected":"type: integer expected"},e.fromObject=function(e){if(e instanceof c.VipMeta)return e;var t=new c.VipMeta;return null!=e.type&&(t.type=0|e.type),null!=e.time&&(t.time=0|e.time),null!=e.rewardType&&(t.rewardType=0|e.rewardType),null!=e.rewardNum&&(t.rewardNum=0|e.rewardNum),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.time=0,n.rewardType=0,n.rewardNum=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.time&&e.hasOwnProperty("time")&&(n.time=e.time),null!=e.rewardType&&e.hasOwnProperty("rewardType")&&(n.rewardType=e.rewardType),null!=e.rewardNum&&e.hasOwnProperty("rewardNum")&&(n.rewardNum=e.rewardNum),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.ImageUpgradeMeta=c.ImageUpgradeMeta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.grade=0,e.prototype.imageId="",e.prototype.name="",e.prototype.backgroundId="",e.prototype.finalStage=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),t.uint32(8).int32(e.grade),t.uint32(18).string(e.imageId),t.uint32(26).string(e.name),t.uint32(34).string(e.backgroundId),t.uint32(40).int32(e.finalStage),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.ImageUpgradeMeta;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:o.grade=e.int32();break;case 2:o.imageId=e.string();break;case 3:o.name=e.string();break;case 4:o.backgroundId=e.string();break;case 5:o.finalStage=e.int32();break;default:e.skipType(7&a)}}if(!o.hasOwnProperty("grade"))throw s.ProtocolError("missing required 'grade'",{instance:o});if(!o.hasOwnProperty("imageId"))throw s.ProtocolError("missing required 'imageId'",{instance:o});if(!o.hasOwnProperty("name"))throw s.ProtocolError("missing required 'name'",{instance:o});if(!o.hasOwnProperty("backgroundId"))throw s.ProtocolError("missing required 'backgroundId'",{instance:o});if(!o.hasOwnProperty("finalStage"))throw s.ProtocolError("missing required 'finalStage'",{instance:o});return o},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":o(e))||null===e?"object expected":s.isInteger(e.grade)?s.isString(e.imageId)?s.isString(e.name)?s.isString(e.backgroundId)?s.isInteger(e.finalStage)?null:"finalStage: integer expected":"backgroundId: string expected":"name: string expected":"imageId: string expected":"grade: integer expected"},e.fromObject=function(e){if(e instanceof c.ImageUpgradeMeta)return e;var t=new c.ImageUpgradeMeta;return null!=e.grade&&(t.grade=0|e.grade),null!=e.imageId&&(t.imageId=String(e.imageId)),null!=e.name&&(t.name=String(e.name)),null!=e.backgroundId&&(t.backgroundId=String(e.backgroundId)),null!=e.finalStage&&(t.finalStage=0|e.finalStage),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.grade=0,n.imageId="",n.name="",n.backgroundId="",n.finalStage=0),null!=e.grade&&e.hasOwnProperty("grade")&&(n.grade=e.grade),null!=e.imageId&&e.hasOwnProperty("imageId")&&(n.imageId=e.imageId),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.backgroundId&&e.hasOwnProperty("backgroundId")&&(n.backgroundId=e.backgroundId),null!=e.finalStage&&e.hasOwnProperty("finalStage")&&(n.finalStage=e.finalStage),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.PetsAttackParameterMeta=c.PetsAttackParameterMeta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.hurtParameter=0,e.prototype.coinDropNum=0,e.prototype.coinDropParameter=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),t.uint32(8).int32(e.hurtParameter),t.uint32(16).int32(e.coinDropNum),t.uint32(24).int32(e.coinDropParameter),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.PetsAttackParameterMeta;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:o.hurtParameter=e.int32();break;case 2:o.coinDropNum=e.int32();break;case 3:o.coinDropParameter=e.int32();break;default:e.skipType(7&a)}}if(!o.hasOwnProperty("hurtParameter"))throw s.ProtocolError("missing required 'hurtParameter'",{instance:o});if(!o.hasOwnProperty("coinDropNum"))throw s.ProtocolError("missing required 'coinDropNum'",{instance:o});if(!o.hasOwnProperty("coinDropParameter"))throw s.ProtocolError("missing required 'coinDropParameter'",{instance:o});return o},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":o(e))||null===e?"object expected":s.isInteger(e.hurtParameter)?s.isInteger(e.coinDropNum)?s.isInteger(e.coinDropParameter)?null:"coinDropParameter: integer expected":"coinDropNum: integer expected":"hurtParameter: integer expected"},e.fromObject=function(e){if(e instanceof c.PetsAttackParameterMeta)return e;var t=new c.PetsAttackParameterMeta;return null!=e.hurtParameter&&(t.hurtParameter=0|e.hurtParameter),null!=e.coinDropNum&&(t.coinDropNum=0|e.coinDropNum),null!=e.coinDropParameter&&(t.coinDropParameter=0|e.coinDropParameter),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.hurtParameter=0,n.coinDropNum=0,n.coinDropParameter=0),null!=e.hurtParameter&&e.hasOwnProperty("hurtParameter")&&(n.hurtParameter=e.hurtParameter),null!=e.coinDropNum&&e.hasOwnProperty("coinDropNum")&&(n.coinDropNum=e.coinDropNum),null!=e.coinDropParameter&&e.hasOwnProperty("coinDropParameter")&&(n.coinDropParameter=e.coinDropParameter),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}();n.default=c,cc._RF.pop()},{"./protobufjs/minimal":"minimal"}],shareLpPanel:[function(e,t,n){"use strict";cc._RF.push(t,"4d89bCKuLtPu50X02zwmMBf","shareLpPanel");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../gamecore/managers/GameManager"),r=e("../../gamecore/tt/RecordScreenManger"),s=e("../../control/valuecount/MaxCount"),c=e("../../module/data/StageDataMgr"),l=e("../../GameUtils"),u=e("../../control/valuecount/MaxValue"),d=e("../../AndroidAd"),f=cc._decorator,p=f.ccclass,h=f.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skipBtn=null,t.txtGoldNum=null,t}return o(t,e),t.prototype.start=function(){r.default.getInstance().stop(),c.default.GOLDEN_EGG_GOLD_NUM=new u.default(0,0);new u.default(c.default.TEMP_GOLD_NUM.value,c.default.TEMP_GOLD_NUM.unit);this.txtGoldNum.string="X2",console.warn("\u6253\u5f00 shareLpPanel.ts"),d.default.instance.showNative()},t.prototype.onNormalClick=function(){this.node.active=!1,i.default.eventManager.dispatchEventWith("showGameEnd")},t.prototype.shareLp=function(){var e=this;d.default.instance.showReward(function(){e.node.active=!1,c.default.GOLDEN_EGG_GOLD_NUM=new u.default(c.default.TEMP_GOLD_NUM.value,c.default.TEMP_GOLD_NUM.unit);var t=s.default.instance.formatVlue(s.default.instance.formatCoid(c.default.GOLDEN_EGG_GOLD_NUM.value,c.default.GOLDEN_EGG_GOLD_NUM.unit));console.log(t,"ssssssssssssssss"),l.default.showToast("Congratulations on getting double gold: "+t),i.default.eventManager.dispatchEventWith("showGameEnd")})},t.prototype.onDisable=function(){console.warn("\u5173\u95ed shareLpPanel.ts"),d.default.instance.hideNative()},a([h(cc.Node)],t.prototype,"skipBtn",void 0),a([h(cc.Label)],t.prototype,"txtGoldNum",void 0),t=a([p],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../../AndroidAd":"AndroidAd","../../GameUtils":"GameUtils","../../control/valuecount/MaxCount":"MaxCount","../../control/valuecount/MaxValue":"MaxValue","../../gamecore/managers/GameManager":"GameManager","../../gamecore/tt/RecordScreenManger":"RecordScreenManger","../../module/data/StageDataMgr":"StageDataMgr"}]},{},["AndroidAd","GameSystem","GameUtils","SoundMgr","Test","BannerAuto","Buerry","CrossAdItemMain","CrossAdPanelMain","GameConfig","GameEventName","GameMetaManage","IphoneXFIt","MoveAction","NodePoolMgr","OnlineTimerMgr","ScaleAction","TranslucenceControl","BuriedPoints","ald-game-conf","ald-game","MaxCount","MaxValue","CircleAvatarItemMain","GameCoreUIConfig","IconAdBase","OpenDataProject","ToogleButtonMain","UsersData","BoardAdsItem","BoardAdsPanel","GameOverAdItemMain","GameOverAdsPanelMain","HotAdsPanelMain","RecommendAdItemMain","RecommendAdListMain","RecommendAdsPanelMain","DeerLog","ForLaya","GameCoreEventNames","GameCoreLocation","Callback","DeerLoading","Dictionary","GameValues","SyncDataToRemoteBase","SyncDataToServerByDeerSDK","SyncDataToWXCloud","BearAPI","Comp_AvatarImage","Comp_EffectFadeInAndOut","Comp_EffectFloat","Comp_EffectFlyTo","Comp_EffectShake","Comp_EffectZoom","Comp_FeedbackButton","Comp_GameClubButton","Comp_List","Comp_ListRenderer","Comp_LoadingSceneMain","Comp_MoveButton","Comp_MovieClip","Comp_MusicButton","Comp_PlatformContent","Comp_RemoteImage","Comp_SoundButton","Comp_SplashScreen","Comp_SubDomainContent","Comp_UserInfoButton","Comp_VibrateButton","DailyTaskBase","DailyTaskConfig","DailyTaskEventType","DailyTaskManager","Comp_DeerIconAd","Comp_DeerRecommendAdList","Comp_DeerSpineAd","DeerRequest","DeerSDK","DeerSDKEventNames","XyxAPI","md5","DataManager","GameManager","GestureManager","PopUpManager","PopUpType","ResManager","SceneManager","SoundsManager","TagManager","Utils","EventCallBack","EventData","EventDispacher","ItemBase","ItemManager","ItemProp","Command","Context","Base","FBIN","JRTT","Oppo","QQCM","QQCM_gameInfo","QQCM_getAvatarFromOpenId","Vivo","AppBox","Banner","RecordScreenManger","TextureRenderUtils","Comp_NearToMenuButton","Comp_NearToWXBannerAd","Comp_WXBannerAd","DeerBannerAd","WXBannerAd","WXBannerAdBase","WXCore","WXData","WXDevice","WXEventNames","WXImage","WXInterstitialAd","WXNativeAd","WXOpenData","WXRewardVideoAd","WXRewardVideoAdCloseComfirm","WXShare","WXUser","WXUtils","WXRankDataManager","WXRankEventNames","WXRankVO","ShareDataTypes","ShareTypes","XYJAPI","XYJEventNames","XYJMoreGameButton","MainDataMgr","StageDataMgr","Customs","HeroBasics","HeroUpgradeInfo","OffLine","PetAttackInfo","Sigin","SkinInfo","SkinLevelInfo","WeaponBulletUpgradeData","WeaponHarmUpgradeData","WeaponInfo","PBManager","pbcus","long","minimal","Load","Tips","GoldenEgg","GoldenEggReceive","GuideEventName","GuideNewControl","GuideNodeControl","GuideNodeManage","CoinAnim","OfflineReward","PartBase","PrivilegeCard","TrialWeapon","MainBg","MainFeedBack","MainGlodNot","MainGoldBox","MainIntensify","MainIntensifyMgr","MainOnShare","MainProperty","MainResetGame","MainScene","MainSetting","MainWelfare","Role","RoleSelect","RoleSelectItem","SkinItem","WeaponItem","RankEventName","RankItemRender","RankManage","RankRender","MainSigin","MainSiginitem","DoubleGift","DoubleGold","GoldMgr","Hero","HeroMgr","Monster","MonsterMgr","RoleMgr","Rope","RopeMgr","StageBackground","StageEnd","StageModeMain","StagePrompt","TopContent","Barrier","BarrierMgr","RingBarrier","BulletBase","BulletMgr","BulletNormal","PetBullet","PetBullet9001","PetBullet9003","PetBullet9004","Pet","shareLpPanel"]);